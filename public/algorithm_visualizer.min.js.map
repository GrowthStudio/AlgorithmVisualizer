{"version":3,"sources":["algorithm_visualizer.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_$","$","extend","cache","lastFileUsed","files","assertFileName","name","getCachedFile","updateCachedFile","updates","getLastFileUsed","setLastFileUsed","file","2","Editor","TracerManager","DOM","_require","showLoadingSlider","hideLoadingSlider","Cache","state","isLoading","editor","tracerManager","categories","loadedScratch","wikiList","initState","App","this","getIsLoading","setIsLoading","loading","getEditor","getCategories","getCategory","setCategories","updateCategory","getTracerManager","getLoadedScratch","setLoadedScratch","getWikiList","setWikiList","hasWiki","wiki","indexOf","init","setup","prototype","../dom/loading_slider","../dom/setup","../editor","../tracer_manager","./cache","3","4","array2D","modules","util","getTracerName","document","getElementById","value","getNumColumns","column_field","logger","arr1DTracer","button_1DMatrix","addEventListener","clearModules","Array1DTracer","arrElem","querySelector","mousescroll","LogTracer","numColumns","data","fauxData","setData","tableToInputFields","positionModules","refresh","button_JS","generateJS","../module","./array2d","./util","5","getNumRows","row_field","c","D","push","j","Math","floor","random","numRows","table","elem","createElement","type","classList","add","childNodes","innerHTML","appendChild","tracer","tracerName","clear","print","currVal","nors","line","comma","Number","isNaN","enabledHightlighting","colmElem","inputFields","undefined","wheelDelta","detail","getElementsByClassName","style","width","parseFloat","fontSize","arr2DTracer","button_2DMatrix","Array2DTracer","6","array2d","array1d","Server","getPath","closeCreate","$btnClose","click","remove","reloadAlgorithm","_getPath","category","algorithm","loadAlgorithm","then","showAlgorithm","createHTML","append","check","clickTraceTab","../dom","../server","../server/helpers","./array1d","7","elems","spacing","bottom","top","parent","parentElement","numChild","removeChild","firstChild","wrapper","btn","8","app","each","getAlgorithmDOM","subList","attr","addCategoryToDOM","_app$getCategory","categoryName","categorySubList","list","$category","$self","toggleClass","find","next","toggle","$algorithms","$algorithm","../app","./show_algorithm","9","addFileToDOM","explanation","$file","loadFile","removeClass","addClass","requestedFile","empty","first","scroll","10","reqFunc","extFunc","reqFuncs","extFuncs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","tmpReqFunc","body","err","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","tmpExtFunc","$btnFullscreen","fullScreen","mozFullScreen","webkitIsFullScreen","11","$buttons","keyup","query","val","re","RegExp","hide","show","$c","hasClass","filter","cName","test","text","children","12","addCategories","showDescription","addFiles","showFirstAlgorithm","showRequestedAlgorithm","showWiki","enableSearch","resizeWorkspace","enableFullScreen","./add_categories","./add_files","./enable_fullscreen","./enable_search","./resize_workspace","./show_description","./show_first_algorithm","./show_requested_algorithm","./show_wiki","13","14","create","$container","15","resize","16","setupDividers","setupDocument","setupFilesBar","setupInterval","setupModuleContainer","setupTabContainer","setupSideMenu","setupTopMenu","setupWindow","stopPropagation","./setup_dividers","./setup_document","./setup_files_bar","./setup_interval","./setup_module_container","./setup_side_menu","./setup_tab_container","./setup_top_menu","./setup_window","17","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Array","isArray","Object","TypeError","addDividerToDom","divider","_divider","vertical","$first","$second","$parent","thickness","$divider","dragging","_left","css","left","x","mousedown","_ref","pageX","mousemove","_ref2","new_left","position","percent","min","max","mouseup","_top","height","right","y","_ref3","pageY","_ref4","new_top","dividers","../../app","../resize_workspace","18","on","href","preventDefault","window","open","alert","command","19","definitelyBigger","$wrapper","clipWidth","scrollLeft","get","reverse","outerWidth","$left","$right","lefter","righter","20","Toast","minInterval","maxInterval","startInterval","stepInterval","normalize","sec","interval","message","$interval","step","_normalize","_normalize2","seconds","showInfoToast","../toast","21","$module_container","findOwner","mousewheel","22","sidemenu_percent","$sidemenu","$workspace","animate","../../server","../show_algorithm","23","24","TopMenu","select","$icon","shareScratchPaper","url","$btnRun","$btnTrace","$btnPause","$btnPrev","$btnNext","$btnGenerate","disableFlowControl","enableFlowControl","execute","console","error","showErrorToast","resetTopMenuButtons","isPause","resumeStep","pauseStep","prevStep","nextStep","../../create","../top_menu","25","26","utils","$menu","category_name","algorithm_name","isScratchPaper","categoryObj","html","clearContent","renderMathJax","../utils","27","_typeof","obj","constructor","key","$ul","forEach","li","_$ul","prop","$type","$value","28","29","30","converter","showdown","Converter","tables","loadWiki","makeHtml","scrollTop","31","showToast","$toast","setTimeout","fadeOut","32","flowControlBtns","setFlowControlState","isDisabled","$btn","unhighlightLine","setInterval","activateBtnPause","deactivateBtnPause","33","id","ace","edit","setOptions","enableBasicAutocompletion","enableSnippets","enableLiveAutocompletion","setTheme","session","setMode","$blockScrolling","Infinity","34","dataLines","deallocateAll","lines","split","newLines","replace","eval","Babel","transform","join","presets","visualize","removeUnallocated","executeData","algoData","executeDataAndCode","algoCode","35","_this","Range","dataEditor","createEditor","codeEditor","setValue","setCode","setContent","clearData","clearCode","getValue","Executor","highlightLine","lineNumber","getSession","marker","removeMarker","addMarker","reset","../dom/top_menu","./create","./executor","36","RSVP","AppConstructor","ajaxSetup","dataType","_require2","getHashValue","getParameterByName","reason","assert","appConstructor","loadCategories","postMessage","JSON","stringify","status","trigger","v1LoadedScratch","v2LoadedScratch","vLoadedScratch","location","protocol","host","pathname","./app","./app/constructor","./dom","./module","./server","./server/helpers","./utils","rsvp","37","Array2D","N","randomSorted","38","Integer","M","map","sort","b","./integer","39","C","40","ratio","G","41","Array1D","CoordinateSystem","DirectedGraph","UndirectedGraph","WeightedDirectedGraph","WeightedUndirectedGraph","./coordinate_system","./directed_graph","./undirected_graph","./weighted_directed_graph","./weighted_undirected_graph","42","43","44","45","46","tracers","datas","./data","./tracer","47","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","enumerable","writable","configurable","setPrototypeOf","__proto__","_get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","_createClass","defineProperties","target","props","descriptor","defineProperty","protoProps","staticProps","_Array2DTracer","idx","v","options","chartTracer","newStep","capsule","sy","ey","sx","ex","processStep","48","Tracer","refineByType","_Tracer","isNew","initView","manager","pushStep","pushSelectingStep","arguments","_separate","_deseparate","args","slice","shift","mode","coord","$row","$table","eq","$col","color","selected","notified","paint","paintColor","deseparate","separate","viewX","viewY","paddingH","paddingV","apply","getCellCss","clearColor","deseparateAll","padding","toFixed","font-size","dragX","dragY","originalEvent","delta","weight","after","../../tracer_manager/util/index","49","ChartTracer","chart","config","datasets","update","labels","String","backgroundColor","toString","Chart","scales","yAxes","ticks","beginAtZero","animation","legend","responsive","maintainAspectRatio","50","DirectedGraphTracer","CoordinateSystemTracer","_DirectedGraphTracer","graph","nodes","edges","label","size","read","camera","goTo","angle","visit","targetNode","visited","source","edgeId","edge","dropEdge","addEdge","logTracer","v1","v2","temp","node","context","settings","setLineDash","nodeIdx","substring","ends","drawEdge","prefix","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","defaultEdgeType","funcEdgesDef","getColor","51","root","positions","setTreeData","undirected","maxDepth","chk","getDepth","depth","place","wgap","dfs","vgap","cnt","unitAngle","PI","currentAngle","sin","cos","_j","renderers","clearGraphColor","edgeColor","defaultNodeColor","defaultEdgeColor","font","fillStyle","textAlign","fillText","round","tSize","sX","sY","tX","tY","atan2","dist","aSize","d","sqrt","pow","aX","aY","vX","vY","closePath","fill","drawArrow","sigma","renderer","container","minArrowSize","maxEdgeSize","labelThreshold","defaultLabelColor","zoomMin","zoomMax","skipErrors","minNodeSize","maxNodeSize","labelSize","labelSizeRatio","funcLabelsDef","drawLabel","funcHoversDef","drawOnHover","funcEdgesArrow","plugins","dragNodes","canvas","def","func","hovers","arrow","52","DirectedGraphConstructTracer","nodePlacement","nodeCollection","element","idToFind","result","addRoot","addNode","nodeObject","_findNode","rootObject","createGraphNode","drawGraph","level","nodeConstruct","parentObject","isSpliced","insertIndex","child","originalVal","splice","nodeLevel","arrangeChildNodes","offsetWidth","midPoint","addGraphNode","calculatedX","childNode","isVisited","colorPalete","53","UndirectedGraphTracer","WeightedDirectedGraphTracer","WeightedUndirectedGraphTracer","./chart","./directed_graph_construct","./log","54","msg","scrollToEnd","action","duration","scrollHeight","55","_toConsumableArray","arr2","from","toJSON","fromJSON","default","allocate","setName","_len","_key","$name","defaultName","lastData","56","57","clearWeights","dX","dY","save","active","textBaseline","translate","rotate","restore","edgeLabelSize","defaultEdgeLabelSize","edgeLabelSizePowRatio","drawNodeWeight","drawEdgeWeight","58","_WeightedDirectedGrap","59","request","./request","60","61","62","ajax","defaults","Promise","resolve","reject","callbacks","success","response","opts","63","checkLoading","regex","results","exec","_results","hash","substr","params","pair","setHashValue","found","newHash","removeHashValue","setPath","path","_hash$split","_hash$split2","../dom/toast","64","loadScratchPaper","loadWikiList","./load_algorithm","./load_categories","./load_file","./load_scratch_paper","./load_wiki","./load_wiki_list","./share_scratch_paper","65","getJSON","getAlgorithmDir","dir","./ajax/get_json","66","67","getFileDir","loadDataAndCode","loadFileAndUpdateContent","content","cachedContentExists","cachedFile","./ajax/get","./helpers","68","extractGistCode","gistID","CREDIT.md","69","70","71","postJSON","_app$getEditor","gist","description","public","data.js","code.js","_location","./ajax/post_json","72","tm","../module/tracer/tracer","./manager","73","ModuleContainer","grep","stepLimit","timer","pause","capsules","allocated","newTracer","selectedCapsule","count","className","getClassName","order","changed","removed","traces","traceIndex","stepCnt","clearTimeout","len","last","trace","virtual","finalIndex","functionName","../dom/module_container","74","parse","75","./from_json","./refine_by_type","./to_json","76","item","refineNumber","refineBoolean","refineString","str","num","bool","77","78","MathJax","Hub","Queue","79","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","concat","queueIndex","drainQueue","timeout","run","Item","array","noop","process","nextTick","title","browser","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","80","global","factory","define","amd","callback","callbacksFor","_promiseCallbacks","configure","objectOrFunction","isFunction","isObject","isMaybeThenable","scheduleFlush","entry","payload","guid","childGuid","childId","stack","instrument","eventName","promise","_guidKey","_id","_result","_label","timeStamp","now","resolve$1","withOwnPromise","getThen","GET_THEN_ERROR","tryThen","then$$1","fulfillmentHandler","rejectionHandler","handleForeignThenable","thenable","async","sealed","fulfill","handleOwnThenable","_state","FULFILLED","REJECTED","_onError","subscribe","handleMaybeThenable","maybeThenable","isOwnThenable","publishRejection","publish","PENDING","_subscribers","onFulfillment","onRejection","subscribers","settled","invokeCallback","ErrorObject","tryCatch","TRY_CATCH_ERROR","hasCallback","initializePromise","resolver","resolved","Enumerator","input","abortOnReject","_instanceConstructor","_abortOnReject","_init","makeSettledResult","all","entries","race","reject$1","needsResolver","needsNew","counter","Result","getThen$1","ERROR","tryApply","makeObject","_","argumentNames","arrayResult","wrapThenable","onFulFillment","denodeify","nodeFunc","fn","promiseInput","arg","needsPromiseInput","GET_THEN_ERROR$1","p","handlePromiseInput","handleValueInput","all$1","allSettled","AllSettled","race$1","_possibleConstructorReturn$1","_inherits$1","PromiseHash","_possibleConstructorReturn$2","_inherits$2","hashSettled","HashSettled","rethrow","defer","deferred","promises","mapFn","values","resolve$2","reject$2","resolveAll","resolveSingle","filterFn","filtered","newLength","asap","queue$1","scheduleFlush$1","useNextTick","match","setImmediate","flush","useVertxTimer","vertxNext","useSetTimeout","useMutationObserver","iterations","observer","BrowserMutationObserver","createTextNode","observe","characterData","useMessageChannel","channel","MessageChannel","port1","onmessage","port2","attemptVertex","vertx","runOnLoop","runOnContext","_defineProperty","EventTarget","mixin","allCallbacks","index","_isArray","Date","getTime","_remaining","_enumerate","_eachEntry","_settleMaybeThenable","resolve$$1","_settledAt","_makeResult","_willSettleAt","enumerator","guidKey","cast","_Enumerator","hasOwnProperty","_PromiseHash","browserWindow","browserGlobal","MutationObserver","WebKitMutationObserver","isNode","isWorker","Uint8ClampedArray","importScripts","platform","_asap$cast$Promise$Ev","cb","_process"],"mappings":"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","file":"algorithm_visualizer.min.js","sourcesContent":["/**\n * algorithm-visualizer - Algorithm Visualizer\n * @version v0.1.0\n * @author Jason Park & contributors\n * @link https://github.com/parkjs814/AlgorithmVisualizer#readme\n * @license MIT\n */\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _$ = $,\n    extend = _$.extend;\n\n\nvar cache = {\n  lastFileUsed: '',\n  files: {}\n};\n\nvar assertFileName = function assertFileName(name) {\n  if (!name) {\n    throw 'Missing file name';\n  }\n};\n\n/**\n * Global application cache\n */\nmodule.exports = {\n  getCachedFile: function getCachedFile(name) {\n    assertFileName(name);\n    return cache.files[name];\n  },\n  updateCachedFile: function updateCachedFile(name, updates) {\n    assertFileName(name);\n    if (!cache.files[name]) {\n      cache.files[name] = {};\n    }\n    extend(cache.files[name], updates);\n  },\n  getLastFileUsed: function getLastFileUsed() {\n    return cache.lastFileUsed;\n  },\n  setLastFileUsed: function setLastFileUsed(file) {\n    cache.lastFileUsed = file;\n  }\n};\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar Editor = require('../editor');\nvar TracerManager = require('../tracer_manager');\nvar DOM = require('../dom/setup');\n\nvar _require = require('../dom/loading_slider'),\n    showLoadingSlider = _require.showLoadingSlider,\n    hideLoadingSlider = _require.hideLoadingSlider;\n\nvar Cache = require('./cache');\n\nvar state = {\n  isLoading: null,\n  editor: null,\n  tracerManager: null,\n  categories: null,\n  loadedScratch: null,\n  wikiList: null\n};\n\nvar initState = function initState(tracerManager) {\n  state.isLoading = false;\n  state.editor = new Editor(tracerManager);\n  state.tracerManager = tracerManager;\n  state.categories = {};\n  state.loadedScratch = null;\n  state.wikiList = [];\n};\n\n/**\n * Global application singleton.\n */\nvar App = function App() {\n\n  this.getIsLoading = function () {\n    return state.isLoading;\n  };\n\n  this.setIsLoading = function (loading) {\n    state.isLoading = loading;\n    if (loading) {\n      showLoadingSlider();\n    } else {\n      hideLoadingSlider();\n    }\n  };\n\n  this.getEditor = function () {\n    return state.editor;\n  };\n\n  this.getCategories = function () {\n    return state.categories;\n  };\n\n  this.getCategory = function (name) {\n    return state.categories[name];\n  };\n\n  this.setCategories = function (categories) {\n    state.categories = categories;\n  };\n\n  this.updateCategory = function (name, updates) {\n    $.extend(state.categories[name], updates);\n  };\n\n  this.getTracerManager = function () {\n    return state.tracerManager;\n  };\n\n  this.getLoadedScratch = function () {\n    return state.loadedScratch;\n  };\n\n  this.setLoadedScratch = function (loadedScratch) {\n    state.loadedScratch = loadedScratch;\n  };\n\n  this.getWikiList = function () {\n    return state.wikiList;\n  };\n\n  this.setWikiList = function (wikiList) {\n    state.wikiList = wikiList;\n  };\n\n  this.hasWiki = function (wiki) {\n    return ~state.wikiList.indexOf(wiki);\n  };\n\n  var tracerManager = TracerManager.init();\n\n  initState(tracerManager);\n  DOM.setup(tracerManager);\n};\n\nApp.prototype = Cache;\n\nmodule.exports = App;\n\n},{\"../dom/loading_slider\":13,\"../dom/setup\":16,\"../editor\":35,\"../tracer_manager\":72,\"./cache\":1}],3:[function(require,module,exports){\n'use strict';\n\n/**\n * This is the main application instance.\n * Gets populated on page load. \n */\n\nmodule.exports = {};\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nvar array2D = require('./array2d');\nvar modules = require('../module');\nvar util = require('./util');\n\nvar getTracerName = function getTracerName() {\n    return document.getElementById(\"tracerName-1D\").value;\n};\n\nvar getNumColumns = function getNumColumns() {\n    var column_field = document.getElementById('numColumns-1D');\n    return column_field.value;\n};\n\nvar setup = function setup() {\n    var button_1DMatrix = document.getElementById(\"button-1DMatrix\");\n    var logger;\n    var arr1DTracer;\n    button_1DMatrix.addEventListener('click', function () {\n        util.clearModules();\n        arr1DTracer = new modules.Array1DTracer();\n        var arrElem = document.querySelector('.module_wrapper');\n        arrElem.addEventListener(\"mousewheel\", array2D.mousescroll, false);\n        arrElem.addEventListener(\"DOMMouseScroll\", array2D.mousescroll, false);\n        logger = new modules.LogTracer('Generated Javascript');\n\n        var numColumns = getNumColumns();\n        var data = array2D.fauxData(1, numColumns)[0];\n\n        arr1DTracer.setData(data);\n        array2D.tableToInputFields(1, numColumns);\n        util.positionModules();\n        arr1DTracer.refresh();\n    }, false);\n    var button_JS = document.getElementById('button-generateJS-1D');\n    button_JS.addEventListener('click', function () {\n        array2D.generateJS(logger, 'Array1DTracer', getTracerName());\n    }, false);\n};\n\nmodule.exports = {\n    setup: setup\n};\n\n},{\"../module\":46,\"./array2d\":5,\"./util\":7}],5:[function(require,module,exports){\n'use strict';\n\nvar modules = require('../module');\nvar util = require('./util');\n\nvar getTracerName = function getTracerName() {\n    return document.getElementById(\"tracerName-2D\").value;\n};\n\nvar getNumRows = function getNumRows() {\n    var row_field = document.getElementById('numRows-2D');\n    return row_field.value;\n};\n\nvar getNumColumns = function getNumColumns() {\n    var column_field = document.getElementById('numColumns-2D');\n    return column_field.value;\n};\n\nvar fauxData = function fauxData(r, c) {\n    var D = [];\n    for (var i = 0; i < r; i++) {\n        D.push([]);\n        for (var j = 0; j < c; j++) {\n            D[i].push(Math.floor(Math.random() * 10 + 1));\n        }\n    }\n    return D;\n};\n\nvar tableToInputFields = function tableToInputFields(numRows, numColumns) {\n    var table = document.querySelector('.mtbl-table');\n\n    for (var i = 0; i < numRows; i++) {\n        for (var j = 0; j < numColumns; j++) {\n            var elem = document.createElement('input');\n            elem.type = 'Text';\n            elem.value = Math.floor(Math.random() * 10 + 1);\n            elem.classList.add('mtbl-col', 'inputField');\n            table.childNodes[i].childNodes[j].innerHTML = '';\n            table.childNodes[i].childNodes[j].appendChild(elem);\n        }\n    }\n};\n\nvar generateJS = function generateJS(logger, tracer, tracerName) {\n    if (!logger) return;\n\n    logger.clear();\n    var table = document.querySelector('.mtbl-table');\n\n    var numRows = table.childNodes.length;\n    var numColumns = table.childNodes[0].childNodes.length;\n\n    logger.print('Copy and paste this code in your data.js file!');\n    logger.print('');\n\n    if (numRows > 1) {\n        logger.print('let myTable = [');\n    }\n\n    var line = 'let myTable = [';\n    var i;\n    var j;\n    var comma = ',';\n    var currVal;\n    var nors;\n    for (i = 0; i < numRows; i++) {\n        if (numRows > 1) {\n            line = '[';\n        }\n        for (j = 0; j < numColumns - 1; j++) {\n            currVal = table.childNodes[i].childNodes[j].childNodes[0].value;\n            nors = Number(currVal);\n            if (isNaN(nors)) {\n                currVal = \"'\" + currVal + \"'\";\n            }\n            line += currVal + ',';\n        }\n        if (i === numRows - 1) {\n            comma = '';\n        }\n        currVal = table.childNodes[i].childNodes[j++].childNodes[0].value;\n        nors = Number(currVal);\n        if (isNaN(nors)) {\n            currVal = \"'\" + currVal + \"'\";\n        }\n        line += currVal + ']' + comma;\n        logger.print(line);\n    }\n    if (numRows > 1) {\n        logger.print(']');\n    }\n\n    logger.print(\"let myTableTracer = new \" + tracer + \" ('\" + tracerName + \"')\");\n    logger.print('myTableTracer._setData (myTable)');\n\n    util.enabledHightlighting();\n};\n\nvar mousescroll = function mousescroll(e) {\n    var colmElem = document.querySelector('.mtbl-col');\n    var delta = e.wheelDelta !== undefined && e.wheelDelta || e.detail !== undefined && -e.detail;\n\n    var inputFields = document.getElementsByClassName(\"inputField\");\n    for (var i = 0; i < inputFields.length; i++) {\n        inputFields[i].style.width = parseFloat(colmElem.style.fontSize) * 2.5 + \"px\";\n    }\n};\n\nvar setup = function setup() {\n    var button_2DMatrix = document.getElementById(\"button-2DMatrix\");\n    var logger;\n    var arr2DTracer;\n    button_2DMatrix.addEventListener('click', function () {\n        util.clearModules();\n        arr2DTracer = new modules.Array2DTracer();\n        var arrElem = document.querySelector('.module_wrapper');\n        arrElem.addEventListener(\"mousewheel\", mousescroll, false);\n        arrElem.addEventListener(\"DOMMouseScroll\", mousescroll, false);\n        logger = new modules.LogTracer('Generated Javascript');\n\n        var numRows = getNumRows();\n        var numColumns = getNumColumns();\n        var data = fauxData(numRows, numColumns);\n\n        arr2DTracer.setData(data);\n        tableToInputFields(numRows, numColumns);\n        util.positionModules();\n        arr2DTracer.refresh();\n    }, false);\n    var button_JS = document.getElementById('button-generateJS-2D');\n    button_JS.addEventListener('click', function () {\n        generateJS(logger, 'Array2DTracer', getTracerName());\n    }, false);\n};\n\nmodule.exports = {\n    setup: setup,\n    mousescroll: mousescroll,\n    fauxData: fauxData,\n    tableToInputFields: tableToInputFields,\n    generateJS: generateJS\n};\n\n},{\"../module\":46,\"./util\":7}],6:[function(require,module,exports){\n'use strict';\n\nvar modules = require('../module');\nvar array2d = require('./array2d');\nvar array1d = require('./array1d');\nvar util = require('./util');\nvar Server = require('../server');\nvar DOM = require('../dom');\n\nvar _require = require('../server/helpers'),\n    getPath = _require.getPath;\n\nvar closeCreate = function closeCreate() {\n    var $btnClose = $('#btn_close');\n\n    $btnClose.click(function () {\n        $('.sandbox_container').remove();\n        util.clearModules();\n        reloadAlgorithm();\n    });\n};\n\nvar reloadAlgorithm = function reloadAlgorithm() {\n    var _getPath = getPath(),\n        category = _getPath.category,\n        algorithm = _getPath.algorithm,\n        file = _getPath.file;\n\n    Server.loadAlgorithm(category, algorithm).then(function (data) {\n        DOM.showAlgorithm(category, algorithm, data);\n    });\n};\n\nvar createHTML = function createHTML() {\n    $('.workspace').append(\"<div class='sandbox_container'>\\\n            <section class='close_bar'>\\\n            <div class='btn' id='btn_close'>\\\n                <div class='wrapper'>\\\n                    <i class='fa fa-times' aria-hidden='true'></i>\\\n                </div>\\\n            </div>\\\n            </section>\\\n            <section class='auto-gen'>\\\n                <div class='grid' id='array1D-gen'>\\\n                <div> array1DTracer </div>\\\n                <i class='fa fa-ellipsis-h fa-5x' aria-hidden='true'></i>\\\n                <div class='fields'>\\\n                # of Columns: <input class='inputs'id='numColumns-1D' type='number' value='5'>\\\n                </div>\\\n                <div class='fields'>\\\n                Tracer Name: <input class='inputs'id='tracerName-1D' type='text' value='default'>\\\n                </div>\\\n                <button class='sb-button' id='button-1DMatrix'>Create 1DMatrix</button>\\\n                <button class='sb-button' id='button-generateJS-1D'>Generate Javascript</button>\\\n                </div>\\\n                <div class='grid' id='array2D-gen'>\\\n                <div> array2DTracer </div>\\\n                <i class='fa fa-th fa-5x' aria-hidden='true'></i>\\\n                <div class='fields'>\\\n                # of Rows: <input class='inputs'id='numRows-2D' type='number' value='5'>\\\n                </div>\\\n                <div class='fields'>\\\n                # of Columns: <input class='inputs'id='numColumns-2D' type='number' value='5'>\\\n                </div>\\\n                <div class='fields'>\\\n                Tracer Name: <input class='inputs'id='tracerName-2D' type='text' value='default'>\\\n                </div>\\\n                <button class='sb-button' id='button-2DMatrix'>Create 2DMatrix</button>\\\n                <button class='sb-button' id='button-generateJS-2D'>Generate Javascript</button>\\\n                </div>\\\n                <div class='grid' id='chart-gen'></div>\\\n                <div class='grid' id='graph-gen'></div>\\\n            </section>\\\n    </div>\");\n};\n\nvar init = function init() {\n\n    var check = $('.sandbox_container');\n    if (!check.length) {\n        util.clearModules();\n        createHTML();\n        array2d.setup();\n        array1d.setup();\n        closeCreate();\n        util.clickTraceTab();\n    }\n};\n\nmodule.exports = {\n    init: init\n};\n\n},{\"../dom\":12,\"../module\":46,\"../server\":64,\"../server/helpers\":63,\"./array1d\":4,\"./array2d\":5,\"./util\":7}],7:[function(require,module,exports){\n'use strict';\n\nvar positionModules = function positionModules() {\n    var elems = document.getElementsByClassName('module_wrapper');\n    if (elems <= 0) return;\n\n    var n = elems.length;\n    var spacing = 100 / n;\n\n    for (var i = 0; i < n; i++) {\n        if (i === 0) {\n            elems[i].style.bottom = spacing * (n - 1) + '%';\n        } else if (i === n - 1) {\n            elems[i].style.top = spacing * i + '%';\n        } else {\n            elems[i].style.top = spacing * i + '%';\n            elems[i].style.bottom = spacing * i + '%';\n        }\n    }\n};\n\nvar clearModules = function clearModules() {\n    var elems = document.getElementsByClassName('module_wrapper');\n    if (elems.length > 0) {\n        var parent = elems[0].parentElement;\n        var numChild = parent.childNodes.length;\n        for (var i = 0; i < numChild; i++) {\n            parent.removeChild(parent.firstChild);\n        }\n    }\n};\n\nvar enabledHightlighting = function enabledHightlighting() {\n    var elems = document.getElementsByClassName('module_wrapper');\n    var logger = elems[1];\n    var wrapper = logger.childNodes[1];\n    for (var i = 0; i < wrapper.childNodes.length; i++) {\n        wrapper.childNodes[i].style[\"-webkit-user-select\"] = \"all\";\n    }\n};\n\nvar clickTraceTab = function clickTraceTab() {\n    var btn = document.getElementById('btn_trace');\n    if (btn) {\n        btn.click();\n    }\n};\n\nmodule.exports = {\n    enabledHightlighting: enabledHightlighting,\n    positionModules: positionModules,\n    clearModules: clearModules,\n    clickTraceTab: clickTraceTab\n};\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app');\nvar Server = require('../server');\nvar showAlgorithm = require('./show_algorithm');\n\nvar _$ = $,\n    each = _$.each;\n\n\nvar getAlgorithmDOM = function getAlgorithmDOM(category, subList, algorithm) {\n  return $('<button class=\"indent\">').append(subList[algorithm]).attr('data-algorithm', algorithm).attr('data-category', category).click(function () {\n    Server.loadAlgorithm(category, algorithm).then(function (data) {\n      showAlgorithm(category, algorithm, data);\n    });\n  });\n\n  $('#list').append($algorithm);\n};\n\nvar addCategoryToDOM = function addCategoryToDOM(category) {\n  var _app$getCategory = app.getCategory(category),\n      categoryName = _app$getCategory.name,\n      categorySubList = _app$getCategory.list;\n\n  var $category = $('<button class=\"category\">').append('<i class=\"fa fa-fw fa-caret-right\">').append(categoryName).attr('data-category', category);\n\n  $category.click(function () {\n    var $self = $(this);\n    $self.toggleClass('open');\n    $self.find('i.fa').toggleClass('fa-caret-right fa-caret-down');\n    $self.next().toggle(300);\n  });\n\n  var $algorithms = $('<div class=\"algorithms collapse\">');\n  $('#list').append($category).append($algorithms);\n\n  each(categorySubList, function (algorithm) {\n    var $algorithm = getAlgorithmDOM(category, categorySubList, algorithm);\n    $algorithms.append($algorithm);\n  });\n};\n\nmodule.exports = function () {\n  each(app.getCategories(), addCategoryToDOM);\n};\n\n},{\"../app\":3,\"../server\":64,\"./show_algorithm\":26}],9:[function(require,module,exports){\n'use strict';\n\nvar Server = require('../server');\n\nvar _$ = $,\n    each = _$.each;\n\n\nvar addFileToDOM = function addFileToDOM(category, algorithm, file, explanation) {\n  var $file = $('<button>').append(file).attr('data-file', file).click(function () {\n    Server.loadFile(category, algorithm, file, explanation);\n    $('.files_bar > .wrapper > button').removeClass('active');\n    $(this).addClass('active');\n  });\n  $('.files_bar > .wrapper').append($file);\n  return $file;\n};\n\nmodule.exports = function (category, algorithm, files, requestedFile) {\n  $('.files_bar > .wrapper').empty();\n\n  each(files, function (file, explanation) {\n    var $file = addFileToDOM(category, algorithm, file, explanation);\n    $file.addClass('tab_button');\n    if (requestedFile && requestedFile == file) $file.click();\n  });\n\n  if (!requestedFile) $('.files_bar > .wrapper > button').first().click();\n  $('.files_bar > .wrapper').scroll();\n};\n\n},{\"../server\":64}],10:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function () {\n  var reqFunc = null;\n  var extFunc = null;\n  var reqFuncs = ['requestFullscreen', 'webkitRequestFullscreen', 'mozRequestFullScreen', 'msRequestFullscreen'];\n  var extFuncs = ['exitFullscreen', 'webkitExitFullscreen', 'mozCancelFullScreen', 'msExitFullscreen'];\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = reqFuncs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var tmpReqFunc = _step.value;\n\n      if (document.body[tmpReqFunc]) {\n        reqFunc = tmpReqFunc;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = extFuncs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var tmpExtFunc = _step2.value;\n\n      if (document[tmpExtFunc]) {\n        extFunc = tmpExtFunc;\n      }\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n\n  var $btnFullscreen = $('#btn_fullscreen');\n\n  $btnFullscreen.click(function () {\n    if (document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen) {\n      if (extFunc) document[extFunc]();\n    } else {\n      if (reqFunc) document.body[reqFunc]();\n    }\n  });\n};\n\n},{}],11:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function () {\n\tvar $buttons = $('[data-category]');\n\n\t$('#search-bar').keyup(function () {\n\t\tvar query = $(this).val();\n\t\tvar re = new RegExp(query, 'i');\n\n\t\tquery ? $('#footer').hide() : $('#footer').show();\n\t\t$.each($('#list .category'), function (i, c) {\n\t\t\tvar $c = $(c);\n\t\t\t!$c.hasClass('open') && $c.click();\n\t\t});\n\n\t\t$buttons.show().filter(function () {\n\t\t\tvar cName = $(this).attr('data-category');\n\n\t\t\tif ($(this).hasClass('category')) {\n\t\t\t\treturn !re.test($('[data-category=\"' + cName + '\"]').text());\n\t\t\t} else {\n\t\t\t\treturn !(re.test($('.category[data-category=\"' + cName + '\"]').text()) || re.test($(this).text()));\n\t\t\t}\n\t\t}).hide();\n\n\t\t$('.algorithms').show().filter(function () {\n\t\t\treturn !$(this).children(':visible').length;\n\t\t}).hide();\n\t});\n};\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\nvar showAlgorithm = require('./show_algorithm');\nvar addCategories = require('./add_categories');\nvar showDescription = require('./show_description');\nvar addFiles = require('./add_files');\nvar showFirstAlgorithm = require('./show_first_algorithm');\nvar showRequestedAlgorithm = require('./show_requested_algorithm');\nvar showWiki = require('./show_wiki');\nvar enableSearch = require('./enable_search');\nvar resizeWorkspace = require('./resize_workspace');\nvar enableFullScreen = require('./enable_fullscreen');\n\nmodule.exports = {\n  showAlgorithm: showAlgorithm,\n  addCategories: addCategories,\n  showDescription: showDescription,\n  addFiles: addFiles,\n  showFirstAlgorithm: showFirstAlgorithm,\n  showRequestedAlgorithm: showRequestedAlgorithm,\n  showWiki: showWiki,\n  enableSearch: enableSearch,\n  resizeWorkspace: resizeWorkspace,\n  enableFullScreen: enableFullScreen\n};\n\n},{\"./add_categories\":8,\"./add_files\":9,\"./enable_fullscreen\":10,\"./enable_search\":11,\"./resize_workspace\":15,\"./show_algorithm\":26,\"./show_description\":27,\"./show_first_algorithm\":28,\"./show_requested_algorithm\":29,\"./show_wiki\":30}],13:[function(require,module,exports){\n'use strict';\n\nvar showLoadingSlider = function showLoadingSlider() {\n  $('#loading-slider').removeClass('loaded');\n};\n\nvar hideLoadingSlider = function hideLoadingSlider() {\n  $('#loading-slider').addClass('loaded');\n};\n\nmodule.exports = {\n  showLoadingSlider: showLoadingSlider,\n  hideLoadingSlider: hideLoadingSlider\n};\n\n},{}],14:[function(require,module,exports){\n'use strict';\n\nvar create = function create() {\n  var $container = $('<section class=\"module_wrapper\">');\n  $('.module_container').append($container);\n  return $container;\n};\n\nmodule.exports = {\n  create: create\n};\n\n},{}],15:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app');\n\nmodule.exports = function () {\n  app.getTracerManager().resize();\n  app.getEditor().resize();\n  $('.files_bar > .wrapper').scroll();\n};\n\n},{\"../app\":3}],16:[function(require,module,exports){\n'use strict';\n\nvar setupDividers = require('./setup_dividers');\nvar setupDocument = require('./setup_document');\nvar setupFilesBar = require('./setup_files_bar');\nvar setupInterval = require('./setup_interval');\nvar setupModuleContainer = require('./setup_module_container');\nvar setupTabContainer = require('./setup_tab_container');\nvar setupSideMenu = require('./setup_side_menu');\nvar setupTopMenu = require('./setup_top_menu');\nvar setupWindow = require('./setup_window');\n\n/**\n * Initializes elements once the app loads in the DOM.\n */\nvar setup = function setup() {\n\n  $('.btn input').click(function (e) {\n    e.stopPropagation();\n  });\n\n  // dividers\n  setupDividers();\n\n  // document\n  setupDocument();\n\n  // files bar\n  setupFilesBar();\n\n  // interval\n  setupInterval();\n\n  // module container\n  setupModuleContainer();\n\n  // tab container\n  setupTabContainer();\n\n  // side menu\n  setupSideMenu();\n\n  // top menu\n  setupTopMenu();\n\n  // window\n  setupWindow();\n};\n\nmodule.exports = {\n  setup: setup\n};\n\n},{\"./setup_dividers\":17,\"./setup_document\":18,\"./setup_files_bar\":19,\"./setup_interval\":20,\"./setup_module_container\":21,\"./setup_side_menu\":22,\"./setup_tab_container\":23,\"./setup_top_menu\":24,\"./setup_window\":25}],17:[function(require,module,exports){\n'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar app = require('../../app');\nvar resizeWorkspace = require('../resize_workspace');\n\nvar addDividerToDom = function addDividerToDom(divider) {\n  var _divider = _slicedToArray(divider, 3),\n      vertical = _divider[0],\n      $first = _divider[1],\n      $second = _divider[2];\n\n  var $parent = $first.parent();\n  var thickness = 5;\n\n  var $divider = $('<div class=\"divider\">');\n\n  var dragging = false;\n  if (vertical === 'v') {\n    $divider.addClass('vertical');\n    var _left = -thickness / 2;\n    $divider.css({\n      top: 0,\n      bottom: 0,\n      left: _left,\n      width: thickness\n    });\n\n    var x = void 0;\n    $divider.mousedown(function (_ref) {\n      var pageX = _ref.pageX;\n\n      x = pageX;\n      dragging = true;\n    });\n\n    $(document).mousemove(function (_ref2) {\n      var pageX = _ref2.pageX;\n\n      if (dragging) {\n        var new_left = $second.position().left + pageX - x;\n        var percent = new_left / $parent.width() * 100;\n        percent = Math.min(90, Math.max(10, percent));\n        $first.css('right', 100 - percent + '%');\n        $second.css('left', percent + '%');\n        x = pageX;\n        resizeWorkspace();\n      }\n    });\n\n    $(document).mouseup(function (e) {\n      dragging = false;\n    });\n  } else {\n    $divider.addClass('horizontal');\n    var _top = -thickness / 2;\n    $divider.css({\n      top: _top,\n      height: thickness,\n      left: 0,\n      right: 0\n    });\n\n    var y = void 0;\n    $divider.mousedown(function (_ref3) {\n      var pageY = _ref3.pageY;\n\n      y = pageY;\n      dragging = true;\n    });\n\n    $(document).mousemove(function (_ref4) {\n      var pageY = _ref4.pageY;\n\n      if (dragging) {\n        var new_top = $second.position().top + pageY - y;\n        var percent = new_top / $parent.height() * 100;\n        percent = Math.min(90, Math.max(10, percent));\n        $first.css('bottom', 100 - percent + '%');\n        $second.css('top', percent + '%');\n        y = pageY;\n        resizeWorkspace();\n      }\n    });\n\n    $(document).mouseup(function (e) {\n      dragging = false;\n    });\n  }\n\n  $second.append($divider);\n};\n\nmodule.exports = function () {\n  var dividers = [['v', $('.sidemenu'), $('.workspace')], ['v', $('.viewer_container'), $('.editor_container')], ['h', $('.data_container'), $('.code_container')]];\n  for (var i = 0; i < dividers.length; i++) {\n    addDividerToDom(dividers[i]);\n  }\n};\n\n},{\"../../app\":3,\"../resize_workspace\":15}],18:[function(require,module,exports){\n'use strict';\n\nvar app = require('../../app');\n\nmodule.exports = function () {\n  $(document).on('click', 'a', function (e) {\n    var href = $(this).attr('href');\n    if (/^(https?:\\/\\/).+/.test(href)) {\n      e.preventDefault();\n      if (!window.open(href, '_blank')) {\n        alert('Please allow popups for this site');\n      }\n    }\n  });\n\n  $(document).mouseup(function (e) {\n    app.getTracerManager().command('mouseup', e);\n  });\n};\n\n},{\"../../app\":3}],19:[function(require,module,exports){\n'use strict';\n\nvar definitelyBigger = function definitelyBigger(x, y) {\n  return x > y + 2;\n};\n\nmodule.exports = function () {\n\n  $('.files_bar > .btn-left').click(function () {\n    var $wrapper = $('.files_bar > .wrapper');\n    var clipWidth = $wrapper.width();\n    var scrollLeft = $wrapper.scrollLeft();\n\n    $($wrapper.children('button').get().reverse()).each(function () {\n      var left = $(this).position().left;\n      var right = left + $(this).outerWidth();\n      if (0 > left) {\n        $wrapper.scrollLeft(scrollLeft + right - clipWidth);\n        return false;\n      }\n    });\n  });\n\n  $('.files_bar > .btn-right').click(function () {\n    var $wrapper = $('.files_bar > .wrapper');\n    var clipWidth = $wrapper.width();\n    var scrollLeft = $wrapper.scrollLeft();\n\n    $wrapper.children('button').each(function () {\n      var left = $(this).position().left;\n      var right = left + $(this).outerWidth();\n      if (clipWidth < right) {\n        $wrapper.scrollLeft(scrollLeft + left);\n        return false;\n      }\n    });\n  });\n\n  $('.files_bar > .wrapper').scroll(function () {\n\n    var $wrapper = $('.files_bar > .wrapper');\n    var clipWidth = $wrapper.width();\n    var $left = $wrapper.children('button:first-child');\n    var $right = $wrapper.children('button:last-child');\n    var left = $left.position().left;\n    var right = $right.position().left + $right.outerWidth();\n\n    if (definitelyBigger(0, left) && definitelyBigger(clipWidth, right)) {\n      var scrollLeft = $wrapper.scrollLeft();\n      $wrapper.scrollLeft(scrollLeft + clipWidth - right);\n      return;\n    }\n\n    var lefter = definitelyBigger(0, left);\n    var righter = definitelyBigger(right, clipWidth);\n    $wrapper.toggleClass('shadow-left', lefter);\n    $wrapper.toggleClass('shadow-right', righter);\n    $('.files_bar > .btn-left').attr('disabled', !lefter);\n    $('.files_bar > .btn-right').attr('disabled', !righter);\n  });\n};\n\n},{}],20:[function(require,module,exports){\n'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar app = require('../../app');\nvar Toast = require('../toast');\n\nvar parseFloat = Number.parseFloat;\n\n\nvar minInterval = 0.1;\nvar maxInterval = 10;\nvar startInterval = 0.5;\nvar stepInterval = 0.1;\n\nvar normalize = function normalize(sec) {\n\n  var interval = void 0;\n  var message = void 0;\n  if (sec < minInterval) {\n    interval = minInterval;\n    message = 'Interval of ' + sec + ' seconds is too low. Setting to min allowed interval of ' + minInterval + ' second(s).';\n  } else if (sec > maxInterval) {\n    interval = maxInterval;\n    message = 'Interval of ' + sec + ' seconds is too high. Setting to max allowed interval of ' + maxInterval + ' second(s).';\n  } else {\n    interval = sec;\n    message = 'Interval has been set to ' + sec + ' second(s).';\n  }\n\n  return [interval, message];\n};\n\nmodule.exports = function () {\n\n  var $interval = $('#interval');\n  $interval.val(startInterval);\n  $interval.attr({\n    max: maxInterval,\n    min: minInterval,\n    step: stepInterval\n  });\n\n  $('#interval').on('change', function () {\n    var tracerManager = app.getTracerManager();\n\n    var _normalize = normalize(parseFloat($(this).val())),\n        _normalize2 = _slicedToArray(_normalize, 2),\n        seconds = _normalize2[0],\n        message = _normalize2[1];\n\n    $(this).val(seconds);\n    tracerManager.interval = seconds * 1000;\n    Toast.showInfoToast(message);\n  });\n};\n\n},{\"../../app\":3,\"../toast\":31}],21:[function(require,module,exports){\n'use strict';\n\nvar app = require('../../app');\n\nmodule.exports = function () {\n\n  var $module_container = $('.module_container');\n\n  $module_container.on('mousedown', '.module_wrapper', function (e) {\n    app.getTracerManager().findOwner(this).mousedown(e);\n  });\n\n  $module_container.on('mousemove', '.module_wrapper', function (e) {\n    app.getTracerManager().findOwner(this).mousemove(e);\n  });\n\n  $module_container.on('DOMMouseScroll mousewheel', '.module_wrapper', function (e) {\n    app.getTracerManager().findOwner(this).mousewheel(e);\n  });\n};\n\n},{\"../../app\":3}],22:[function(require,module,exports){\n'use strict';\n\nvar app = require('../../app');\nvar Server = require('../../server');\nvar showAlgorithm = require('../show_algorithm');\nvar resizeWorkspace = require('../resize_workspace');\n\nvar sidemenu_percent = void 0;\n\nmodule.exports = function () {\n  $('#navigation').click(function () {\n    var $sidemenu = $('.sidemenu');\n    var $workspace = $('.workspace');\n\n    $sidemenu.toggleClass('active');\n\n    $('.nav-dropdown').toggleClass('fa-caret-down fa-caret-right');\n    if ($sidemenu.hasClass('active')) {\n      $sidemenu.animate({ \"right\": 100 - sidemenu_percent + '%' }, \"fast\");\n      $workspace.animate({ \"left\": sidemenu_percent + '%' }, \"fast\");\n    } else {\n      sidemenu_percent = $workspace.position().left / $('body').width() * 100;\n      $sidemenu.animate({ \"right\": \"0%\" }, \"fast\");\n      $workspace.animate({ \"left\": \"0%\" }, \"fast\");\n    }\n\n    resizeWorkspace();\n  });\n\n  $('#documentation').click(function () {\n    $('#btn_doc').click();\n  });\n\n  $('#powered-by').click(function () {\n    $(this).toggleClass('open');\n    $('#powered-by-list').toggle(300);\n  });\n\n  $('#scratch-paper').click(function () {\n    var category = 'scratch';\n    var algorithm = app.getLoadedScratch();\n    Server.loadAlgorithm(category, algorithm).then(function (data) {\n      showAlgorithm(category, algorithm, data);\n    });\n  });\n};\n\n},{\"../../app\":3,\"../../server\":64,\"../resize_workspace\":15,\"../show_algorithm\":26}],23:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function () {\n  $('.tab_bar > button').click(function () {\n    $('.tab_bar > button').removeClass('active');\n    $('.tab_container > .tab').removeClass('active');\n    $(this).addClass('active');\n    $($(this).attr('data-target')).addClass('active');\n  });\n};\n\n},{}],24:[function(require,module,exports){\n'use strict';\n\nvar app = require('../../app');\nvar Server = require('../../server');\nvar Toast = require('../toast');\nvar TopMenu = require('../top_menu');\nvar create = require('../../create');\n\nmodule.exports = function () {\n\n  // shared\n  $('#shared').mouseup(function () {\n    $(this).select();\n  });\n\n  $('#btn_share').click(function () {\n\n    var $icon = $(this).find('.fa-share');\n    $icon.addClass('fa-spin fa-spin-faster');\n\n    Server.shareScratchPaper().then(function (url) {\n      $icon.removeClass('fa-spin fa-spin-faster');\n      $('#shared').removeClass('collapse');\n      $('#shared').val(url);\n      Toast.showInfoToast('Shareable link is created.');\n    });\n  });\n\n  // control\n\n  var $btnRun = $('#btn_run');\n  var $btnTrace = $('#btn_trace');\n  var $btnPause = $('#btn_pause');\n  var $btnPrev = $('#btn_prev');\n  var $btnNext = $('#btn_next');\n  var $btnGenerate = $('#btn_generate');\n\n  // initially, control buttons are disabled\n  TopMenu.disableFlowControl();\n\n  $btnRun.click(function () {\n    $btnTrace.click();\n    $btnPause.removeClass('active');\n    $btnRun.addClass('active');\n    TopMenu.enableFlowControl();\n    var err = app.getEditor().execute();\n    if (err) {\n      console.error(err);\n      Toast.showErrorToast(err);\n      TopMenu.resetTopMenuButtons();\n    }\n  });\n\n  $btnPause.click(function () {\n    $btnRun.toggleClass('active');\n    $btnPause.toggleClass('active');\n    if (app.getTracerManager().isPause()) {\n      app.getTracerManager().resumeStep();\n    } else {\n      app.getTracerManager().pauseStep();\n    }\n  });\n\n  $btnPrev.click(function () {\n    $btnRun.removeClass('active');\n    $btnPause.addClass('active');\n    app.getTracerManager().pauseStep();\n    app.getTracerManager().prevStep();\n  });\n\n  $btnNext.click(function () {\n    $btnRun.removeClass('active');\n    $btnPause.addClass('active');\n    app.getTracerManager().pauseStep();\n    app.getTracerManager().nextStep();\n  });\n\n  $btnGenerate.click(function () {\n    create.init();\n  });\n};\n\n},{\"../../app\":3,\"../../create\":6,\"../../server\":64,\"../toast\":31,\"../top_menu\":32}],25:[function(require,module,exports){\n'use strict';\n\nvar app = require('../../app');\n\nmodule.exports = function () {\n  $(window).resize(function () {\n    app.getTracerManager().resize();\n  });\n};\n\n},{\"../../app\":3}],26:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app');\nvar utils = require('../utils');\nvar showDescription = require('./show_description');\nvar addFiles = require('./add_files');\n\nmodule.exports = function (category, algorithm, data, requestedFile) {\n  var $menu = void 0;\n  var category_name = void 0;\n  var algorithm_name = void 0;\n\n  if (utils.isScratchPaper(category)) {\n    $menu = $('#scratch-paper');\n    category_name = 'Scratch Paper';\n    algorithm_name = algorithm ? 'Shared' : 'Temporary';\n  } else {\n    $menu = $('[data-category=\"' + category + '\"][data-algorithm=\"' + algorithm + '\"]');\n    var categoryObj = app.getCategory(category);\n    category_name = categoryObj.name;\n    algorithm_name = categoryObj.list[algorithm];\n  }\n\n  $('.sidemenu button').removeClass('active');\n  $menu.addClass('active');\n\n  $('#category').html(category_name);\n  $('#algorithm').html(algorithm_name);\n  $('#tab_desc > .wrapper').empty();\n  $('.files_bar > .wrapper').empty();\n  $('#explanation').html('');\n\n  app.setLastFileUsed(null);\n  app.getEditor().clearContent();\n\n  var files = data.files;\n\n\n  delete data.files;\n\n  showDescription(data);\n  addFiles(category, algorithm, files, requestedFile);\n  utils.renderMathJax();\n};\n\n},{\"../app\":3,\"../utils\":78,\"./add_files\":9,\"./show_description\":27}],27:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar isArray = Array.isArray;\nvar _$ = $,\n    each = _$.each;\n\n\nmodule.exports = function (data) {\n  var $container = $('#tab_desc > .wrapper');\n  $container.empty();\n\n  each(data, function (key, value) {\n\n    if (key) {\n      $container.append($('<h3>').html(key));\n    }\n\n    if (typeof value === 'string') {\n      $container.append($('<p>').html(value));\n    } else if (isArray(value)) {\n\n      var $ul = $('<ul class=\"applications\">');\n      $container.append($ul);\n\n      value.forEach(function (li) {\n        $ul.append($('<li>').html(li));\n      });\n    } else if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\n      var _$ul = $('<ul class=\"complexities\">');\n      $container.append(_$ul);\n\n      each(value, function (prop) {\n        var $wrapper = $('<div class=\"complexity\">');\n        var $type = $('<span class=\"complexity-type\">').html(prop + ': ');\n        var $value = $('<span class=\"complexity-value\">').html('' + value[prop]);\n\n        $wrapper.append($type).append($value);\n\n        _$ul.append($('<li>').append($wrapper));\n      });\n    }\n  });\n};\n\n},{}],28:[function(require,module,exports){\n'use strict';\n\n// click the first algorithm in the first category\n\nmodule.exports = function () {\n  $('#list .category').first().click();\n  $('#list .category + .algorithms > .indent').first().click();\n};\n\n},{}],29:[function(require,module,exports){\n'use strict';\n\nvar Server = require('../server');\nvar showAlgorithm = require('./show_algorithm');\n\nmodule.exports = function (category, algorithm, file) {\n  $('.category[data-category=\"' + category + '\"]').click();\n  Server.loadAlgorithm(category, algorithm).then(function (data) {\n    showAlgorithm(category, algorithm, data, file);\n  });\n};\n\n},{\"../server\":64,\"./show_algorithm\":26}],30:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app');\nvar Server = require('../server');\nvar converter = new showdown.Converter({ tables: true });\n\nmodule.exports = function (wiki) {\n  Server.loadWiki(wiki).then(function (data) {\n    $('#tab_doc > .wrapper').html(converter.makeHtml('#' + wiki + '\\n' + data));\n    $('#tab_doc').scrollTop(0);\n    $('#tab_doc > .wrapper a').click(function (e) {\n      var href = $(this).attr('href');\n      if (app.hasWiki(href)) {\n        e.preventDefault();\n        module.exports(href);\n      }\n    });\n  });\n};\n\n},{\"../app\":3,\"../server\":64}],31:[function(require,module,exports){\n'use strict';\n\nvar showToast = function showToast(data, type) {\n  var $toast = $('<div class=\"toast ' + type + '\">').append(data);\n\n  $('.toast_container').append($toast);\n  setTimeout(function () {\n    $toast.fadeOut(function () {\n      $toast.remove();\n    });\n  }, 3000);\n};\n\nvar showErrorToast = function showErrorToast(err) {\n  showToast(err, 'error');\n};\n\nvar showInfoToast = function showInfoToast(err) {\n  showToast(err, 'info');\n};\n\nmodule.exports = {\n  showErrorToast: showErrorToast,\n  showInfoToast: showInfoToast\n};\n\n},{}],32:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app');\n\nvar flowControlBtns = [$('#btn_pause'), $('#btn_prev'), $('#btn_next')];\nvar setFlowControlState = function setFlowControlState(isDisabled) {\n  flowControlBtns.forEach(function ($btn) {\n    return $btn.attr('disabled', isDisabled);\n  });\n};\n\nvar enableFlowControl = function enableFlowControl() {\n  setFlowControlState(false);\n};\n\nvar disableFlowControl = function disableFlowControl() {\n  setFlowControlState(true);\n};\n\nvar resetTopMenuButtons = function resetTopMenuButtons() {\n  $('.top-menu-buttons button').removeClass('active');\n  disableFlowControl();\n  app.getEditor().unhighlightLine();\n};\n\nvar setInterval = function setInterval(val) {\n  $('#interval').val(interval);\n};\n\nvar activateBtnPause = function activateBtnPause() {\n  $('#btn_pause').addClass('active');\n};\n\nvar deactivateBtnPause = function deactivateBtnPause() {\n  $('#btn_pause').removeClass('active');\n};\n\nmodule.exports = {\n  enableFlowControl: enableFlowControl,\n  disableFlowControl: disableFlowControl,\n  resetTopMenuButtons: resetTopMenuButtons,\n  setInterval: setInterval,\n  activateBtnPause: activateBtnPause,\n  deactivateBtnPause: deactivateBtnPause\n};\n\n},{\"../app\":3}],33:[function(require,module,exports){\n'use strict';\n\nmodule.exports = function (id) {\n  var editor = ace.edit(id);\n\n  editor.setOptions({\n    enableBasicAutocompletion: true,\n    enableSnippets: true,\n    enableLiveAutocompletion: true\n  });\n\n  editor.setTheme('ace/theme/tomorrow_night_eighties');\n  editor.session.setMode('ace/mode/javascript');\n  editor.$blockScrolling = Infinity;\n\n  return editor;\n};\n\n},{}],34:[function(require,module,exports){\n'use strict';\n\nvar execute = function execute(tracerManager, code, dataLines) {\n  // all modules available to eval are obtained from window\n  try {\n    tracerManager.deallocateAll();\n    var lines = code.split('\\n');\n    var newLines = [];\n    lines.forEach(function (line, i) {\n      newLines.push(line.replace(/(.+\\. *_wait *)(\\( *\\))/g, '$1(' + (i - dataLines) + ')'));\n    });\n    eval(Babel.transform(newLines.join('\\n'), { presets: ['es2015'] }).code);\n    tracerManager.visualize();\n  } catch (err) {\n    return err;\n  } finally {\n    tracerManager.removeUnallocated();\n  }\n};\n\nvar executeData = function executeData(tracerManager, algoData) {\n  return execute(tracerManager, algoData);\n};\n\nvar executeDataAndCode = function executeDataAndCode(tracerManager, algoData, algoCode) {\n  var dataLines = algoData.split('\\n').length;\n  return execute(tracerManager, algoData + '\\n' + algoCode, dataLines);\n};\n\nmodule.exports = {\n  executeData: executeData,\n  executeDataAndCode: executeDataAndCode\n};\n\n},{}],35:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app');\nvar createEditor = require('./create');\nvar Executor = require('./executor');\nvar TopMenu = require('../dom/top_menu');\n\nfunction Editor(tracerManager) {\n  var _this = this;\n\n  if (!tracerManager) {\n    throw 'Cannot create Editor. Missing the tracerManager';\n  }\n\n  ace.require('ace/ext/language_tools');\n  var Range = ace.require(\"ace/range\").Range;\n\n  this.dataEditor = createEditor('data');\n  this.codeEditor = createEditor('code');\n\n  // Setting data\n\n  this.setData = function (data) {\n    _this.dataEditor.setValue(data, -1);\n  };\n\n  this.setCode = function (code) {\n    _this.codeEditor.setValue(code, -1);\n  };\n\n  this.setContent = function (_ref) {\n    var data = _ref.data,\n        code = _ref.code;\n\n    _this.setData(data);\n    _this.setCode(code);\n  };\n\n  // Clearing data\n\n  this.clearData = function () {\n    _this.dataEditor.setValue('');\n  };\n\n  this.clearCode = function () {\n    _this.codeEditor.setValue('');\n  };\n\n  this.clearContent = function () {\n    _this.clearData();\n    _this.clearCode();\n  };\n\n  this.execute = function () {\n    var data = _this.dataEditor.getValue();\n    var code = _this.codeEditor.getValue();\n    return Executor.executeDataAndCode(tracerManager, data, code);\n  };\n\n  this.highlightLine = function (lineNumber) {\n    var session = _this.codeEditor.getSession();\n    if (_this.marker) session.removeMarker(_this.marker);\n    _this.marker = session.addMarker(new Range(lineNumber, 0, lineNumber, Infinity), \"executing\", \"line\", true);\n  };\n\n  this.unhighlightLine = function () {\n    var session = _this.codeEditor.getSession();\n    if (_this.marker) session.removeMarker(_this.marker);\n  };\n\n  this.resize = function () {\n    _this.dataEditor.resize();\n    _this.codeEditor.resize();\n  };\n\n  // listeners\n\n  this.dataEditor.on('change', function () {\n    var data = _this.dataEditor.getValue();\n    var lastFileUsed = app.getLastFileUsed();\n    if (lastFileUsed) {\n      app.updateCachedFile(lastFileUsed, {\n        data: data\n      });\n    }\n    Executor.executeData(tracerManager, data);\n    TopMenu.resetTopMenuButtons();\n  });\n\n  this.codeEditor.on('change', function () {\n    var code = _this.codeEditor.getValue();\n    var lastFileUsed = app.getLastFileUsed();\n    if (lastFileUsed) {\n      app.updateCachedFile(lastFileUsed, {\n        code: code\n      });\n    }\n    tracerManager.reset();\n    TopMenu.resetTopMenuButtons();\n  });\n}\n\nmodule.exports = Editor;\n\n},{\"../app\":3,\"../dom/top_menu\":32,\"./create\":33,\"./executor\":34}],36:[function(require,module,exports){\n'use strict';\n\nvar RSVP = require('rsvp');\nvar app = require('./app');\nvar AppConstructor = require('./app/constructor');\nvar DOM = require('./dom');\nvar Server = require('./server');\nvar modules = require('./module');\n\nvar _$ = $,\n    extend = _$.extend;\n\n\n$.ajaxSetup({\n  cache: false,\n  dataType: 'text'\n});\n\nvar _require = require('./utils'),\n    isScratchPaper = _require.isScratchPaper;\n\nvar _require2 = require('./server/helpers'),\n    getHashValue = _require2.getHashValue,\n    getParameterByName = _require2.getParameterByName,\n    getPath = _require2.getPath;\n\n// set global promise error handler\n\n\nRSVP.on('error', function (reason) {\n  console.assert(false, reason);\n});\n\n$(function () {\n  // initialize the application and attach in to the instance module\n  var appConstructor = new AppConstructor();\n  extend(true, app, appConstructor);\n\n  // load modules to the global scope so they can be evaled\n  extend(true, window, modules);\n\n  Server.loadCategories().then(function (data) {\n    app.setCategories(data);\n    DOM.addCategories();\n\n    window.postMessage(JSON.stringify({\n      status: 'ready'\n    }));\n\n    $(window).on('bridge.run', function () {\n      DOM.showRequestedAlgorithm(window.algorithm.category, window.algorithm.algorithm, window.algorithm.file);\n      window.setTimeout(function () {\n        $('#btn_run').trigger('click');\n      }, 100);\n    });\n    // app.getEditor().execute();\n\n    // window.postMessage(JSON.stringify({status: 'ready'}));\n    // document.addEventListener('message', function (event) {\n    //   var data = JSON.parse(event.data);\n    //   if(data.action === 'algorithm') {\n    //     const { category, algorithm, file } = data.data;\n    //     const category = 'backtracking';\n    //     const algorithm = 'n_queens';\n    //     DOM.showRequestedAlgorithm(category, algorithm, 'basic');\n    //   var err = app.getEditor().execute();\n    //   if (err) {\n    //       console.error(err);\n    //   }\n    // }\n    //\n    // if(data.action === 'run') {\n    //   app.getEditor().execute();\n    // }\n    // });\n  });\n\n  var v1LoadedScratch = getHashValue('scratch-paper');\n  var v2LoadedScratch = getParameterByName('scratch-paper');\n  var vLoadedScratch = v1LoadedScratch || v2LoadedScratch;\n  if (vLoadedScratch) {\n    window.location.href = window.location.protocol + '//' + window.location.host + window.location.pathname + '#path=scratch/' + vLoadedScratch;\n  }\n});\n\n},{\"./app\":3,\"./app/constructor\":2,\"./dom\":12,\"./module\":46,\"./server\":64,\"./server/helpers\":63,\"./utils\":78,\"rsvp\":80}],37:[function(require,module,exports){\n'use strict';\n\nvar Array2D = require('./array2d');\n\nvar random = function random(N, min, max) {\n  return Array2D.random(1, N, min, max)[0];\n};\n\nvar randomSorted = function randomSorted(N, min, max) {\n  return Array2D.randomSorted(1, N, min, max)[0];\n};\n\nmodule.exports = {\n  random: random,\n  randomSorted: randomSorted\n};\n\n},{\"./array2d\":38}],38:[function(require,module,exports){\n'use strict';\n\nvar Integer = require('./integer');\n\nvar random = function random(N, M, min, max) {\n  if (!N) N = 10;\n  if (!M) M = 10;\n  if (min === undefined) min = 1;\n  if (max === undefined) max = 9;\n  var D = [];\n  for (var i = 0; i < N; i++) {\n    D.push([]);\n    for (var j = 0; j < M; j++) {\n      D[i].push(Integer.random(min, max));\n    }\n  }\n  return D;\n};\n\nvar randomSorted = function randomSorted(N, M, min, max) {\n  return random(N, M, min, max).map(function (arr) {\n    return arr.sort(function (a, b) {\n      return a - b;\n    });\n  });\n};\n\nmodule.exports = {\n  random: random,\n  randomSorted: randomSorted\n};\n\n},{\"./integer\":42}],39:[function(require,module,exports){\n'use strict';\n\nvar Integer = require('./integer');\n\nvar random = function random(N, min, max) {\n  if (!N) N = 7;\n  if (!min) min = 1;\n  if (!max) max = 10;\n  var C = new Array(N);\n  for (var i = 0; i < N; i++) {\n    C[i] = new Array(2);\n  }for (var i = 0; i < N; i++) {\n    for (var j = 0; j < C[i].length; j++) {\n      C[i][j] = Integer.random(min, max);\n    }\n  }return C;\n};\n\nmodule.exports = {\n  random: random\n};\n\n},{\"./integer\":42}],40:[function(require,module,exports){\n'use strict';\n\nvar random = function random(N, ratio) {\n  if (!N) N = 5;\n  if (!ratio) ratio = .3;\n  var G = new Array(N);\n  for (var i = 0; i < N; i++) {\n    G[i] = new Array(N);\n    for (var j = 0; j < N; j++) {\n      if (i != j) {\n        G[i][j] = (Math.random() * (1 / ratio) | 0) == 0 ? 1 : 0;\n      }\n    }\n  }\n  return G;\n};\n\nmodule.exports = {\n  random: random\n};\n\n},{}],41:[function(require,module,exports){\n'use strict';\n\nvar Integer = require('./integer');\nvar Array1D = require('./array1d');\nvar Array2D = require('./array2d');\nvar CoordinateSystem = require('./coordinate_system');\nvar DirectedGraph = require('./directed_graph');\nvar UndirectedGraph = require('./undirected_graph');\nvar WeightedDirectedGraph = require('./weighted_directed_graph');\nvar WeightedUndirectedGraph = require('./weighted_undirected_graph');\n\nmodule.exports = {\n  Integer: Integer,\n  Array1D: Array1D,\n  Array2D: Array2D,\n  CoordinateSystem: CoordinateSystem,\n  DirectedGraph: DirectedGraph,\n  UndirectedGraph: UndirectedGraph,\n  WeightedDirectedGraph: WeightedDirectedGraph,\n  WeightedUndirectedGraph: WeightedUndirectedGraph\n};\n\n},{\"./array1d\":37,\"./array2d\":38,\"./coordinate_system\":39,\"./directed_graph\":40,\"./integer\":42,\"./undirected_graph\":43,\"./weighted_directed_graph\":44,\"./weighted_undirected_graph\":45}],42:[function(require,module,exports){\n'use strict';\n\nvar random = function random(min, max) {\n  return (Math.random() * (max - min + 1) | 0) + min;\n};\n\nmodule.exports = {\n  random: random\n};\n\n},{}],43:[function(require,module,exports){\n'use strict';\n\nvar random = function random(N, ratio) {\n  if (!N) N = 5;\n  if (!ratio) ratio = .3;\n  var G = new Array(N);\n  for (var i = 0; i < N; i++) {\n    G[i] = new Array(N);\n  }for (var i = 0; i < N; i++) {\n    for (var j = 0; j < N; j++) {\n      if (i > j) {\n        G[i][j] = G[j][i] = (Math.random() * (1 / ratio) | 0) == 0 ? 1 : 0;\n      }\n    }\n  }\n  return G;\n};\n\nmodule.exports = {\n  random: random\n};\n\n},{}],44:[function(require,module,exports){\n'use strict';\n\nvar Integer = require('./integer');\n\nvar random = function random(N, ratio, min, max) {\n  if (!N) N = 5;\n  if (!ratio) ratio = .3;\n  if (!min) min = 1;\n  if (!max) max = 5;\n  var G = new Array(N);\n  for (var i = 0; i < N; i++) {\n    G[i] = new Array(N);\n    for (var j = 0; j < N; j++) {\n      if (i != j && (Math.random() * (1 / ratio) | 0) == 0) {\n        G[i][j] = Integer.random(min, max);\n      }\n    }\n  }\n  return G;\n};\n\nmodule.exports = {\n  random: random\n};\n\n},{\"./integer\":42}],45:[function(require,module,exports){\n'use strict';\n\nvar Integer = require('./integer');\n\nvar random = function random(N, ratio, min, max) {\n  if (!N) N = 5;\n  if (!ratio) ratio = .3;\n  if (!min) min = 1;\n  if (!max) max = 5;\n  var G = new Array(N);\n  for (var i = 0; i < N; i++) {\n    G[i] = new Array(N);\n  }for (var i = 0; i < N; i++) {\n    for (var j = 0; j < N; j++) {\n      if (i > j && (Math.random() * (1 / ratio) | 0) == 0) {\n        G[i][j] = G[j][i] = Integer.random(min, max);\n      }\n    }\n  }\n  return G;\n};\n\nmodule.exports = {\n  random: random\n};\n\n},{\"./integer\":42}],46:[function(require,module,exports){\n'use strict';\n\nvar tracers = require('./tracer');\nvar datas = require('./data');\n\nvar _$ = $,\n    extend = _$.extend;\n\n\nmodule.exports = extend(true, {}, tracers, datas);\n\n},{\"./data\":41,\"./tracer\":53}],47:[function(require,module,exports){\n'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Array2DTracer = require('./array2d');\n\nvar Array1DTracer = function (_Array2DTracer) {\n  _inherits(Array1DTracer, _Array2DTracer);\n\n  _createClass(Array1DTracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'Array1DTracer';\n    }\n  }]);\n\n  function Array1DTracer(name) {\n    _classCallCheck(this, Array1DTracer);\n\n    return _possibleConstructorReturn(this, (Array1DTracer.__proto__ || Object.getPrototypeOf(Array1DTracer)).call(this, name));\n  }\n\n  _createClass(Array1DTracer, [{\n    key: '_notify',\n    value: function _notify(idx, v) {\n      _get(Array1DTracer.prototype.__proto__ || Object.getPrototypeOf(Array1DTracer.prototype), '_notify', this).call(this, 0, idx, v);\n      return this;\n    }\n  }, {\n    key: '_denotify',\n    value: function _denotify(idx) {\n      _get(Array1DTracer.prototype.__proto__ || Object.getPrototypeOf(Array1DTracer.prototype), '_denotify', this).call(this, 0, idx);\n      return this;\n    }\n  }, {\n    key: '_select',\n    value: function _select(s, e) {\n      if (e === undefined) {\n        _get(Array1DTracer.prototype.__proto__ || Object.getPrototypeOf(Array1DTracer.prototype), '_select', this).call(this, 0, s);\n      } else {\n        _get(Array1DTracer.prototype.__proto__ || Object.getPrototypeOf(Array1DTracer.prototype), '_selectRow', this).call(this, 0, s, e);\n      }\n      return this;\n    }\n  }, {\n    key: '_deselect',\n    value: function _deselect(s, e) {\n      if (e === undefined) {\n        _get(Array1DTracer.prototype.__proto__ || Object.getPrototypeOf(Array1DTracer.prototype), '_deselect', this).call(this, 0, s);\n      } else {\n        _get(Array1DTracer.prototype.__proto__ || Object.getPrototypeOf(Array1DTracer.prototype), '_deselectRow', this).call(this, 0, s, e);\n      }\n      return this;\n    }\n  }, {\n    key: 'processStep',\n    value: function processStep(step, options) {\n      _get(Array1DTracer.prototype.__proto__ || Object.getPrototypeOf(Array1DTracer.prototype), 'processStep', this).call(this, step, options);\n      if (this.chartTracer) {\n        var newStep = $.extend(true, {}, step);\n        newStep.capsule = this.chartTracer.capsule;\n        newStep.s = newStep.sy;\n        newStep.e = newStep.ey;\n        if (newStep.s === undefined) newStep.s = newStep.y;\n        delete newStep.x;\n        delete newStep.y;\n        delete newStep.sx;\n        delete newStep.sy;\n        delete newStep.ex;\n        delete newStep.ey;\n        this.chartTracer.processStep(newStep, options);\n      }\n    }\n  }, {\n    key: 'setData',\n    value: function setData(D) {\n      return _get(Array1DTracer.prototype.__proto__ || Object.getPrototypeOf(Array1DTracer.prototype), 'setData', this).call(this, [D]);\n    }\n  }]);\n\n  return Array1DTracer;\n}(Array2DTracer);\n\nmodule.exports = Array1DTracer;\n\n},{\"./array2d\":48}],48:[function(require,module,exports){\n'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Tracer = require('./tracer');\n\nvar _require = require('../../tracer_manager/util/index'),\n    refineByType = _require.refineByType;\n\nvar Array2DTracer = function (_Tracer) {\n  _inherits(Array2DTracer, _Tracer);\n\n  _createClass(Array2DTracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'Array2DTracer';\n    }\n  }]);\n\n  function Array2DTracer(name) {\n    _classCallCheck(this, Array2DTracer);\n\n    var _this = _possibleConstructorReturn(this, (Array2DTracer.__proto__ || Object.getPrototypeOf(Array2DTracer)).call(this, name));\n\n    if (_this.isNew) initView(_this);\n    return _this;\n  }\n\n  _createClass(Array2DTracer, [{\n    key: '_notify',\n    value: function _notify(x, y, v) {\n      this.manager.pushStep(this.capsule, {\n        type: 'notify',\n        x: x,\n        y: y,\n        v: v\n      });\n      return this;\n    }\n  }, {\n    key: '_denotify',\n    value: function _denotify(x, y) {\n      this.manager.pushStep(this.capsule, {\n        type: 'denotify',\n        x: x,\n        y: y\n      });\n      return this;\n    }\n  }, {\n    key: '_select',\n    value: function _select(sx, sy, ex, ey) {\n      this.pushSelectingStep('select', null, arguments);\n      return this;\n    }\n  }, {\n    key: '_selectRow',\n    value: function _selectRow(x, sy, ey) {\n      this.pushSelectingStep('select', 'row', arguments);\n      return this;\n    }\n  }, {\n    key: '_selectCol',\n    value: function _selectCol(y, sx, ex) {\n      this.pushSelectingStep('select', 'col', arguments);\n      return this;\n    }\n  }, {\n    key: '_deselect',\n    value: function _deselect(sx, sy, ex, ey) {\n      this.pushSelectingStep('deselect', null, arguments);\n      return this;\n    }\n  }, {\n    key: '_deselectRow',\n    value: function _deselectRow(x, sy, ey) {\n      this.pushSelectingStep('deselect', 'row', arguments);\n      return this;\n    }\n  }, {\n    key: '_deselectCol',\n    value: function _deselectCol(y, sx, ex) {\n      this.pushSelectingStep('deselect', 'col', arguments);\n      return this;\n    }\n  }, {\n    key: '_separate',\n    value: function _separate(x, y) {\n      this.manager.pushStep(this.capsule, {\n        type: 'separate',\n        x: x,\n        y: y\n      });\n      return this;\n    }\n  }, {\n    key: '_separateRow',\n    value: function _separateRow(x) {\n      this._separate(x, -1);\n      return this;\n    }\n  }, {\n    key: '_separateCol',\n    value: function _separateCol(y) {\n      this._separate(-1, y);\n      return this;\n    }\n  }, {\n    key: '_deseparate',\n    value: function _deseparate(x, y) {\n      this.manager.pushStep(this.capsule, {\n        type: 'deseparate',\n        x: x,\n        y: y\n      });\n      return this;\n    }\n  }, {\n    key: '_deseparateRow',\n    value: function _deseparateRow(x) {\n      this._deseparate(x, -1);\n      return this;\n    }\n  }, {\n    key: '_deseparateCol',\n    value: function _deseparateCol(y) {\n      this._deseparate(-1, y);\n      return this;\n    }\n  }, {\n    key: 'pushSelectingStep',\n    value: function pushSelectingStep() {\n      var args = Array.prototype.slice.call(arguments);\n      var type = args.shift();\n      var mode = args.shift();\n      args = Array.prototype.slice.call(args.shift());\n      var coord;\n      switch (mode) {\n        case 'row':\n          coord = {\n            x: args[0],\n            sy: args[1],\n            ey: args[2]\n          };\n          break;\n        case 'col':\n          coord = {\n            y: args[0],\n            sx: args[1],\n            ex: args[2]\n          };\n          break;\n        default:\n          if (args[2] === undefined && args[3] === undefined) {\n            coord = {\n              x: args[0],\n              y: args[1]\n            };\n          } else {\n            coord = {\n              sx: args[0],\n              sy: args[1],\n              ex: args[2],\n              ey: args[3]\n            };\n          }\n      }\n      var step = {\n        type: type\n      };\n      $.extend(step, coord);\n      this.manager.pushStep(this.capsule, step);\n    }\n  }, {\n    key: 'processStep',\n    value: function processStep(step, options) {\n      switch (step.type) {\n        case 'notify':\n          if (step.v !== undefined) {\n            var $row = this.$table.find('.mtbl-row').eq(step.x);\n            var $col = $row.find('.mtbl-col').eq(step.y);\n            $col.text(refineByType(step.v));\n          }\n        case 'denotify':\n        case 'select':\n        case 'deselect':\n          var color = step.type == 'select' || step.type == 'deselect' ? this.color.selected : this.color.notified;\n          var paint = step.type == 'select' || step.type == 'notify';\n          var sx = step.sx;\n          var sy = step.sy;\n          var ex = step.ex;\n          var ey = step.ey;\n          if (sx === undefined) sx = step.x;\n          if (sy === undefined) sy = step.y;\n          if (ex === undefined) ex = step.x;\n          if (ey === undefined) ey = step.y;\n          this.paintColor(sx, sy, ex, ey, color, paint);\n          break;\n        case 'separate':\n          this.deseparate(step.x, step.y);\n          this.separate(step.x, step.y);\n          break;\n        case 'deseparate':\n          this.deseparate(step.x, step.y);\n          break;\n        default:\n          _get(Array2DTracer.prototype.__proto__ || Object.getPrototypeOf(Array2DTracer.prototype), 'processStep', this).call(this, step, options);\n      }\n    }\n  }, {\n    key: 'setData',\n    value: function setData(D) {\n      this.viewX = this.viewY = 0;\n      this.paddingH = 6;\n      this.paddingV = 3;\n      this.fontSize = 16;\n\n      if (_get(Array2DTracer.prototype.__proto__ || Object.getPrototypeOf(Array2DTracer.prototype), 'setData', this).apply(this, arguments)) {\n        this.$table.find('.mtbl-row').each(function (i) {\n          $(this).find('.mtbl-col').each(function (j) {\n            $(this).text(refineByType(D[i][j]));\n          });\n        });\n        return true;\n      }\n\n      this.$table.empty();\n      for (var i = 0; i < D.length; i++) {\n        var $row = $('<div class=\"mtbl-row\">');\n        this.$table.append($row);\n        for (var j = 0; j < D[i].length; j++) {\n          var $col = $('<div class=\"mtbl-col\">').css(this.getCellCss()).text(refineByType(D[i][j]));\n          $row.append($col);\n        }\n      }\n      this.resize();\n\n      return false;\n    }\n  }, {\n    key: 'resize',\n    value: function resize() {\n      _get(Array2DTracer.prototype.__proto__ || Object.getPrototypeOf(Array2DTracer.prototype), 'resize', this).call(this);\n\n      this.refresh();\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      _get(Array2DTracer.prototype.__proto__ || Object.getPrototypeOf(Array2DTracer.prototype), 'clear', this).call(this);\n\n      this.clearColor();\n      this.deseparateAll();\n    }\n  }, {\n    key: 'getCellCss',\n    value: function getCellCss() {\n      return {\n        padding: this.paddingV.toFixed(1) + 'px ' + this.paddingH.toFixed(1) + 'px',\n        'font-size': this.fontSize.toFixed(1) + 'px'\n      };\n    }\n  }, {\n    key: 'refresh',\n    value: function refresh() {\n      _get(Array2DTracer.prototype.__proto__ || Object.getPrototypeOf(Array2DTracer.prototype), 'refresh', this).call(this);\n\n      var $parent = this.$table.parent();\n      var top = $parent.height() / 2 - this.$table.height() / 2 + this.viewY;\n      var left = $parent.width() / 2 - this.$table.width() / 2 + this.viewX;\n      this.$table.css('margin-top', top);\n      this.$table.css('margin-left', left);\n    }\n  }, {\n    key: 'mousedown',\n    value: function mousedown(e) {\n      _get(Array2DTracer.prototype.__proto__ || Object.getPrototypeOf(Array2DTracer.prototype), 'mousedown', this).call(this, e);\n\n      this.dragX = e.pageX;\n      this.dragY = e.pageY;\n      this.dragging = true;\n    }\n  }, {\n    key: 'mousemove',\n    value: function mousemove(e) {\n      _get(Array2DTracer.prototype.__proto__ || Object.getPrototypeOf(Array2DTracer.prototype), 'mousemove', this).call(this, e);\n\n      if (this.dragging) {\n        this.viewX += e.pageX - this.dragX;\n        this.viewY += e.pageY - this.dragY;\n        this.dragX = e.pageX;\n        this.dragY = e.pageY;\n        this.refresh();\n      }\n    }\n  }, {\n    key: 'mouseup',\n    value: function mouseup(e) {\n      _get(Array2DTracer.prototype.__proto__ || Object.getPrototypeOf(Array2DTracer.prototype), 'mouseup', this).call(this, e);\n\n      this.dragging = false;\n    }\n  }, {\n    key: 'mousewheel',\n    value: function mousewheel(e) {\n      _get(Array2DTracer.prototype.__proto__ || Object.getPrototypeOf(Array2DTracer.prototype), 'mousewheel', this).call(this, e);\n\n      e.preventDefault();\n      e = e.originalEvent;\n      var delta = e.wheelDelta !== undefined && e.wheelDelta || e.detail !== undefined && -e.detail;\n      var weight = 1.01;\n      var ratio = delta > 0 ? 1 / weight : weight;\n      if (this.fontSize < 4 && ratio < 1) return;\n      if (this.fontSize > 40 && ratio > 1) return;\n      this.paddingV *= ratio;\n      this.paddingH *= ratio;\n      this.fontSize *= ratio;\n      this.$table.find('.mtbl-col').css(this.getCellCss());\n      this.refresh();\n    }\n  }, {\n    key: 'paintColor',\n    value: function paintColor(sx, sy, ex, ey, color, paint) {\n      for (var i = sx; i <= ex; i++) {\n        var $row = this.$table.find('.mtbl-row').eq(i);\n        for (var j = sy; j <= ey; j++) {\n          var $col = $row.find('.mtbl-col').eq(j);\n          if (paint) $col.css('background', color);else $col.css('background', '');\n        }\n      }\n    }\n  }, {\n    key: 'clearColor',\n    value: function clearColor() {\n      this.$table.find('.mtbl-col').css('background', '');\n    }\n  }, {\n    key: 'separate',\n    value: function separate(x, y) {\n      this.$table.find('.mtbl-row').each(function (i) {\n        var $row = $(this);\n        if (i == x) {\n          $row.after($('<div class=\"mtbl-empty-row\">').attr('data-row', i));\n        }\n        $row.find('.mtbl-col').each(function (j) {\n          var $col = $(this);\n          if (j == y) {\n            $col.after($('<div class=\"mtbl-empty-col\">').attr('data-col', j));\n          }\n        });\n      });\n    }\n  }, {\n    key: 'deseparate',\n    value: function deseparate(x, y) {\n      this.$table.find('[data-row=' + x + ']').remove();\n      this.$table.find('[data-col=' + y + ']').remove();\n    }\n  }, {\n    key: 'deseparateAll',\n    value: function deseparateAll() {\n      this.$table.find('.mtbl-empty-row, .mtbl-empty-col').remove();\n    }\n  }]);\n\n  return Array2DTracer;\n}(Tracer);\n\nvar initView = function initView(tracer) {\n  tracer.$table = tracer.capsule.$table = $('<div class=\"mtbl-table\">');\n  tracer.$container.append(tracer.$table);\n};\n\nmodule.exports = Array2DTracer;\n\n},{\"../../tracer_manager/util/index\":75,\"./tracer\":55}],49:[function(require,module,exports){\n'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Tracer = require('./tracer');\n\nvar ChartTracer = function (_Tracer) {\n  _inherits(ChartTracer, _Tracer);\n\n  _createClass(ChartTracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'ChartTracer';\n    }\n  }]);\n\n  function ChartTracer(name) {\n    _classCallCheck(this, ChartTracer);\n\n    var _this = _possibleConstructorReturn(this, (ChartTracer.__proto__ || Object.getPrototypeOf(ChartTracer)).call(this, name));\n\n    if (_this.isNew) initView(_this);\n    return _this;\n  }\n\n  _createClass(ChartTracer, [{\n    key: 'setData',\n    value: function setData(C) {\n      if (_get(ChartTracer.prototype.__proto__ || Object.getPrototypeOf(ChartTracer.prototype), 'setData', this).apply(this, arguments)) {\n        this.chart.config.data.datasets[0].data = C;\n        this.chart.update();\n        return true;\n      }\n\n      var color = [];\n      for (var i = 0; i < C.length; i++) {\n        color.push(this.color.default);\n      }this.chart.config.data = {\n        labels: C.map(String),\n        datasets: [{\n          backgroundColor: color,\n          data: C\n        }]\n      };\n      this.chart.update();\n    }\n  }, {\n    key: '_notify',\n    value: function _notify(s, v) {\n      this.manager.pushStep(this.capsule, {\n        type: 'notify',\n        s: s,\n        v: v\n      });\n      return this;\n    }\n  }, {\n    key: '_denotify',\n    value: function _denotify(s) {\n      this.manager.pushStep(this.capsule, {\n        type: 'denotify',\n        s: s\n      });\n      return this;\n    }\n  }, {\n    key: '_select',\n    value: function _select(s, e) {\n      this.manager.pushStep(this.capsule, {\n        type: 'select',\n        s: s,\n        e: e\n      });\n      return this;\n    }\n  }, {\n    key: '_deselect',\n    value: function _deselect(s, e) {\n      this.manager.pushStep(this.capsule, {\n        type: 'deselect',\n        s: s,\n        e: e\n      });\n      return this;\n    }\n  }, {\n    key: 'processStep',\n    value: function processStep(step, options) {\n      switch (step.type) {\n        case 'notify':\n          if (step.v !== undefined) {\n            this.chart.config.data.datasets[0].data[step.s] = step.v;\n            this.chart.config.data.labels[step.s] = step.v.toString();\n          }\n        case 'denotify':\n        case 'select':\n        case 'deselect':\n          var color = step.type == 'notify' ? this.color.notified : step.type == 'select' ? this.color.selected : this.color.default;\n          if (step.e !== undefined) for (var i = step.s; i <= step.e; i++) {\n            this.chart.config.data.datasets[0].backgroundColor[i] = color;\n          } else this.chart.config.data.datasets[0].backgroundColor[step.s] = color;\n          this.chart.update();\n          break;\n        default:\n          _get(ChartTracer.prototype.__proto__ || Object.getPrototypeOf(ChartTracer.prototype), 'processStep', this).call(this, step, options);\n      }\n    }\n  }, {\n    key: 'resize',\n    value: function resize() {\n      _get(ChartTracer.prototype.__proto__ || Object.getPrototypeOf(ChartTracer.prototype), 'resize', this).call(this);\n\n      this.chart.resize();\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      _get(ChartTracer.prototype.__proto__ || Object.getPrototypeOf(ChartTracer.prototype), 'clear', this).call(this);\n\n      var data = this.chart.config.data;\n      if (data.datasets.length) {\n        var backgroundColor = data.datasets[0].backgroundColor;\n        for (var i = 0; i < backgroundColor.length; i++) {\n          backgroundColor[i] = this.color.default;\n        }\n        this.chart.update();\n      }\n    }\n  }]);\n\n  return ChartTracer;\n}(Tracer);\n\nvar initView = function initView(tracer) {\n  tracer.$wrapper = tracer.capsule.$wrapper = $('<canvas class=\"mchrt-chart\">');\n  tracer.$container.append(tracer.$wrapper);\n  tracer.chart = tracer.capsule.chart = new Chart(tracer.$wrapper, {\n    type: 'bar',\n    data: {\n      labels: [],\n      datasets: []\n    },\n    options: {\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true\n          }\n        }]\n      },\n      animation: false,\n      legend: false,\n      responsive: true,\n      maintainAspectRatio: false\n    }\n  });\n};\n\nmodule.exports = ChartTracer;\n\n},{\"./tracer\":55}],50:[function(require,module,exports){\n'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DirectedGraphTracer = require('./directed_graph');\n\nvar CoordinateSystemTracer = function (_DirectedGraphTracer) {\n  _inherits(CoordinateSystemTracer, _DirectedGraphTracer);\n\n  _createClass(CoordinateSystemTracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'CoordinateSystemTracer';\n    }\n  }]);\n\n  function CoordinateSystemTracer(name) {\n    _classCallCheck(this, CoordinateSystemTracer);\n\n    var _this = _possibleConstructorReturn(this, (CoordinateSystemTracer.__proto__ || Object.getPrototypeOf(CoordinateSystemTracer)).call(this, name));\n\n    if (_this.isNew) initView(_this);\n    return _this;\n  }\n\n  _createClass(CoordinateSystemTracer, [{\n    key: 'setData',\n    value: function setData(C) {\n      if (Tracer.prototype.setData.apply(this, arguments)) return true;\n\n      this.graph.clear();\n      var nodes = [];\n      var edges = [];\n      for (var i = 0; i < C.length; i++) {\n        nodes.push({\n          id: this.n(i),\n          x: C[i][0],\n          y: C[i][1],\n          label: '' + i,\n          size: 1\n        });\n      }this.graph.read({\n        nodes: nodes,\n        edges: edges\n      });\n      this.s.camera.goTo({\n        x: 0,\n        y: 0,\n        angle: 0,\n        ratio: 1\n      });\n      this.refresh();\n\n      return false;\n    }\n  }, {\n    key: 'processStep',\n    value: function processStep(step, options) {\n      switch (step.type) {\n        case 'visit':\n        case 'leave':\n          var visit = step.type == 'visit';\n          var targetNode = this.graph.nodes(this.n(step.target));\n          var color = visit ? this.color.visited : this.color.left;\n          targetNode.color = color;\n          if (step.source !== undefined) {\n            var edgeId = this.e(step.source, step.target);\n            if (this.graph.edges(edgeId)) {\n              var edge = this.graph.edges(edgeId);\n              edge.color = color;\n              this.graph.dropEdge(edgeId).addEdge(edge);\n            } else {\n              this.graph.addEdge({\n                id: this.e(step.target, step.source),\n                source: this.n(step.source),\n                target: this.n(step.target),\n                size: 1\n              });\n            }\n          }\n          if (this.logTracer) {\n            var source = step.source;\n            if (source === undefined) source = '';\n            this.logTracer.print(visit ? source + ' -> ' + step.target : source + ' <- ' + step.target);\n          }\n          break;\n        default:\n          _get(CoordinateSystemTracer.prototype.__proto__ || Object.getPrototypeOf(CoordinateSystemTracer.prototype), 'processStep', this).call(this, step, options);\n      }\n    }\n  }, {\n    key: 'e',\n    value: function e(v1, v2) {\n      if (v1 > v2) {\n        var temp = v1;\n        v1 = v2;\n        v2 = temp;\n      }\n      return 'e' + v1 + '_' + v2;\n    }\n  }, {\n    key: 'drawOnHover',\n    value: function drawOnHover(node, context, settings, next) {\n      var tracer = this;\n\n      context.setLineDash([5, 5]);\n      var nodeIdx = node.id.substring(1);\n      this.graph.edges().forEach(function (edge) {\n        var ends = edge.id.substring(1).split(\"_\");\n        if (ends[0] == nodeIdx) {\n          var color = '#0ff';\n          var source = node;\n          var target = tracer.graph.nodes('n' + ends[1]);\n          tracer.drawEdge(edge, source, target, color, context, settings);\n          if (next) next(edge, source, target, color, context, settings);\n        } else if (ends[1] == nodeIdx) {\n          var color = '#0ff';\n          var source = tracer.graph.nodes('n' + ends[0]);\n          var target = node;\n          tracer.drawEdge(edge, source, target, color, context, settings);\n          if (next) next(edge, source, target, color, context, settings);\n        }\n      });\n    }\n  }, {\n    key: 'drawEdge',\n    value: function drawEdge(edge, source, target, color, context, settings) {\n      var prefix = settings('prefix') || '',\n          size = edge[prefix + 'size'] || 1;\n\n      context.strokeStyle = color;\n      context.lineWidth = size;\n      context.beginPath();\n      context.moveTo(source[prefix + 'x'], source[prefix + 'y']);\n      context.lineTo(target[prefix + 'x'], target[prefix + 'y']);\n      context.stroke();\n    }\n  }]);\n\n  return CoordinateSystemTracer;\n}(DirectedGraphTracer);\n\nvar initView = function initView(tracer) {\n  tracer.s.settings({\n    defaultEdgeType: 'def',\n    funcEdgesDef: function funcEdgesDef(edge, source, target, context, settings) {\n      var color = tracer.getColor(edge, source, target, settings);\n      tracer.drawEdge(edge, source, target, color, context, settings);\n    }\n  });\n};\n\nmodule.exports = CoordinateSystemTracer;\n\n},{\"./directed_graph\":51}],51:[function(require,module,exports){\n'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Tracer = require('./tracer');\n\nvar _require = require('../../tracer_manager/util/index'),\n    refineByType = _require.refineByType;\n\nvar DirectedGraphTracer = function (_Tracer) {\n  _inherits(DirectedGraphTracer, _Tracer);\n\n  _createClass(DirectedGraphTracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'DirectedGraphTracer';\n    }\n  }]);\n\n  function DirectedGraphTracer(name) {\n    _classCallCheck(this, DirectedGraphTracer);\n\n    var _this = _possibleConstructorReturn(this, (DirectedGraphTracer.__proto__ || Object.getPrototypeOf(DirectedGraphTracer)).call(this, name));\n\n    if (_this.isNew) initView(_this);\n    return _this;\n  }\n\n  _createClass(DirectedGraphTracer, [{\n    key: '_setTreeData',\n    value: function _setTreeData(G, root) {\n      this.manager.pushStep(this.capsule, {\n        type: 'setTreeData',\n        arguments: arguments\n      });\n      return this;\n    }\n  }, {\n    key: '_visit',\n    value: function _visit(target, source) {\n      this.manager.pushStep(this.capsule, {\n        type: 'visit',\n        target: target,\n        source: source\n      });\n      return this;\n    }\n  }, {\n    key: '_leave',\n    value: function _leave(target, source) {\n      this.manager.pushStep(this.capsule, {\n        type: 'leave',\n        target: target,\n        source: source\n      });\n      return this;\n    }\n  }, {\n    key: '_setNodePositions',\n    value: function _setNodePositions(positions) {\n      this.manager.pushStep(this.capsule, {\n        type: 'setNodePositions',\n        positions: positions\n      });\n      return this;\n    }\n  }, {\n    key: 'processStep',\n    value: function processStep(step, options) {\n      switch (step.type) {\n        case 'setTreeData':\n          this.setTreeData.apply(this, step.arguments);\n          break;\n        case 'setNodePositions':\n          $.each(this.graph.nodes(), function (i, node) {\n            if (i >= step.positions.length) return false;\n            var position = step.positions[i];\n            node.x = position.x;\n            node.y = position.y;\n          });\n          break;\n        case 'visit':\n        case 'leave':\n          var visit = step.type == 'visit';\n          var targetNode = this.graph.nodes(this.n(step.target));\n          var color = visit ? this.color.visited : this.color.left;\n          targetNode.color = color;\n          if (step.source !== undefined) {\n            var edgeId = this.e(step.source, step.target);\n            var edge = this.graph.edges(edgeId);\n            edge.color = color;\n            this.graph.dropEdge(edgeId).addEdge(edge);\n          }\n          if (this.logTracer) {\n            var source = step.source;\n            if (source === undefined) source = '';\n            this.logTracer.print(visit ? source + ' -> ' + step.target : source + ' <- ' + step.target);\n          }\n          break;\n        default:\n          _get(DirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(DirectedGraphTracer.prototype), 'processStep', this).call(this, step, options);\n      }\n    }\n  }, {\n    key: 'setTreeData',\n    value: function setTreeData(G, root, undirected) {\n      var tracer = this;\n\n      root = root || 0;\n      var maxDepth = -1;\n\n      var chk = new Array(G.length);\n      var getDepth = function getDepth(node, depth) {\n        if (chk[node]) throw \"the given graph is not a tree because it forms a circuit\";\n        chk[node] = true;\n        if (maxDepth < depth) maxDepth = depth;\n        for (var i = 0; i < G[node].length; i++) {\n          if (G[node][i]) getDepth(i, depth + 1);\n        }\n      };\n      getDepth(root, 1);\n\n      if (this.setData(G, undirected)) return true;\n\n      var place = function place(node, x, y) {\n        var temp = tracer.graph.nodes(tracer.n(node));\n        temp.x = x;\n        temp.y = y;\n      };\n\n      var wgap = 1 / (maxDepth - 1);\n      var dfs = function dfs(node, depth, top, bottom) {\n        place(node, top + bottom, depth * wgap);\n        var children = 0;\n        for (var i = 0; i < G[node].length; i++) {\n          if (G[node][i]) children++;\n        }\n        var vgap = (bottom - top) / children;\n        var cnt = 0;\n        for (var i = 0; i < G[node].length; i++) {\n          if (G[node][i]) dfs(i, depth + 1, top + vgap * cnt, top + vgap * ++cnt);\n        }\n      };\n      dfs(root, 0, 0, 1);\n\n      this.refresh();\n    }\n  }, {\n    key: 'setData',\n    value: function setData(G, undirected) {\n      if (_get(DirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(DirectedGraphTracer.prototype), 'setData', this).apply(this, arguments)) return true;\n      this.graph.clear();\n      var nodes = [];\n      var edges = [];\n      var unitAngle = 2 * Math.PI / G.length;\n      var currentAngle = 0;\n      for (var i = 0; i < G.length; i++) {\n        currentAngle += unitAngle;\n        nodes.push({\n          id: this.n(i),\n          label: '' + i,\n          x: .5 + Math.sin(currentAngle) / 2,\n          y: .5 + Math.cos(currentAngle) / 2,\n          size: 1,\n          color: this.color.default,\n          weight: 0\n        });\n\n        if (undirected) {\n          for (var j = 0; j <= i; j++) {\n            var value = G[i][j] || G[j][i];\n            if (value) {\n              edges.push({\n                id: this.e(i, j),\n                source: this.n(i),\n                target: this.n(j),\n                color: this.color.default,\n                size: 1,\n                weight: refineByType(value)\n              });\n            }\n          }\n        } else {\n          for (var _j = 0; _j < G[i].length; _j++) {\n            if (G[i][_j]) {\n              edges.push({\n                id: this.e(i, _j),\n                source: this.n(i),\n                target: this.n(_j),\n                color: this.color.default,\n                size: 1,\n                weight: refineByType(G[i][_j])\n              });\n            }\n          }\n        }\n      }\n\n      this.graph.read({\n        nodes: nodes,\n        edges: edges\n      });\n      this.s.camera.goTo({\n        x: 0,\n        y: 0,\n        angle: 0,\n        ratio: 1\n      });\n      this.refresh();\n\n      return false;\n    }\n  }, {\n    key: 'resize',\n    value: function resize() {\n      _get(DirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(DirectedGraphTracer.prototype), 'resize', this).call(this);\n\n      this.s.renderers[0].resize();\n      this.refresh();\n    }\n  }, {\n    key: 'refresh',\n    value: function refresh() {\n      _get(DirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(DirectedGraphTracer.prototype), 'refresh', this).call(this);\n\n      this.s.refresh();\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      _get(DirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(DirectedGraphTracer.prototype), 'clear', this).call(this);\n\n      this.clearGraphColor();\n      this.refresh();\n    }\n  }, {\n    key: 'clearGraphColor',\n    value: function clearGraphColor() {\n      var tracer = this;\n\n      this.graph.nodes().forEach(function (node) {\n        node.color = tracer.color.default;\n      });\n      this.graph.edges().forEach(function (edge) {\n        edge.color = tracer.color.default;\n      });\n    }\n  }, {\n    key: 'n',\n    value: function n(v) {\n      return 'n' + v;\n    }\n  }, {\n    key: 'e',\n    value: function e(v1, v2) {\n      return 'e' + v1 + '_' + v2;\n    }\n  }, {\n    key: 'getColor',\n    value: function getColor(edge, source, target, settings) {\n      var color = edge.color,\n          edgeColor = settings('edgeColor'),\n          defaultNodeColor = settings('defaultNodeColor'),\n          defaultEdgeColor = settings('defaultEdgeColor');\n      if (!color) switch (edgeColor) {\n        case 'source':\n          color = source.color || defaultNodeColor;\n          break;\n        case 'target':\n          color = target.color || defaultNodeColor;\n          break;\n        default:\n          color = defaultEdgeColor;\n          break;\n      }\n\n      return color;\n    }\n  }, {\n    key: 'drawLabel',\n    value: function drawLabel(node, context, settings) {\n      var fontSize,\n          prefix = settings('prefix') || '',\n          size = node[prefix + 'size'];\n\n      if (size < settings('labelThreshold')) return;\n\n      if (!node.label || typeof node.label !== 'string') return;\n\n      fontSize = settings('labelSize') === 'fixed' ? settings('defaultLabelSize') : settings('labelSizeRatio') * size;\n\n      context.font = (settings('fontStyle') ? settings('fontStyle') + ' ' : '') + fontSize + 'px ' + settings('font');\n      context.fillStyle = settings('labelColor') === 'node' ? node.color || settings('defaultNodeColor') : settings('defaultLabelColor');\n\n      context.textAlign = 'center';\n      context.fillText(node.label, Math.round(node[prefix + 'x']), Math.round(node[prefix + 'y'] + fontSize / 3));\n    }\n  }, {\n    key: 'drawArrow',\n    value: function drawArrow(edge, source, target, color, context, settings) {\n      var prefix = settings('prefix') || '',\n          size = edge[prefix + 'size'] || 1,\n          tSize = target[prefix + 'size'],\n          sX = source[prefix + 'x'],\n          sY = source[prefix + 'y'],\n          tX = target[prefix + 'x'],\n          tY = target[prefix + 'y'],\n          angle = Math.atan2(tY - sY, tX - sX),\n          dist = 3;\n      sX += Math.sin(angle) * dist;\n      tX += Math.sin(angle) * dist;\n      sY += -Math.cos(angle) * dist;\n      tY += -Math.cos(angle) * dist;\n      var aSize = Math.max(size * 2.5, settings('minArrowSize')),\n          d = Math.sqrt(Math.pow(tX - sX, 2) + Math.pow(tY - sY, 2)),\n          aX = sX + (tX - sX) * (d - aSize - tSize) / d,\n          aY = sY + (tY - sY) * (d - aSize - tSize) / d,\n          vX = (tX - sX) * aSize / d,\n          vY = (tY - sY) * aSize / d;\n\n      context.strokeStyle = color;\n      context.lineWidth = size;\n      context.beginPath();\n      context.moveTo(sX, sY);\n      context.lineTo(aX, aY);\n      context.stroke();\n\n      context.fillStyle = color;\n      context.beginPath();\n      context.moveTo(aX + vX, aY + vY);\n      context.lineTo(aX + vY * 0.6, aY - vX * 0.6);\n      context.lineTo(aX - vY * 0.6, aY + vX * 0.6);\n      context.lineTo(aX + vX, aY + vY);\n      context.closePath();\n      context.fill();\n    }\n  }, {\n    key: 'drawOnHover',\n    value: function drawOnHover(node, context, settings, next) {\n      var tracer = this;\n\n      context.setLineDash([5, 5]);\n      var nodeIdx = node.id.substring(1);\n      this.graph.edges().forEach(function (edge) {\n        var ends = edge.id.substring(1).split(\"_\");\n        if (ends[0] == nodeIdx) {\n          var color = '#0ff';\n          var source = node;\n          var target = tracer.graph.nodes('n' + ends[1]);\n          tracer.drawArrow(edge, source, target, color, context, settings);\n          if (next) next(edge, source, target, color, context, settings);\n        } else if (ends[1] == nodeIdx) {\n          var color = '#ff0';\n          var source = tracer.graph.nodes('n' + ends[0]);\n          var target = node;\n          tracer.drawArrow(edge, source, target, color, context, settings);\n          if (next) next(edge, source, target, color, context, settings);\n        }\n      });\n    }\n  }]);\n\n  return DirectedGraphTracer;\n}(Tracer);\n\nvar initView = function initView(tracer) {\n  tracer.s = tracer.capsule.s = new sigma({\n    renderer: {\n      container: tracer.$container[0],\n      type: 'canvas'\n    },\n    settings: {\n      minArrowSize: 8,\n      defaultEdgeType: 'arrow',\n      maxEdgeSize: 2.5,\n      labelThreshold: 4,\n      font: 'Roboto',\n      defaultLabelColor: '#fff',\n      zoomMin: 0.6,\n      zoomMax: 1.2,\n      skipErrors: true,\n      minNodeSize: .5,\n      maxNodeSize: 12,\n      labelSize: 'proportional',\n      labelSizeRatio: 1.3,\n      funcLabelsDef: function funcLabelsDef(node, context, settings) {\n        tracer.drawLabel(node, context, settings);\n      },\n      funcHoversDef: function funcHoversDef(node, context, settings, next) {\n        tracer.drawOnHover(node, context, settings, next);\n      },\n      funcEdgesArrow: function funcEdgesArrow(edge, source, target, context, settings) {\n        var color = tracer.getColor(edge, source, target, settings);\n        tracer.drawArrow(edge, source, target, color, context, settings);\n      }\n    }\n  });\n  sigma.plugins.dragNodes(tracer.s, tracer.s.renderers[0]);\n  tracer.graph = tracer.capsule.graph = tracer.s.graph;\n};\n\nsigma.canvas.labels.def = function (node, context, settings) {\n  var func = settings('funcLabelsDef');\n  if (func) {\n    func(node, context, settings);\n  }\n};\nsigma.canvas.hovers.def = function (node, context, settings) {\n  var func = settings('funcHoversDef');\n  if (func) {\n    func(node, context, settings);\n  }\n};\nsigma.canvas.edges.def = function (edge, source, target, context, settings) {\n  var func = settings('funcEdgesDef');\n  if (func) {\n    func(edge, source, target, context, settings);\n  }\n};\nsigma.canvas.edges.arrow = function (edge, source, target, context, settings) {\n  var func = settings('funcEdgesArrow');\n  if (func) {\n    func(edge, source, target, context, settings);\n  }\n};\n\nmodule.exports = DirectedGraphTracer;\n\n},{\"../../tracer_manager/util/index\":75,\"./tracer\":55}],52:[function(require,module,exports){\n'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Tracer = require('./tracer');\n\nvar _require = require('../../tracer_manager/util/index'),\n    refineByType = _require.refineByType;\n\nvar DirectedGraphConstructTracer = function (_Tracer) {\n  _inherits(DirectedGraphConstructTracer, _Tracer);\n\n  _createClass(DirectedGraphConstructTracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'DirectedGraphConstructTracer';\n    }\n  }]);\n\n  function DirectedGraphConstructTracer(name) {\n    var nodePlacement = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, DirectedGraphConstructTracer);\n\n    var _this = _possibleConstructorReturn(this, (DirectedGraphConstructTracer.__proto__ || Object.getPrototypeOf(DirectedGraphConstructTracer)).call(this, name));\n\n    _this.nodePlacement = nodePlacement;\n    _this.nodeCollection = [];\n    if (_this.isNew) initView(_this);\n    return _this;\n  }\n\n  _createClass(DirectedGraphConstructTracer, [{\n    key: '_addRoot',\n    value: function _addRoot(root) {\n      this.manager.pushStep(this.capsule, {\n        type: 'addRoot',\n        arguments: arguments\n      });\n      return this;\n    }\n  }, {\n    key: '_addNode',\n    value: function _addNode(element) {\n      var parentElement = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      this.manager.pushStep(this.capsule, {\n        type: 'addNode',\n        arguments: arguments\n      });\n      return this;\n    }\n  }, {\n    key: '_findNode',\n    value: function _findNode(val) {\n      var idToFind = this.n(val);\n      var G = this.nodeCollection;\n      var result = null;\n      for (var i = 0; i < G.length; i++) {\n        if (G[i].id === idToFind) {\n          result = G[i];\n          break;\n        }\n      }\n      return result;\n    }\n  }, {\n    key: '_visit',\n    value: function _visit(target, source) {\n      this.manager.pushStep(this.capsule, {\n        type: 'visit',\n        target: target,\n        source: source\n      });\n      return this;\n    }\n  }, {\n    key: '_leave',\n    value: function _leave(target, source) {\n      this.manager.pushStep(this.capsule, {\n        type: 'leave',\n        target: target,\n        source: source\n      });\n      return this;\n    }\n  }, {\n    key: '_setNodePositions',\n    value: function _setNodePositions(positions) {\n      this.manager.pushStep(this.capsule, {\n        type: 'setNodePositions',\n        positions: positions\n      });\n      return this;\n    }\n  }, {\n    key: '_clearTraversal',\n    value: function _clearTraversal() {\n      this.manager.pushStep(this.capsule, {\n        type: 'clear'\n      });\n      return this;\n    }\n  }, {\n    key: 'processStep',\n    value: function processStep(step, options) {\n      switch (step.type) {\n        case 'clear':\n          this.clear.apply(this);\n          break;\n        case 'setNodePositions':\n          $.each(this.graph.nodes(), function (i, node) {\n            if (i >= step.positions.length) return false;\n            var position = step.positions[i];\n            node.x = position.x;\n            node.y = position.y;\n          });\n          break;\n        case 'addRoot':\n          this.addRoot.apply(this, step.arguments);\n          break;\n        case 'addNode':\n          this.addNode.apply(this, step.arguments);\n          break;\n        case 'visit':\n        case 'leave':\n          var visit = step.type == 'visit';\n          var nodeObject = this._findNode(step.target);\n          nodeObject.visited = visit;\n          nodeObject.isNew = false;\n          var targetNode = this.graph.nodes(this.n(step.target));\n          var color = visit ? this.color.visited : this.color.left;\n          if (targetNode) {\n            targetNode.color = color;\n            if (step.source !== undefined) {\n              var edgeId = this.e(step.source, step.target);\n              var edge = this.graph.edges(edgeId);\n              edge.color = color;\n              this.graph.dropEdge(edgeId).addEdge(edge);\n            }\n          }\n          if (this.logTracer) {\n            var source = step.source;\n            if (source === undefined) source = '';\n            this.logTracer.print(visit ? source + ' -> ' + step.target : source + ' <- ' + step.target);\n          }\n          break;\n        default:\n          _get(DirectedGraphConstructTracer.prototype.__proto__ || Object.getPrototypeOf(DirectedGraphConstructTracer.prototype), 'processStep', this).call(this, step, options);\n      }\n    }\n  }, {\n    key: 'addRoot',\n    value: function addRoot(root) {\n      if (this.rootObject) throw 'Root for this graph is already added';\n      this.rootObject = this.createGraphNode(root);\n      this.drawGraph(this.rootObject.level);\n    }\n  }, {\n    key: 'addNode',\n    value: function addNode(node, parent) {\n      var nodeObject = this.createGraphNode(node, parent);\n      this.drawGraph(nodeObject.level);\n    }\n  }, {\n    key: 'createGraphNode',\n    value: function createGraphNode(node, parent) {\n      var nodeObject = this.nodeConstruct(node);\n      var parentObject = this._findNode(parent);\n      if (parentObject) {\n        nodeObject.parent = parentObject;\n        nodeObject.level = parentObject.level + 1;\n        if (this.nodePlacement === null) {\n          parentObject.children.push(nodeObject);\n        } else if (this.nodePlacement === 0) {\n          var isSpliced = false;\n          var insertIndex = 0;\n          if (parentObject.children.length > 0) {\n            for (var i = 0; i < parentObject.children.length; i++) {\n              var child = parentObject.children[i];\n              if (child.originalVal > node) {\n                isSpliced = true;\n                break;\n              }\n              insertIndex++;\n            }\n          }\n          if (isSpliced) {\n            parentObject.children.splice(insertIndex, 0, nodeObject);\n          } else {\n            parentObject.children.push(nodeObject);\n          }\n        }\n      }\n      this.nodeCollection.push(nodeObject);\n      return nodeObject;\n    }\n  }, {\n    key: 'nodeConstruct',\n    value: function nodeConstruct(val) {\n      var nodeObject = {\n        id: this.n(val),\n        originalVal: val,\n        isNew: true,\n        visited: false,\n        children: [],\n        level: 1,\n        parent: null\n      };\n      return nodeObject;\n    }\n  }, {\n    key: 'drawGraph',\n    value: function drawGraph(nodeLevel) {\n      var nodes = [];\n      var edges = [];\n      var tracer = this;\n\n      var arrangeChildNodes = function arrangeChildNodes(node, offsetWidth) {\n        if (node.children.length > 1) {\n          var midPoint = Math.floor(node.children.length / 2);\n          for (var i = 0; i < node.children.length; i++) {\n            if (i === midPoint) {\n              offsetWidth += node.children.length % 2 === 0 ? 1 : 0;\n              addGraphNode(node, offsetWidth);\n            }\n            offsetWidth = arrangeChildNodes(node.children[i], offsetWidth);\n            addEdge(node, node.children[i]);\n          }\n        } else {\n          if (node.children.length === 0) {\n            offsetWidth += 1;\n          } else {\n            offsetWidth = arrangeChildNodes(node.children[0], offsetWidth);\n            addEdge(node, node.children[0]);\n          }\n          addGraphNode(node, offsetWidth);\n        }\n        return offsetWidth;\n      };\n\n      var addGraphNode = function addGraphNode(node, calculatedX) {\n        var color = getColor(node.isNew, node.visited, tracer.color);\n        nodes.push({\n          id: node.id,\n          label: '' + node.originalVal,\n          x: calculatedX,\n          y: node.level - 1,\n          size: 1,\n          color: color,\n          weight: 0\n        });\n      };\n\n      var addEdge = function addEdge(node, childNode) {\n        var color = getColor(node.visited && childNode.isNew, node.visited && childNode.visited, tracer.color);\n        edges.push({\n          id: tracer.e(node.originalVal, childNode.originalVal),\n          source: node.id,\n          target: childNode.id,\n          color: color,\n          size: 1,\n          weight: refineByType(childNode.originalVal)\n        });\n      };\n\n      var getColor = function getColor(isNew, isVisited, colorPalete) {\n        return isNew ? colorPalete.selected : isVisited ? colorPalete.visited : colorPalete.default;\n      };\n      arrangeChildNodes(this.rootObject, 0);\n\n      this.graph.clear();\n      this.graph.read({\n        nodes: nodes,\n        edges: edges\n      });\n      this.s.camera.goTo({\n        x: 0,\n        y: nodeLevel,\n        angle: 0,\n        ratio: 1\n      });\n      this.refresh();\n\n      return false;\n    }\n  }, {\n    key: 'resize',\n    value: function resize() {\n      _get(DirectedGraphConstructTracer.prototype.__proto__ || Object.getPrototypeOf(DirectedGraphConstructTracer.prototype), 'resize', this).call(this);\n\n      this.s.renderers[0].resize();\n      this.refresh();\n    }\n  }, {\n    key: 'refresh',\n    value: function refresh() {\n      _get(DirectedGraphConstructTracer.prototype.__proto__ || Object.getPrototypeOf(DirectedGraphConstructTracer.prototype), 'refresh', this).call(this);\n\n      this.s.refresh();\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      _get(DirectedGraphConstructTracer.prototype.__proto__ || Object.getPrototypeOf(DirectedGraphConstructTracer.prototype), 'clear', this).call(this);\n\n      this.clearGraphColor();\n      this.refresh();\n    }\n  }, {\n    key: 'clearGraphColor',\n    value: function clearGraphColor() {\n      var tracer = this;\n      this.nodeCollection.forEach(function (node) {\n        node.visited = node.isNew = false;\n      });\n\n      this.graph.nodes().forEach(function (node) {\n        node.color = tracer.color.default;\n      });\n      this.graph.edges().forEach(function (edge) {\n        edge.color = tracer.color.default;\n      });\n    }\n  }, {\n    key: 'n',\n    value: function n(v) {\n      return 'n' + v;\n    }\n  }, {\n    key: 'e',\n    value: function e(v1, v2) {\n      return 'e' + v1 + '_' + v2;\n    }\n  }, {\n    key: 'getColor',\n    value: function getColor(edge, source, target, settings) {\n      var color = edge.color,\n          edgeColor = settings('edgeColor'),\n          defaultNodeColor = settings('defaultNodeColor'),\n          defaultEdgeColor = settings('defaultEdgeColor');\n      if (!color) switch (edgeColor) {\n        case 'source':\n          color = source.color || defaultNodeColor;\n          break;\n        case 'target':\n          color = target.color || defaultNodeColor;\n          break;\n        default:\n          color = defaultEdgeColor;\n          break;\n      }\n\n      return color;\n    }\n  }, {\n    key: 'drawLabel',\n    value: function drawLabel(node, context, settings) {\n      var fontSize,\n          prefix = settings('prefix') || '',\n          size = node[prefix + 'size'];\n\n      if (size < settings('labelThreshold')) return;\n\n      if (!node.label || typeof node.label !== 'string') return;\n\n      fontSize = settings('labelSize') === 'fixed' ? settings('defaultLabelSize') : settings('labelSizeRatio') * size;\n\n      context.font = (settings('fontStyle') ? settings('fontStyle') + ' ' : '') + fontSize + 'px ' + settings('font');\n      context.fillStyle = settings('labelColor') === 'node' ? node.color || settings('defaultNodeColor') : settings('defaultLabelColor');\n\n      context.textAlign = 'center';\n      context.fillText(node.label, Math.round(node[prefix + 'x']), Math.round(node[prefix + 'y'] + fontSize / 3));\n    }\n  }, {\n    key: 'drawArrow',\n    value: function drawArrow(edge, source, target, color, context, settings) {\n      var prefix = settings('prefix') || '',\n          size = edge[prefix + 'size'] || 1,\n          tSize = target[prefix + 'size'],\n          sX = source[prefix + 'x'],\n          sY = source[prefix + 'y'],\n          tX = target[prefix + 'x'],\n          tY = target[prefix + 'y'],\n          angle = Math.atan2(tY - sY, tX - sX),\n          dist = 3;\n      sX += Math.sin(angle) * dist;\n      tX += Math.sin(angle) * dist;\n      sY += -Math.cos(angle) * dist;\n      tY += -Math.cos(angle) * dist;\n      var aSize = Math.max(size * 2.5, settings('minArrowSize')),\n          d = Math.sqrt(Math.pow(tX - sX, 2) + Math.pow(tY - sY, 2)),\n          aX = sX + (tX - sX) * (d - aSize - tSize) / d,\n          aY = sY + (tY - sY) * (d - aSize - tSize) / d,\n          vX = (tX - sX) * aSize / d,\n          vY = (tY - sY) * aSize / d;\n\n      context.strokeStyle = color;\n      context.lineWidth = size;\n      context.beginPath();\n      context.moveTo(sX, sY);\n      context.lineTo(aX, aY);\n      context.stroke();\n\n      context.fillStyle = color;\n      context.beginPath();\n      context.moveTo(aX + vX, aY + vY);\n      context.lineTo(aX + vY * 0.6, aY - vX * 0.6);\n      context.lineTo(aX - vY * 0.6, aY + vX * 0.6);\n      context.lineTo(aX + vX, aY + vY);\n      context.closePath();\n      context.fill();\n    }\n  }, {\n    key: 'drawOnHover',\n    value: function drawOnHover(node, context, settings, next) {\n      var tracer = this;\n\n      context.setLineDash([5, 5]);\n      var nodeIdx = node.id.substring(1);\n      this.graph.edges().forEach(function (edge) {\n        var ends = edge.id.substring(1).split(\"_\");\n        if (ends[0] == nodeIdx) {\n          var color = '#0ff';\n          var source = node;\n          var target = tracer.graph.nodes('n' + ends[1]);\n          tracer.drawArrow(edge, source, target, color, context, settings);\n          if (next) next(edge, source, target, color, context, settings);\n        } else if (ends[1] == nodeIdx) {\n          var color = '#ff0';\n          var source = tracer.graph.nodes('n' + ends[0]);\n          var target = node;\n          tracer.drawArrow(edge, source, target, color, context, settings);\n          if (next) next(edge, source, target, color, context, settings);\n        }\n      });\n    }\n  }]);\n\n  return DirectedGraphConstructTracer;\n}(Tracer);\n\nvar initView = function initView(tracer) {\n  tracer.s = tracer.capsule.s = new sigma({\n    renderer: {\n      container: tracer.$container[0],\n      type: 'canvas'\n    },\n    settings: {\n      minArrowSize: 8,\n      defaultEdgeType: 'arrow',\n      maxEdgeSize: 2.5,\n      labelThreshold: 4,\n      font: 'Roboto',\n      defaultLabelColor: '#fff',\n      zoomMin: 0.6,\n      zoomMax: 1.2,\n      skipErrors: true,\n      minNodeSize: .5,\n      maxNodeSize: 12,\n      labelSize: 'proportional',\n      labelSizeRatio: 1.3,\n      funcLabelsDef: function funcLabelsDef(node, context, settings) {\n        tracer.drawLabel(node, context, settings);\n      },\n      funcHoversDef: function funcHoversDef(node, context, settings, next) {\n        tracer.drawOnHover(node, context, settings, next);\n      },\n      funcEdgesArrow: function funcEdgesArrow(edge, source, target, context, settings) {\n        var color = tracer.getColor(edge, source, target, settings);\n        tracer.drawArrow(edge, source, target, color, context, settings);\n      }\n    }\n  });\n  sigma.plugins.dragNodes(tracer.s, tracer.s.renderers[0]);\n  tracer.graph = tracer.capsule.graph = tracer.s.graph;\n};\n\nsigma.canvas.labels.def = function (node, context, settings) {\n  var func = settings('funcLabelsDef');\n  if (func) {\n    func(node, context, settings);\n  }\n};\nsigma.canvas.hovers.def = function (node, context, settings) {\n  var func = settings('funcHoversDef');\n  if (func) {\n    func(node, context, settings);\n  }\n};\nsigma.canvas.edges.def = function (edge, source, target, context, settings) {\n  var func = settings('funcEdgesDef');\n  if (func) {\n    func(edge, source, target, context, settings);\n  }\n};\nsigma.canvas.edges.arrow = function (edge, source, target, context, settings) {\n  var func = settings('funcEdgesArrow');\n  if (func) {\n    func(edge, source, target, context, settings);\n  }\n};\n\nmodule.exports = DirectedGraphConstructTracer;\n\n},{\"../../tracer_manager/util/index\":75,\"./tracer\":55}],53:[function(require,module,exports){\n'use strict';\n\nvar Tracer = require('./tracer');\nvar LogTracer = require('./log');\nvar Array1DTracer = require('./array1d');\nvar Array2DTracer = require('./array2d');\nvar ChartTracer = require('./chart');\nvar CoordinateSystemTracer = require('./coordinate_system');\nvar DirectedGraphTracer = require('./directed_graph');\nvar DirectedGraphConstructTracer = require('./directed_graph_construct');\nvar UndirectedGraphTracer = require('./undirected_graph');\nvar WeightedDirectedGraphTracer = require('./weighted_directed_graph');\nvar WeightedUndirectedGraphTracer = require('./weighted_undirected_graph');\n\nmodule.exports = {\n  Tracer: Tracer,\n  LogTracer: LogTracer,\n  Array1DTracer: Array1DTracer,\n  Array2DTracer: Array2DTracer,\n  ChartTracer: ChartTracer,\n  CoordinateSystemTracer: CoordinateSystemTracer,\n  DirectedGraphTracer: DirectedGraphTracer,\n  DirectedGraphConstructTracer: DirectedGraphConstructTracer,\n  UndirectedGraphTracer: UndirectedGraphTracer,\n  WeightedDirectedGraphTracer: WeightedDirectedGraphTracer,\n  WeightedUndirectedGraphTracer: WeightedUndirectedGraphTracer\n};\n\n},{\"./array1d\":47,\"./array2d\":48,\"./chart\":49,\"./coordinate_system\":50,\"./directed_graph\":51,\"./directed_graph_construct\":52,\"./log\":54,\"./tracer\":55,\"./undirected_graph\":56,\"./weighted_directed_graph\":57,\"./weighted_undirected_graph\":58}],54:[function(require,module,exports){\n'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Tracer = require('./tracer');\n\nvar LogTracer = function (_Tracer) {\n  _inherits(LogTracer, _Tracer);\n\n  _createClass(LogTracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'LogTracer';\n    }\n  }]);\n\n  function LogTracer(name) {\n    _classCallCheck(this, LogTracer);\n\n    var _this = _possibleConstructorReturn(this, (LogTracer.__proto__ || Object.getPrototypeOf(LogTracer)).call(this, name));\n\n    if (_this.isNew) initView(_this);\n    return _this;\n  }\n\n  _createClass(LogTracer, [{\n    key: '_print',\n    value: function _print(msg) {\n      this.manager.pushStep(this.capsule, {\n        type: 'print',\n        msg: msg\n      });\n      return this;\n    }\n  }, {\n    key: 'processStep',\n    value: function processStep(step, options) {\n      switch (step.type) {\n        case 'print':\n          this.print(step.msg);\n          break;\n      }\n    }\n  }, {\n    key: 'refresh',\n    value: function refresh() {\n      this.scrollToEnd(Math.min(50, this.interval));\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      _get(LogTracer.prototype.__proto__ || Object.getPrototypeOf(LogTracer.prototype), 'clear', this).call(this);\n\n      this.$wrapper.empty();\n    }\n  }, {\n    key: 'print',\n    value: function print(message) {\n      this.$wrapper.append($('<span>').append(message + '<br/>'));\n      window.postMessage(JSON.stringify({\n        action: 'trace',\n        message: message\n      }));\n    }\n  }, {\n    key: 'scrollToEnd',\n    value: function scrollToEnd(duration) {\n      this.$container.animate({\n        scrollTop: this.$container[0].scrollHeight\n      }, duration);\n    }\n  }]);\n\n  return LogTracer;\n}(Tracer);\n\nvar initView = function initView(tracer) {\n  tracer.$wrapper = tracer.capsule.$wrapper = $('<div class=\"wrapper\">');\n  tracer.$container.append(tracer.$wrapper);\n};\n\nmodule.exports = LogTracer;\n\n},{\"./tracer\":55}],55:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar app = require('../../app');\n\nvar _require = require('../../tracer_manager/util/index'),\n    toJSON = _require.toJSON,\n    fromJSON = _require.fromJSON;\n\nvar Tracer = function () {\n  _createClass(Tracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'Tracer';\n    }\n  }]);\n\n  function Tracer(name) {\n    _classCallCheck(this, Tracer);\n\n    this.module = this.constructor;\n\n    this.color = {\n      selected: '#2962ff',\n      notified: '#f50057',\n      visited: '#f50057',\n      left: '#616161',\n      default: '#bdbdbd'\n    };\n\n    this.manager = app.getTracerManager();\n    this.capsule = this.manager.allocate(this);\n    $.extend(this, this.capsule);\n\n    this.setName(name);\n  }\n\n  _createClass(Tracer, [{\n    key: '_setData',\n    value: function _setData() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.manager.pushStep(this.capsule, {\n        type: 'setData',\n        args: toJSON(args)\n      });\n      return this;\n    }\n  }, {\n    key: '_clear',\n    value: function _clear() {\n      this.manager.pushStep(this.capsule, {\n        type: 'clear'\n      });\n      return this;\n    }\n  }, {\n    key: '_wait',\n    value: function _wait(line) {\n      this.manager.newStep(line);\n      return this;\n    }\n  }, {\n    key: 'processStep',\n    value: function processStep(step, options) {\n      var type = step.type,\n          args = step.args;\n\n\n      switch (type) {\n        case 'setData':\n          this.setData.apply(this, _toConsumableArray(fromJSON(args)));\n          break;\n        case 'clear':\n          this.clear();\n          break;\n      }\n    }\n  }, {\n    key: 'setName',\n    value: function setName(name) {\n      var $name = void 0;\n      if (this.isNew) {\n        $name = $('<span class=\"name\">');\n        this.$container.append($name);\n      } else {\n        $name = this.$container.find('span.name');\n      }\n      $name.text(name || this.defaultName);\n    }\n  }, {\n    key: 'setData',\n    value: function setData() {\n      var data = toJSON(arguments);\n      if (!this.isNew && this.lastData === data) {\n        return true;\n      }\n      this.lastData = this.capsule.lastData = data;\n      return false;\n    }\n  }, {\n    key: 'resize',\n    value: function resize() {}\n  }, {\n    key: 'refresh',\n    value: function refresh() {}\n  }, {\n    key: 'clear',\n    value: function clear() {}\n  }, {\n    key: 'attach',\n    value: function attach(tracer) {\n      switch (tracer.module) {\n        case LogTracer:\n          this.logTracer = tracer;\n          break;\n        case ChartTracer:\n          this.chartTracer = tracer;\n          break;\n      }\n      return this;\n    }\n  }, {\n    key: 'palette',\n    value: function palette(color) {\n      $.extend(this.color, color);\n      return this;\n    }\n  }, {\n    key: 'mousedown',\n    value: function mousedown(e) {}\n  }, {\n    key: 'mousemove',\n    value: function mousemove(e) {}\n  }, {\n    key: 'mouseup',\n    value: function mouseup(e) {}\n  }, {\n    key: 'mousewheel',\n    value: function mousewheel(e) {}\n  }]);\n\n  return Tracer;\n}();\n\nmodule.exports = Tracer;\n\n},{\"../../app\":3,\"../../tracer_manager/util/index\":75}],56:[function(require,module,exports){\n'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DirectedGraphTracer = require('./directed_graph');\n\nvar UndirectedGraphTracer = function (_DirectedGraphTracer) {\n  _inherits(UndirectedGraphTracer, _DirectedGraphTracer);\n\n  _createClass(UndirectedGraphTracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'UndirectedGraphTracer';\n    }\n  }]);\n\n  function UndirectedGraphTracer(name) {\n    _classCallCheck(this, UndirectedGraphTracer);\n\n    var _this = _possibleConstructorReturn(this, (UndirectedGraphTracer.__proto__ || Object.getPrototypeOf(UndirectedGraphTracer)).call(this, name));\n\n    if (_this.isNew) initView(_this);\n    return _this;\n  }\n\n  _createClass(UndirectedGraphTracer, [{\n    key: 'setTreeData',\n    value: function setTreeData(G, root) {\n      return _get(UndirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(UndirectedGraphTracer.prototype), 'setTreeData', this).call(this, G, root, true);\n    }\n  }, {\n    key: 'setData',\n    value: function setData(G) {\n      return _get(UndirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(UndirectedGraphTracer.prototype), 'setData', this).call(this, G, true);\n    }\n  }, {\n    key: 'e',\n    value: function e(v1, v2) {\n      if (v1 > v2) {\n        var temp = v1;\n        v1 = v2;\n        v2 = temp;\n      }\n      return 'e' + v1 + '_' + v2;\n    }\n  }, {\n    key: 'drawOnHover',\n    value: function drawOnHover(node, context, settings, next) {\n      var tracer = this;\n\n      context.setLineDash([5, 5]);\n      var nodeIdx = node.id.substring(1);\n      this.graph.edges().forEach(function (edge) {\n        var ends = edge.id.substring(1).split(\"_\");\n        if (ends[0] == nodeIdx) {\n          var color = '#0ff';\n          var source = node;\n          var target = tracer.graph.nodes('n' + ends[1]);\n          tracer.drawEdge(edge, source, target, color, context, settings);\n          if (next) next(edge, source, target, color, context, settings);\n        } else if (ends[1] == nodeIdx) {\n          var color = '#0ff';\n          var source = tracer.graph.nodes('n' + ends[0]);\n          var target = node;\n          tracer.drawEdge(edge, source, target, color, context, settings);\n          if (next) next(edge, source, target, color, context, settings);\n        }\n      });\n    }\n  }, {\n    key: 'drawEdge',\n    value: function drawEdge(edge, source, target, color, context, settings) {\n      var prefix = settings('prefix') || '',\n          size = edge[prefix + 'size'] || 1;\n\n      context.strokeStyle = color;\n      context.lineWidth = size;\n      context.beginPath();\n      context.moveTo(source[prefix + 'x'], source[prefix + 'y']);\n      context.lineTo(target[prefix + 'x'], target[prefix + 'y']);\n      context.stroke();\n    }\n  }]);\n\n  return UndirectedGraphTracer;\n}(DirectedGraphTracer);\n\nvar initView = function initView(tracer) {\n  tracer.s.settings({\n    defaultEdgeType: 'def',\n    funcEdgesDef: function funcEdgesDef(edge, source, target, context, settings) {\n      var color = tracer.getColor(edge, source, target, settings);\n      tracer.drawEdge(edge, source, target, color, context, settings);\n    }\n  });\n};\n\nmodule.exports = UndirectedGraphTracer;\n\n},{\"./directed_graph\":51}],57:[function(require,module,exports){\n'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DirectedGraphTracer = require('./directed_graph');\n\nvar _require = require('../../tracer_manager/util/index'),\n    refineByType = _require.refineByType;\n\nvar WeightedDirectedGraphTracer = function (_DirectedGraphTracer) {\n  _inherits(WeightedDirectedGraphTracer, _DirectedGraphTracer);\n\n  _createClass(WeightedDirectedGraphTracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'WeightedDirectedGraphTracer';\n    }\n  }]);\n\n  function WeightedDirectedGraphTracer(name) {\n    _classCallCheck(this, WeightedDirectedGraphTracer);\n\n    var _this = _possibleConstructorReturn(this, (WeightedDirectedGraphTracer.__proto__ || Object.getPrototypeOf(WeightedDirectedGraphTracer)).call(this, name));\n\n    if (_this.isNew) initView(_this);\n    return _this;\n  }\n\n  _createClass(WeightedDirectedGraphTracer, [{\n    key: '_weight',\n    value: function _weight(target, weight) {\n      this.manager.pushStep(this.capsule, {\n        type: 'weight',\n        target: target,\n        weight: weight\n      });\n      return this;\n    }\n  }, {\n    key: '_visit',\n    value: function _visit(target, source, weight) {\n      this.manager.pushStep(this.capsule, {\n        type: 'visit',\n        target: target,\n        source: source,\n        weight: weight\n      });\n      return this;\n    }\n  }, {\n    key: '_leave',\n    value: function _leave(target, source, weight) {\n      this.manager.pushStep(this.capsule, {\n        type: 'leave',\n        target: target,\n        source: source,\n        weight: weight\n      });\n      return this;\n    }\n  }, {\n    key: 'processStep',\n    value: function processStep(step, options) {\n      switch (step.type) {\n        case 'weight':\n          var targetNode = this.graph.nodes(this.n(step.target));\n          if (step.weight !== undefined) targetNode.weight = refineByType(step.weight);\n          break;\n        case 'visit':\n        case 'leave':\n          var visit = step.type == 'visit';\n          var targetNode = this.graph.nodes(this.n(step.target));\n          var color = visit ? step.weight === undefined ? this.color.selected : this.color.visited : this.color.left;\n          targetNode.color = color;\n          if (step.weight !== undefined) targetNode.weight = refineByType(step.weight);\n          if (step.source !== undefined) {\n            var edgeId = this.e(step.source, step.target);\n            var edge = this.graph.edges(edgeId);\n            edge.color = color;\n            this.graph.dropEdge(edgeId).addEdge(edge);\n          }\n          if (this.logTracer) {\n            var source = step.source;\n            if (source === undefined) source = '';\n            this.logTracer.print(visit ? source + ' -> ' + step.target : source + ' <- ' + step.target);\n          }\n          break;\n        default:\n          _get(WeightedDirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(WeightedDirectedGraphTracer.prototype), 'processStep', this).call(this, step, options);\n      }\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      _get(WeightedDirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(WeightedDirectedGraphTracer.prototype), 'clear', this).call(this);\n\n      this.clearWeights();\n    }\n  }, {\n    key: 'clearWeights',\n    value: function clearWeights() {\n      this.graph.nodes().forEach(function (node) {\n        node.weight = 0;\n      });\n    }\n  }, {\n    key: 'drawEdgeWeight',\n    value: function drawEdgeWeight(edge, source, target, color, context, settings) {\n      if (source == target) return;\n\n      var prefix = settings('prefix') || '',\n          size = edge[prefix + 'size'] || 1;\n\n      if (size < settings('edgeLabelThreshold')) return;\n\n      if (0 === settings('edgeLabelSizePowRatio')) throw '\"edgeLabelSizePowRatio\" must not be 0.';\n\n      var fontSize,\n          x = (source[prefix + 'x'] + target[prefix + 'x']) / 2,\n          y = (source[prefix + 'y'] + target[prefix + 'y']) / 2,\n          dX = target[prefix + 'x'] - source[prefix + 'x'],\n          dY = target[prefix + 'y'] - source[prefix + 'y'],\n          angle = Math.atan2(dY, dX);\n\n      fontSize = settings('edgeLabelSize') === 'fixed' ? settings('defaultEdgeLabelSize') : settings('defaultEdgeLabelSize') * size * Math.pow(size, -1 / settings('edgeLabelSizePowRatio'));\n\n      context.save();\n\n      if (edge.active) {\n        context.font = [settings('activeFontStyle'), fontSize + 'px', settings('activeFont') || settings('font')].join(' ');\n\n        context.fillStyle = color;\n      } else {\n        context.font = [settings('fontStyle'), fontSize + 'px', settings('font')].join(' ');\n\n        context.fillStyle = color;\n      }\n\n      context.textAlign = 'center';\n      context.textBaseline = 'alphabetic';\n\n      context.translate(x, y);\n      context.rotate(angle);\n      context.fillText(edge.weight, 0, -size / 2 - 3);\n\n      context.restore();\n    }\n  }, {\n    key: 'drawNodeWeight',\n    value: function drawNodeWeight(node, context, settings) {\n      var fontSize,\n          prefix = settings('prefix') || '',\n          size = node[prefix + 'size'];\n\n      if (size < settings('labelThreshold')) return;\n\n      fontSize = settings('labelSize') === 'fixed' ? settings('defaultLabelSize') : settings('labelSizeRatio') * size;\n\n      context.font = (settings('fontStyle') ? settings('fontStyle') + ' ' : '') + fontSize + 'px ' + settings('font');\n      context.fillStyle = settings('labelColor') === 'node' ? node.color || settings('defaultNodeColor') : settings('defaultLabelColor');\n\n      context.textAlign = 'left';\n      context.fillText(node.weight, Math.round(node[prefix + 'x'] + size * 1.5), Math.round(node[prefix + 'y'] + fontSize / 3));\n    }\n  }]);\n\n  return WeightedDirectedGraphTracer;\n}(DirectedGraphTracer);\n\nvar initView = function initView(tracer) {\n  tracer.s.settings({\n    edgeLabelSize: 'proportional',\n    defaultEdgeLabelSize: 20,\n    edgeLabelSizePowRatio: 0.8,\n    funcLabelsDef: function funcLabelsDef(node, context, settings) {\n      tracer.drawNodeWeight(node, context, settings);\n      tracer.drawLabel(node, context, settings);\n    },\n    funcHoversDef: function funcHoversDef(node, context, settings) {\n      tracer.drawOnHover(node, context, settings, tracer.drawEdgeWeight);\n    },\n    funcEdgesArrow: function funcEdgesArrow(edge, source, target, context, settings) {\n      var color = tracer.getColor(edge, source, target, settings);\n      tracer.drawArrow(edge, source, target, color, context, settings);\n      tracer.drawEdgeWeight(edge, source, target, color, context, settings);\n    }\n  });\n};\n\nmodule.exports = WeightedDirectedGraphTracer;\n\n},{\"../../tracer_manager/util/index\":75,\"./directed_graph\":51}],58:[function(require,module,exports){\n'use strict';\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar WeightedDirectedGraphTracer = require('./weighted_directed_graph');\nvar UndirectedGraphTracer = require('./undirected_graph');\n\nvar WeightedUndirectedGraphTracer = function (_WeightedDirectedGrap) {\n  _inherits(WeightedUndirectedGraphTracer, _WeightedDirectedGrap);\n\n  _createClass(WeightedUndirectedGraphTracer, null, [{\n    key: 'getClassName',\n    value: function getClassName() {\n      return 'WeightedUndirectedGraphTracer';\n    }\n  }]);\n\n  function WeightedUndirectedGraphTracer(name) {\n    _classCallCheck(this, WeightedUndirectedGraphTracer);\n\n    var _this = _possibleConstructorReturn(this, (WeightedUndirectedGraphTracer.__proto__ || Object.getPrototypeOf(WeightedUndirectedGraphTracer)).call(this, name));\n\n    _this.e = UndirectedGraphTracer.prototype.e;\n    _this.drawOnHover = UndirectedGraphTracer.prototype.drawOnHover;\n    _this.drawEdge = UndirectedGraphTracer.prototype.drawEdge;\n\n    if (_this.isNew) initView(_this);\n    return _this;\n  }\n\n  _createClass(WeightedUndirectedGraphTracer, [{\n    key: 'setTreeData',\n    value: function setTreeData(G, root) {\n      return _get(WeightedUndirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(WeightedUndirectedGraphTracer.prototype), 'setTreeData', this).call(this, G, root, true);\n    }\n  }, {\n    key: 'setData',\n    value: function setData(G) {\n      return _get(WeightedUndirectedGraphTracer.prototype.__proto__ || Object.getPrototypeOf(WeightedUndirectedGraphTracer.prototype), 'setData', this).call(this, G, true);\n    }\n  }, {\n    key: 'drawEdgeWeight',\n    value: function drawEdgeWeight(edge, source, target, color, context, settings) {\n      var prefix = settings('prefix') || '';\n      if (source[prefix + 'x'] > target[prefix + 'x']) {\n        var temp = source;\n        source = target;\n        target = temp;\n      }\n      WeightedDirectedGraphTracer.prototype.drawEdgeWeight.call(this, edge, source, target, color, context, settings);\n    }\n  }]);\n\n  return WeightedUndirectedGraphTracer;\n}(WeightedDirectedGraphTracer);\n\nvar initView = function initView(tracer) {\n  tracer.s.settings({\n    defaultEdgeType: 'def',\n    funcEdgesDef: function funcEdgesDef(edge, source, target, context, settings) {\n      var color = tracer.getColor(edge, source, target, settings);\n      tracer.drawEdge(edge, source, target, color, context, settings);\n      tracer.drawEdgeWeight(edge, source, target, color, context, settings);\n    }\n  });\n};\n\nmodule.exports = WeightedUndirectedGraphTracer;\n\n},{\"./undirected_graph\":56,\"./weighted_directed_graph\":57}],59:[function(require,module,exports){\n'use strict';\n\nvar request = require('./request');\n\nmodule.exports = function (url) {\n  return request(url, {\n    type: 'GET'\n  });\n};\n\n},{\"./request\":62}],60:[function(require,module,exports){\n'use strict';\n\nvar request = require('./request');\n\nmodule.exports = function (url) {\n  return request(url, {\n    dataType: 'json',\n    type: 'GET'\n  });\n};\n\n},{\"./request\":62}],61:[function(require,module,exports){\n'use strict';\n\nvar request = require('./request');\n\nmodule.exports = function (url, data) {\n  return request(url, {\n    dataType: 'json',\n    type: 'POST',\n    data: JSON.stringify(data)\n  });\n};\n\n},{\"./request\":62}],62:[function(require,module,exports){\n'use strict';\n\nvar RSVP = require('rsvp');\nvar app = require('../../app');\n\nvar _$ = $,\n    ajax = _$.ajax,\n    extend = _$.extend;\n\n\nvar defaults = {};\n\nmodule.exports = function (url) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  app.setIsLoading(true);\n\n  return new RSVP.Promise(function (resolve, reject) {\n    var callbacks = {\n      success: function success(response) {\n        app.setIsLoading(false);\n        resolve(response);\n      },\n      error: function error(reason) {\n        app.setIsLoading(false);\n        reject(reason);\n      }\n    };\n\n    var opts = extend({}, defaults, options, callbacks, {\n      url: url\n    });\n\n    ajax(opts);\n  });\n};\n\n},{\"../../app\":3,\"rsvp\":80}],63:[function(require,module,exports){\n'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar app = require('../app');\nvar Toast = require('../dom/toast');\n\nvar checkLoading = function checkLoading() {\n  if (app.getIsLoading()) {\n    Toast.showErrorToast('Wait until it completes loading of previous file.');\n    return true;\n  }\n  return false;\n};\n\nvar getParameterByName = function getParameterByName(name) {\n  var url = window.location.href;\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n\n  var results = regex.exec(url);\n\n  if (!results || results.length !== 3) {\n    return null;\n  }\n\n  var _results = _slicedToArray(results, 3),\n      id = _results[2];\n\n  return id;\n};\n\nvar getHashValue = function getHashValue(key) {\n  if (!key) return null;\n  var hash = window.location.hash.substr(1);\n  var params = hash ? hash.split('&') : [];\n  for (var i = 0; i < params.length; i++) {\n    var pair = params[i].split('=');\n    if (pair[0] === key) {\n      return pair[1];\n    }\n  }\n  return null;\n};\n\nvar setHashValue = function setHashValue(key, value) {\n  if (!key || !value) return;\n  var hash = window.location.hash.substr(1);\n  var params = hash ? hash.split('&') : [];\n\n  var found = false;\n  for (var i = 0; i < params.length && !found; i++) {\n    var pair = params[i].split('=');\n    if (pair[0] === key) {\n      pair[1] = value;\n      params[i] = pair.join('=');\n      found = true;\n    }\n  }\n  if (!found) {\n    params.push([key, value].join('='));\n  }\n\n  var newHash = params.join('&');\n  window.location.hash = '#' + newHash;\n};\n\nvar removeHashValue = function removeHashValue(key) {\n  if (!key) return;\n  var hash = window.location.hash.substr(1);\n  var params = hash ? hash.split('&') : [];\n\n  for (var i = 0; i < params.length; i++) {\n    var pair = params[i].split('=');\n    if (pair[0] === key) {\n      params.splice(i, 1);\n      break;\n    }\n  }\n\n  var newHash = params.join('&');\n  window.location.hash = '#' + newHash;\n};\n\nvar setPath = function setPath(category, algorithm, file) {\n  var path = category ? category + (algorithm ? '/' + algorithm + (file ? '/' + file : '') : '') : '';\n  setHashValue('path', path);\n};\n\nvar getPath = function getPath() {\n  var hash = getHashValue('path');\n  if (hash) {\n    var _hash$split = hash.split('/'),\n        _hash$split2 = _slicedToArray(_hash$split, 3),\n        category = _hash$split2[0],\n        algorithm = _hash$split2[1],\n        file = _hash$split2[2];\n\n    return { category: category, algorithm: algorithm, file: file };\n  } else {\n    return false;\n  }\n};\n\nmodule.exports = {\n  checkLoading: checkLoading,\n  getParameterByName: getParameterByName,\n  getHashValue: getHashValue,\n  setHashValue: setHashValue,\n  removeHashValue: removeHashValue,\n  setPath: setPath,\n  getPath: getPath\n};\n\n},{\"../app\":3,\"../dom/toast\":31}],64:[function(require,module,exports){\n'use strict';\n\nvar loadAlgorithm = require('./load_algorithm');\nvar loadCategories = require('./load_categories');\nvar loadFile = require('./load_file');\nvar loadScratchPaper = require('./load_scratch_paper');\nvar shareScratchPaper = require('./share_scratch_paper');\nvar loadWikiList = require('./load_wiki_list');\nvar loadWiki = require('./load_wiki');\n\nmodule.exports = {\n  loadAlgorithm: loadAlgorithm,\n  loadCategories: loadCategories,\n  loadFile: loadFile,\n  loadScratchPaper: loadScratchPaper,\n  shareScratchPaper: shareScratchPaper,\n  loadWikiList: loadWikiList,\n  loadWiki: loadWiki\n};\n\n},{\"./load_algorithm\":65,\"./load_categories\":66,\"./load_file\":67,\"./load_scratch_paper\":68,\"./load_wiki\":69,\"./load_wiki_list\":70,\"./share_scratch_paper\":71}],65:[function(require,module,exports){\n'use strict';\n\nvar getJSON = require('./ajax/get_json');\n\nvar _require = require('../utils'),\n    getAlgorithmDir = _require.getAlgorithmDir;\n\nmodule.exports = function (category, algorithm) {\n  var dir = getAlgorithmDir(category, algorithm);\n  return getJSON(dir + 'desc.json');\n};\n\n},{\"../utils\":78,\"./ajax/get_json\":60}],66:[function(require,module,exports){\n'use strict';\n\nvar getJSON = require('./ajax/get_json');\n\nmodule.exports = function () {\n  return getJSON('./algorithm/category.json');\n};\n\n},{\"./ajax/get_json\":60}],67:[function(require,module,exports){\n'use strict';\n\nvar RSVP = require('rsvp');\n\nvar app = require('../app');\n\nvar _require = require('../utils'),\n    getFileDir = _require.getFileDir,\n    isScratchPaper = _require.isScratchPaper;\n\nvar _require2 = require('./helpers'),\n    checkLoading = _require2.checkLoading,\n    setPath = _require2.setPath;\n\nvar get = require('./ajax/get');\n\nvar loadDataAndCode = function loadDataAndCode(dir) {\n  return RSVP.hash({\n    data: get(dir + 'data.js'),\n    code: get(dir + 'code.js')\n  });\n};\n\nvar loadFileAndUpdateContent = function loadFileAndUpdateContent(dir) {\n  app.getEditor().clearContent();\n\n  return loadDataAndCode(dir).then(function (content) {\n    app.updateCachedFile(dir, content);\n    app.getEditor().setContent(content);\n  });\n};\n\nvar cachedContentExists = function cachedContentExists(cachedFile) {\n  return cachedFile && cachedFile.data !== undefined && cachedFile.code !== undefined;\n};\n\nmodule.exports = function (category, algorithm, file, explanation) {\n  return new RSVP.Promise(function (resolve, reject) {\n    if (checkLoading()) {\n      reject();\n    } else {\n      if (isScratchPaper(category)) {\n        setPath(category, app.getLoadedScratch());\n      } else {\n        setPath(category, algorithm, file);\n      }\n      $('#explanation').html(explanation);\n\n      var dir = getFileDir(category, algorithm, file);\n      app.setLastFileUsed(dir);\n      var cachedFile = app.getCachedFile(dir);\n\n      if (cachedContentExists(cachedFile)) {\n        app.getEditor().setContent(cachedFile);\n        resolve();\n      } else {\n        loadFileAndUpdateContent(dir).then(resolve, reject);\n      }\n    }\n  });\n};\n\n},{\"../app\":3,\"../utils\":78,\"./ajax/get\":59,\"./helpers\":63,\"rsvp\":80}],68:[function(require,module,exports){\n'use strict';\n\nvar RSVP = require('rsvp');\nvar app = require('../app');\n\nvar _require = require('../utils'),\n    getFileDir = _require.getFileDir;\n\nvar getJSON = require('./ajax/get_json');\nvar loadAlgorithm = require('./load_algorithm');\n\nvar extractGistCode = function extractGistCode(files, name) {\n  return files[name + '.js'].content;\n};\n\nmodule.exports = function (gistID) {\n  return new RSVP.Promise(function (resolve, reject) {\n    app.setLoadedScratch(gistID);\n\n    getJSON('https://api.github.com/gists/' + gistID).then(function (_ref) {\n      var files = _ref.files;\n\n\n      var category = 'scratch';\n      var algorithm = gistID;\n\n      loadAlgorithm(category, algorithm).then(function (data) {\n\n        var algoData = extractGistCode(files, 'data');\n        var algoCode = extractGistCode(files, 'code');\n\n        // update scratch paper algo code with the loaded gist code\n        var dir = getFileDir(category, algorithm, 'scratch_paper');\n        app.updateCachedFile(dir, {\n          data: algoData,\n          code: algoCode,\n          'CREDIT.md': 'Shared by an anonymous user from http://parkjs814.github.io/AlgorithmVisualizer'\n        });\n\n        resolve({\n          category: category,\n          algorithm: algorithm,\n          data: data\n        });\n      });\n    });\n  });\n};\n\n},{\"../app\":3,\"../utils\":78,\"./ajax/get_json\":60,\"./load_algorithm\":65,\"rsvp\":80}],69:[function(require,module,exports){\n'use strict';\n\nvar get = require('./ajax/get');\n\nmodule.exports = function (wiki) {\n  return get('./wiki/' + wiki + '.md');\n};\n\n},{\"./ajax/get\":59}],70:[function(require,module,exports){\n'use strict';\n\nvar getJSON = require('./ajax/get_json');\n\nmodule.exports = function () {\n  return getJSON('./wiki.json');\n};\n\n},{\"./ajax/get_json\":60}],71:[function(require,module,exports){\n'use strict';\n\nvar RSVP = require('rsvp');\nvar app = require('../app');\n\nvar postJSON = require('./ajax/post_json');\n\nvar _require = require('./helpers'),\n    setPath = _require.setPath;\n\nmodule.exports = function () {\n  return new RSVP.Promise(function (resolve, reject) {\n    var _app$getEditor = app.getEditor(),\n        dataEditor = _app$getEditor.dataEditor,\n        codeEditor = _app$getEditor.codeEditor;\n\n    var gist = {\n      'description': 'temp',\n      'public': true,\n      'files': {\n        'data.js': {\n          'content': dataEditor.getValue()\n        },\n        'code.js': {\n          'content': codeEditor.getValue()\n        }\n      }\n    };\n\n    postJSON('https://api.github.com/gists', gist).then(function (_ref) {\n      var id = _ref.id;\n\n      app.setLoadedScratch(id);\n      setPath('scratch', id);\n      var _location = location,\n          href = _location.href;\n\n      $('#algorithm').html('Shared');\n      resolve(href);\n    });\n  });\n};\n\n},{\"../app\":3,\"./ajax/post_json\":61,\"./helpers\":63,\"rsvp\":80}],72:[function(require,module,exports){\n'use strict';\n\nvar TracerManager = require('./manager');\nvar Tracer = require('../module/tracer/tracer');\n\nmodule.exports = {\n  init: function init() {\n    var tm = new TracerManager();\n    Tracer.prototype.manager = tm;\n    return tm;\n  }\n};\n\n},{\"../module/tracer/tracer\":55,\"./manager\":73}],73:[function(require,module,exports){\n'use strict';\n\nvar app = require('../app');\nvar ModuleContainer = require('../dom/module_container');\nvar TopMenu = require('../dom/top_menu');\n\nvar _$ = $,\n    each = _$.each,\n    extend = _$.extend,\n    grep = _$.grep;\n\n\nvar stepLimit = 1e6;\n\nvar TracerManager = function TracerManager() {\n  this.timer = null;\n  this.pause = false;\n  this.capsules = [];\n  this.interval = 500;\n};\n\nTracerManager.prototype = {\n  add: function add(tracer) {\n\n    var $container = ModuleContainer.create();\n\n    var capsule = {\n      module: tracer.module,\n      tracer: tracer,\n      allocated: true,\n      defaultName: null,\n      $container: $container,\n      isNew: true\n    };\n\n    this.capsules.push(capsule);\n    return capsule;\n  },\n  allocate: function allocate(newTracer) {\n    var selectedCapsule = null;\n    var count = 0;\n\n    each(this.capsules, function (i, capsule) {\n      if (capsule.module === newTracer.module) {\n        count++;\n        if (!capsule.allocated) {\n          capsule.tracer = newTracer;\n          capsule.allocated = true;\n          capsule.isNew = false;\n          selectedCapsule = capsule;\n          return false;\n        }\n      }\n    });\n\n    if (selectedCapsule === null) {\n      count++;\n      selectedCapsule = this.add(newTracer);\n    }\n\n    var className = newTracer.module.getClassName();\n    selectedCapsule.defaultName = className + ' ' + count;\n    selectedCapsule.order = this.order++;\n    return selectedCapsule;\n  },\n  deallocateAll: function deallocateAll() {\n    this.order = 0;\n    this.reset();\n    each(this.capsules, function (i, capsule) {\n      capsule.allocated = false;\n    });\n  },\n  removeUnallocated: function removeUnallocated() {\n    var changed = false;\n\n    this.capsules = grep(this.capsules, function (capsule) {\n      var removed = !capsule.allocated;\n\n      if (capsule.isNew || removed) {\n        changed = true;\n      }\n      if (removed) {\n        capsule.$container.remove();\n      }\n\n      return !removed;\n    });\n\n    if (changed) {\n      this.place();\n    }\n  },\n  place: function place() {\n    var capsules = this.capsules;\n\n\n    each(capsules, function (i, capsule) {\n      var width = 100;\n      var height = 100 / capsules.length;\n      var top = height * capsule.order;\n\n      capsule.$container.css({\n        top: top + '%',\n        width: width + '%',\n        height: '100%'\n      });\n\n      capsule.tracer.resize();\n    });\n  },\n  resize: function resize() {\n    this.command('resize');\n  },\n  isPause: function isPause() {\n    return this.pause;\n  },\n  setInterval: function setInterval(interval) {\n    TopMenu.setInterval(interval);\n  },\n  reset: function reset() {\n    this.traces = [];\n    this.traceIndex = -1;\n    this.stepCnt = 0;\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n    this.command('clear');\n  },\n  pushStep: function pushStep(capsule, step) {\n    if (this.stepCnt++ > stepLimit) throw \"Tracer's stack overflow\";\n    var len = this.traces.length;\n    if (len == 0) len += this.newStep();\n    var last = this.traces[len - 1];\n    last.push(extend(step, {\n      capsule: capsule\n    }));\n  },\n  newStep: function newStep() {\n    var line = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n\n    var len = this.traces.length;\n    if (len > 0 && ~line) {\n      this.traces[len - 1].push(line);\n    }\n    return this.traces.push([]);\n  },\n  pauseStep: function pauseStep() {\n    if (this.traceIndex < 0) return;\n    this.pause = true;\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n    TopMenu.activateBtnPause();\n  },\n  resumeStep: function resumeStep() {\n    this.pause = false;\n    this.step(this.traceIndex + 1);\n    TopMenu.deactivateBtnPause();\n  },\n  step: function step(i) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var tracer = this;\n\n    if (isNaN(i) || i >= this.traces.length || i < 0) return;\n\n    this.traceIndex = i;\n    var trace = this.traces[i];\n    trace.forEach(function (step) {\n      if (typeof step === 'number') {\n        app.getEditor().highlightLine(step);\n        return;\n      }\n      step.capsule.tracer.processStep(step, options);\n    });\n\n    if (!options.virtual) {\n      this.command('refresh');\n    }\n\n    if (this.pause) return;\n\n    this.timer = setTimeout(function () {\n      if (!tracer.nextStep(options)) {\n        TopMenu.resetTopMenuButtons();\n      }\n    }, this.interval);\n  },\n  prevStep: function prevStep() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this.command('clear');\n\n    var finalIndex = this.traceIndex - 1;\n    if (finalIndex < 0) {\n      this.traceIndex = -1;\n      this.command('refresh');\n      return false;\n    }\n\n    for (var i = 0; i < finalIndex; i++) {\n      this.step(i, extend(options, {\n        virtual: true\n      }));\n    }\n\n    this.step(finalIndex);\n    return true;\n  },\n  nextStep: function nextStep() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var finalIndex = this.traceIndex + 1;\n    if (finalIndex >= this.traces.length) {\n      this.traceIndex = this.traces.length - 1;\n      return false;\n    }\n\n    this.step(finalIndex, options);\n    return true;\n  },\n  visualize: function visualize() {\n    this.traceIndex = -1;\n    this.resumeStep();\n  },\n  command: function command() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var functionName = args.shift();\n    each(this.capsules, function (i, capsule) {\n      if (capsule.allocated) {\n        capsule.tracer.module.prototype[functionName].apply(capsule.tracer, args);\n      }\n    });\n  },\n  findOwner: function findOwner(container) {\n    var selectedCapsule = null;\n    each(this.capsules, function (i, capsule) {\n      if (capsule.$container[0] === container) {\n        selectedCapsule = capsule;\n        return false;\n      }\n    });\n    return selectedCapsule.tracer;\n  }\n};\n\nmodule.exports = TracerManager;\n\n},{\"../app\":3,\"../dom/module_container\":14,\"../dom/top_menu\":32}],74:[function(require,module,exports){\n'use strict';\n\nvar parse = JSON.parse;\n\n\nvar fromJSON = function fromJSON(obj) {\n  return parse(obj, function (key, value) {\n    return value === 'Infinity' ? Infinity : value;\n  });\n};\n\nmodule.exports = fromJSON;\n\n},{}],75:[function(require,module,exports){\n'use strict';\n\nvar toJSON = require('./to_json');\nvar fromJSON = require('./from_json');\nvar refineByType = require('./refine_by_type');\n\nmodule.exports = {\n  toJSON: toJSON,\n  fromJSON: fromJSON,\n  refineByType: refineByType\n};\n\n},{\"./from_json\":74,\"./refine_by_type\":76,\"./to_json\":77}],76:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar refineByType = function refineByType(item) {\n  switch (typeof item === 'undefined' ? 'undefined' : _typeof(item)) {\n    case 'number':\n      return refineNumber(item);\n    case 'boolean':\n      return refineBoolean(item);\n    default:\n      return refineString(item);\n  }\n};\n\nvar refineString = function refineString(str) {\n  return str === '' ? ' ' : str;\n};\n\nvar refineNumber = function refineNumber(num) {\n  return num === Infinity ? '∞' : num;\n};\n\nvar refineBoolean = function refineBoolean(bool) {\n  return bool ? 'T' : 'F';\n};\n\nmodule.exports = refineByType;\n\n},{}],77:[function(require,module,exports){\n'use strict';\n\nvar stringify = JSON.stringify;\n\n\nvar toJSON = function toJSON(obj) {\n  return stringify(obj, function (key, value) {\n    return value === Infinity ? 'Infinity' : value;\n  });\n};\n\nmodule.exports = toJSON;\n\n},{}],78:[function(require,module,exports){\n'use strict';\n\nvar isScratchPaper = function isScratchPaper(category, algorithm) {\n  return category == 'scratch';\n};\n\nvar getAlgorithmDir = function getAlgorithmDir(category, algorithm) {\n  if (isScratchPaper(category)) return './algorithm/scratch_paper/';\n  return './algorithm/' + category + '/' + algorithm + '/';\n};\n\nvar getFileDir = function getFileDir(category, algorithm, file) {\n  if (isScratchPaper(category)) return './algorithm/scratch_paper/';\n  return './algorithm/' + category + '/' + algorithm + '/' + file + '/';\n};\n\nvar renderMathJax = function renderMathJax() {\n  MathJax.Hub.Queue([\"Typeset\", MathJax.Hub]);\n};\n\nmodule.exports = {\n  isScratchPaper: isScratchPaper,\n  getAlgorithmDir: getAlgorithmDir,\n  getFileDir: getFileDir,\n  renderMathJax: renderMathJax\n};\n\n},{}],79:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],80:[function(require,module,exports){\n(function (process,global){\n/*!\n * @overview RSVP - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2016 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE\n * @version   3.6.1\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.RSVP = global.RSVP || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction indexOf(callbacks, callback) {\n  for (var i = 0, l = callbacks.length; i < l; i++) {\n    if (callbacks[i] === callback) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction callbacksFor(object) {\n  var callbacks = object._promiseCallbacks;\n\n  if (!callbacks) {\n    callbacks = object._promiseCallbacks = {};\n  }\n\n  return callbacks;\n}\n\n/**\n  @class RSVP.EventTarget\n*/\nvar EventTarget = {\n\n  /**\n    `RSVP.EventTarget.mixin` extends an object with EventTarget methods. For\n    Example:\n     ```javascript\n    let object = {};\n     RSVP.EventTarget.mixin(object);\n     object.on('finished', function(event) {\n      // handle event\n    });\n     object.trigger('finished', { detail: value });\n    ```\n     `EventTarget.mixin` also works with prototypes:\n     ```javascript\n    let Person = function() {};\n    RSVP.EventTarget.mixin(Person.prototype);\n     let yehuda = new Person();\n    let tom = new Person();\n     yehuda.on('poke', function(event) {\n      console.log('Yehuda says OW');\n    });\n     tom.on('poke', function(event) {\n      console.log('Tom says OW');\n    });\n     yehuda.trigger('poke');\n    tom.trigger('poke');\n    ```\n     @method mixin\n    @for RSVP.EventTarget\n    @private\n    @param {Object} object object to extend with EventTarget methods\n  */\n  mixin: function (object) {\n    object['on'] = this['on'];\n    object['off'] = this['off'];\n    object['trigger'] = this['trigger'];\n    object._promiseCallbacks = undefined;\n    return object;\n  },\n\n\n  /**\n    Registers a callback to be executed when `eventName` is triggered\n     ```javascript\n    object.on('event', function(eventInfo){\n      // handle the event\n    });\n     object.trigger('event');\n    ```\n     @method on\n    @for RSVP.EventTarget\n    @private\n    @param {String} eventName name of the event to listen for\n    @param {Function} callback function to be called when the event is triggered.\n  */\n  on: function (eventName, callback) {\n    if (typeof callback !== 'function') {\n      throw new TypeError('Callback must be a function');\n    }\n\n    var allCallbacks = callbacksFor(this),\n        callbacks = void 0;\n\n    callbacks = allCallbacks[eventName];\n\n    if (!callbacks) {\n      callbacks = allCallbacks[eventName] = [];\n    }\n\n    if (indexOf(callbacks, callback) === -1) {\n      callbacks.push(callback);\n    }\n  },\n\n\n  /**\n    You can use `off` to stop firing a particular callback for an event:\n     ```javascript\n    function doStuff() { // do stuff! }\n    object.on('stuff', doStuff);\n     object.trigger('stuff'); // doStuff will be called\n     // Unregister ONLY the doStuff callback\n    object.off('stuff', doStuff);\n    object.trigger('stuff'); // doStuff will NOT be called\n    ```\n     If you don't pass a `callback` argument to `off`, ALL callbacks for the\n    event will not be executed when the event fires. For example:\n     ```javascript\n    let callback1 = function(){};\n    let callback2 = function(){};\n     object.on('stuff', callback1);\n    object.on('stuff', callback2);\n     object.trigger('stuff'); // callback1 and callback2 will be executed.\n     object.off('stuff');\n    object.trigger('stuff'); // callback1 and callback2 will not be executed!\n    ```\n     @method off\n    @for RSVP.EventTarget\n    @private\n    @param {String} eventName event to stop listening to\n    @param {Function} callback optional argument. If given, only the function\n    given will be removed from the event's callback queue. If no `callback`\n    argument is given, all callbacks will be removed from the event's callback\n    queue.\n  */\n  off: function (eventName, callback) {\n    var allCallbacks = callbacksFor(this),\n        callbacks = void 0,\n        index = void 0;\n\n    if (!callback) {\n      allCallbacks[eventName] = [];\n      return;\n    }\n\n    callbacks = allCallbacks[eventName];\n\n    index = indexOf(callbacks, callback);\n\n    if (index !== -1) {\n      callbacks.splice(index, 1);\n    }\n  },\n\n\n  /**\n    Use `trigger` to fire custom events. For example:\n     ```javascript\n    object.on('foo', function(){\n      console.log('foo event happened!');\n    });\n    object.trigger('foo');\n    // 'foo event happened!' logged to the console\n    ```\n     You can also pass a value as a second argument to `trigger` that will be\n    passed as an argument to all event listeners for the event:\n     ```javascript\n    object.on('foo', function(value){\n      console.log(value.name);\n    });\n     object.trigger('foo', { name: 'bar' });\n    // 'bar' logged to the console\n    ```\n     @method trigger\n    @for RSVP.EventTarget\n    @private\n    @param {String} eventName name of the event to be triggered\n    @param {*} options optional value to be passed to any event handlers for\n    the given `eventName`\n  */\n  trigger: function (eventName, options, label) {\n    var allCallbacks = callbacksFor(this),\n        callbacks = void 0,\n        callback = void 0;\n\n    if (callbacks = allCallbacks[eventName]) {\n      // Don't cache the callbacks.length since it may grow\n      for (var i = 0; i < callbacks.length; i++) {\n        callback = callbacks[i];\n\n        callback(options, label);\n      }\n    }\n  }\n};\n\nvar config = {\n  instrument: false\n};\n\nEventTarget['mixin'](config);\n\nfunction configure(name, value) {\n  if (arguments.length === 2) {\n    config[name] = value;\n  } else {\n    return config[name];\n  }\n}\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nfunction isObject(x) {\n  return x !== null && typeof x === 'object';\n}\n\nfunction isMaybeThenable(x) {\n  return x !== null && typeof x === 'object';\n}\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\n// Date.now is not available in browsers < IE9\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now#Compatibility\nvar now = Date.now || function () {\n  return new Date().getTime();\n};\n\nvar queue = [];\n\nfunction scheduleFlush() {\n  setTimeout(function () {\n    for (var i = 0; i < queue.length; i++) {\n      var entry = queue[i];\n\n      var payload = entry.payload;\n\n      payload.guid = payload.key + payload.id;\n      payload.childGuid = payload.key + payload.childId;\n      if (payload.error) {\n        payload.stack = payload.error.stack;\n      }\n\n      config['trigger'](entry.name, entry.payload);\n    }\n    queue.length = 0;\n  }, 50);\n}\n\nfunction instrument(eventName, promise, child) {\n  if (1 === queue.push({\n    name: eventName,\n    payload: {\n      key: promise._guidKey,\n      id: promise._id,\n      eventName: eventName,\n      detail: promise._result,\n      childId: child && child._id,\n      label: promise._label,\n      timeStamp: now(),\n      error: config[\"instrument-with-stack\"] ? new Error(promise._label) : null\n    } })) {\n    scheduleFlush();\n  }\n}\n\n/**\n  `RSVP.Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new RSVP.Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = RSVP.Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {*} object value that the returned promise will be resolved with\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object, label) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop, label);\n  resolve(promise, object);\n  return promise;\n}\n\nfunction withOwnPromise() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  config.async(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value, undefined);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    thenable._onError = null;\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      if (thenable !== value) {\n        resolve(promise, value, undefined);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  var isOwnThenable = maybeThenable.constructor === promise.constructor && then$$1 === then && promise.constructor.resolve === resolve$1;\n\n  if (isOwnThenable) {\n    handleOwnThenable(promise, maybeThenable);\n  } else if (then$$1 === GET_THEN_ERROR) {\n    reject(promise, GET_THEN_ERROR.error);\n    GET_THEN_ERROR.error = null;\n  } else if (isFunction(then$$1)) {\n    handleForeignThenable(promise, maybeThenable, then$$1);\n  } else {\n    fulfill(promise, maybeThenable);\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    fulfill(promise, value);\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onError) {\n    promise._onError(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length === 0) {\n    if (config.instrument) {\n      instrument('fulfilled', promise);\n    }\n  } else {\n    config.async(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n  config.async(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var subscribers = parent._subscribers;\n  var length = subscribers.length;\n\n  parent._onError = null;\n\n  subscribers[length] = child;\n  subscribers[length + FULFILLED] = onFulfillment;\n  subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    config.async(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (config.instrument) {\n    instrument(settled === FULFILLED ? 'fulfilled' : 'rejected', promise);\n  }\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      result = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, result);\n    } else {\n      callback(result);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, result) {\n  try {\n    return callback(result);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(state, promise, callback, result) {\n  var hasCallback = isFunction(callback);\n  var value = void 0,\n      error = void 0;\n\n  if (hasCallback) {\n    value = tryCatch(callback, result);\n\n    if (value === TRY_CATCH_ERROR) {\n      error = value.error;\n      value.error = null; // release\n    } else if (value === promise) {\n      reject(promise, withOwnPromise());\n      return;\n    }\n  } else {\n    value = result;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && error === undefined) {\n    resolve(promise, value);\n  } else if (error !== undefined) {\n    reject(promise, error);\n  } else if (state === FULFILLED) {\n    fulfill(promise, value);\n  } else if (state === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  var resolved = false;\n  try {\n    resolver(function (value) {\n      if (resolved) {\n        return;\n      }\n      resolved = true;\n      resolve(promise, value);\n    }, function (reason) {\n      if (resolved) {\n        return;\n      }\n      resolved = true;\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nfunction then(onFulfillment, onRejection, label) {\n  var parent = this;\n  var state = parent._state;\n\n  if (state === FULFILLED && !onFulfillment || state === REJECTED && !onRejection) {\n    config.instrument && instrument('chained', parent, parent);\n    return parent;\n  }\n\n  parent._onError = null;\n\n  var child = new parent.constructor(noop, label);\n  var result = parent._result;\n\n  config.instrument && instrument('chained', parent, child);\n\n  if (state === PENDING) {\n    subscribe(parent, child, onFulfillment, onRejection);\n  } else {\n    var callback = state === FULFILLED ? onFulfillment : onRejection;\n    config.async(function () {\n      return invokeCallback(state, child, callback, result);\n    });\n  }\n\n  return child;\n}\n\nfunction Enumerator(Constructor, input, abortOnReject, label) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop, label);\n  this._abortOnReject = abortOnReject;\n\n  this._init.apply(this, arguments);\n}\n\nEnumerator.prototype._init = function (Constructor, input) {\n  var len = input.length || 0;\n  this.length = len;\n  this._remaining = len;\n  this._result = new Array(len);\n\n  this._enumerate(input);\n  if (this._remaining === 0) {\n    fulfill(this.promise, this._result);\n  }\n};\n\nEnumerator.prototype._enumerate = function (input) {\n  var length = this.length;\n  var promise = this.promise;\n\n  for (var i = 0; promise._state === PENDING && i < length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator.prototype._settleMaybeThenable = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$1 = c.resolve;\n\n  if (resolve$$1 === resolve$1) {\n    var then$$1 = getThen(entry);\n\n    if (then$$1 === then && entry._state !== PENDING) {\n      entry._onError = null;\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof then$$1 !== 'function') {\n      this._remaining--;\n      this._result[i] = this._makeResult(FULFILLED, i, entry);\n    } else if (c === Promise) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, then$$1);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$1) {\n        return resolve$$1(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$1(entry), i);\n  }\n};\n\nEnumerator.prototype._eachEntry = function (entry, i) {\n  if (isMaybeThenable(entry)) {\n    this._settleMaybeThenable(entry, i);\n  } else {\n    this._remaining--;\n    this._result[i] = this._makeResult(FULFILLED, i, entry);\n  }\n};\n\nEnumerator.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    if (this._abortOnReject && state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._remaining--;\n      this._result[i] = this._makeResult(state, i, value);\n      if (this._remaining === 0) {\n        fulfill(promise, this._result);\n      }\n    }\n  }\n};\n\nEnumerator.prototype._makeResult = function (state, i, value) {\n  return value;\n};\n\nEnumerator.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\nfunction makeSettledResult(state, position, value) {\n  if (state === FULFILLED) {\n    return {\n      state: 'fulfilled',\n      value: value\n    };\n  } else {\n    return {\n      state: 'rejected',\n      reason: value\n    };\n  }\n}\n\n/**\n  `RSVP.Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.resolve(2);\n  let promise3 = RSVP.resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  RSVP.Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.reject(new Error(\"2\"));\n  let promise3 = RSVP.reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  RSVP.Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries, label) {\n  if (!isArray(entries)) {\n    return this.reject(new TypeError(\"Promise.all must be called with an array\"), label);\n  }\n  return new Enumerator(this, entries, true /* abort on reject */, label).promise;\n}\n\n/**\n  `RSVP.Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  RSVP.Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `RSVP.Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new RSVP.Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  RSVP.Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  RSVP.Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} entries array of promises to observe\n  @param {String} label optional string for describing the promise returned.\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries, label) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  var promise = new Constructor(noop, label);\n\n  if (!isArray(entries)) {\n    reject(promise, new TypeError('Promise.race must be called with an array'));\n    return promise;\n  }\n\n  for (var i = 0; promise._state === PENDING && i < entries.length; i++) {\n    subscribe(Constructor.resolve(entries[i]), undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n\n  return promise;\n}\n\n/**\n  `RSVP.Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new RSVP.Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = RSVP.Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {*} reason value that the returned promise will be rejected with.\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason, label) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop, label);\n  reject(promise, reason);\n  return promise;\n}\n\nvar guidKey = 'rsvp_' + now() + '-';\nvar counter = 0;\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise’s eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class RSVP.Promise\n  @param {function} resolver\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise(resolver, label) {\n  this._id = counter++;\n  this._label = label;\n  this._state = undefined;\n  this._result = undefined;\n  this._subscribers = [];\n\n  config.instrument && instrument('created', this);\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise.prototype._onError = function (reason) {\n  var _this = this;\n\n  config.after(function () {\n    if (_this._onError) {\n      config.trigger('error', reason, _this._label);\n    }\n  });\n};\n\n/**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n\n  ```js\n  function findAuthor(){\n    throw new Error('couldn\\'t find that author');\n  }\n\n  // synchronous\n  try {\n    findAuthor();\n  } catch(reason) {\n    // something went wrong\n  }\n\n  // async with promises\n  findAuthor().catch(function(reason){\n    // something went wrong\n  });\n  ```\n\n  @method catch\n  @param {Function} onRejection\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise}\n*/\nPromise.prototype.catch = function (onRejection, label) {\n  return this.then(undefined, onRejection, label);\n};\n\n/**\n  `finally` will be invoked regardless of the promise's fate just as native\n  try/catch/finally behaves\n\n  Synchronous example:\n\n  ```js\n  findAuthor() {\n    if (Math.random() > 0.5) {\n      throw new Error();\n    }\n    return new Author();\n  }\n\n  try {\n    return findAuthor(); // succeed or fail\n  } catch(error) {\n    return findOtherAuthor();\n  } finally {\n    // always runs\n    // doesn't affect the return value\n  }\n  ```\n\n  Asynchronous example:\n\n  ```js\n  findAuthor().catch(function(reason){\n    return findOtherAuthor();\n  }).finally(function(){\n    // author was either found, or not\n  });\n  ```\n\n  @method finally\n  @param {Function} callback\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise}\n*/\nPromise.prototype.finally = function (callback, label) {\n  var promise = this;\n  var constructor = promise.constructor;\n\n  return promise.then(function (value) {\n    return constructor.resolve(callback()).then(function () {\n      return value;\n    });\n  }, function (reason) {\n    return constructor.resolve(callback()).then(function () {\n      throw reason;\n    });\n  }, label);\n};\n\nPromise.cast = resolve$1; // deprecated\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = resolve$1;\nPromise.reject = reject$1;\n\nPromise.prototype._guidKey = guidKey;\n\n/**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n\n  ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n\n  Chaining\n  --------\n\n  The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n\n  ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n\n  findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we\\'re unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we\\'re unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n  ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n\n  Assimilation\n  ------------\n\n  Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n\n  ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n\n  If the assimliated promise rejects, then the downstream promise will also reject.\n\n  ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n\n  Simple Example\n  --------------\n\n  Synchronous Example\n\n  ```javascript\n  let result;\n\n  try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n\n  Errback Example\n\n  ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n\n  Promise Example;\n\n  ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n\n  Advanced Example\n  --------------\n\n  Synchronous Example\n\n  ```javascript\n  let author, books;\n\n  try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n\n  Errback Example\n\n  ```js\n\n  function foundBooks(books) {\n\n  }\n\n  function failure(reason) {\n\n  }\n\n  findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n\n  Promise Example;\n\n  ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n\n  @method then\n  @param {Function} onFulfillment\n  @param {Function} onRejection\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise}\n*/\nPromise.prototype.then = then;\n\nfunction Result() {\n  this.value = undefined;\n}\n\nvar ERROR = new Result();\nvar GET_THEN_ERROR$1 = new Result();\n\nfunction getThen$1(obj) {\n  try {\n    return obj.then;\n  } catch (error) {\n    ERROR.value = error;\n    return ERROR;\n  }\n}\n\nfunction tryApply(f, s, a) {\n  try {\n    f.apply(s, a);\n  } catch (error) {\n    ERROR.value = error;\n    return ERROR;\n  }\n}\n\nfunction makeObject(_, argumentNames) {\n  var obj = {};\n  var length = _.length;\n  var args = new Array(length);\n\n  for (var x = 0; x < length; x++) {\n    args[x] = _[x];\n  }\n\n  for (var i = 0; i < argumentNames.length; i++) {\n    var name = argumentNames[i];\n    obj[name] = args[i + 1];\n  }\n\n  return obj;\n}\n\nfunction arrayResult(_) {\n  var length = _.length;\n  var args = new Array(length - 1);\n\n  for (var i = 1; i < length; i++) {\n    args[i - 1] = _[i];\n  }\n\n  return args;\n}\n\nfunction wrapThenable(then, promise) {\n  return {\n    then: function (onFulFillment, onRejection) {\n      return then.call(promise, onFulFillment, onRejection);\n    }\n  };\n}\n\n/**\n  `RSVP.denodeify` takes a 'node-style' function and returns a function that\n  will return an `RSVP.Promise`. You can use `denodeify` in Node.js or the\n  browser when you'd prefer to use promises over using callbacks. For example,\n  `denodeify` transforms the following:\n\n  ```javascript\n  let fs = require('fs');\n\n  fs.readFile('myfile.txt', function(err, data){\n    if (err) return handleError(err);\n    handleData(data);\n  });\n  ```\n\n  into:\n\n  ```javascript\n  let fs = require('fs');\n  let readFile = RSVP.denodeify(fs.readFile);\n\n  readFile('myfile.txt').then(handleData, handleError);\n  ```\n\n  If the node function has multiple success parameters, then `denodeify`\n  just returns the first one:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request'));\n\n  request('http://example.com').then(function(res) {\n    // ...\n  });\n  ```\n\n  However, if you need all success parameters, setting `denodeify`'s\n  second parameter to `true` causes it to return all success parameters\n  as an array:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request'), true);\n\n  request('http://example.com').then(function(result) {\n    // result[0] -> res\n    // result[1] -> body\n  });\n  ```\n\n  Or if you pass it an array with names it returns the parameters as a hash:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request'), ['res', 'body']);\n\n  request('http://example.com').then(function(result) {\n    // result.res\n    // result.body\n  });\n  ```\n\n  Sometimes you need to retain the `this`:\n\n  ```javascript\n  let app = require('express')();\n  let render = RSVP.denodeify(app.render.bind(app));\n  ```\n\n  The denodified function inherits from the original function. It works in all\n  environments, except IE 10 and below. Consequently all properties of the original\n  function are available to you. However, any properties you change on the\n  denodeified function won't be changed on the original function. Example:\n\n  ```javascript\n  let request = RSVP.denodeify(require('request')),\n      cookieJar = request.jar(); // <- Inheritance is used here\n\n  request('http://example.com', {jar: cookieJar}).then(function(res) {\n    // cookieJar.cookies holds now the cookies returned by example.com\n  });\n  ```\n\n  Using `denodeify` makes it easier to compose asynchronous operations instead\n  of using callbacks. For example, instead of:\n\n  ```javascript\n  let fs = require('fs');\n\n  fs.readFile('myfile.txt', function(err, data){\n    if (err) { ... } // Handle error\n    fs.writeFile('myfile2.txt', data, function(err){\n      if (err) { ... } // Handle error\n      console.log('done')\n    });\n  });\n  ```\n\n  you can chain the operations together using `then` from the returned promise:\n\n  ```javascript\n  let fs = require('fs');\n  let readFile = RSVP.denodeify(fs.readFile);\n  let writeFile = RSVP.denodeify(fs.writeFile);\n\n  readFile('myfile.txt').then(function(data){\n    return writeFile('myfile2.txt', data);\n  }).then(function(){\n    console.log('done')\n  }).catch(function(error){\n    // Handle error\n  });\n  ```\n\n  @method denodeify\n  @static\n  @for RSVP\n  @param {Function} nodeFunc a 'node-style' function that takes a callback as\n  its last argument. The callback expects an error to be passed as its first\n  argument (if an error occurred, otherwise null), and the value from the\n  operation as its second argument ('function(err, value){ }').\n  @param {Boolean|Array} [options] An optional paramter that if set\n  to `true` causes the promise to fulfill with the callback's success arguments\n  as an array. This is useful if the node function has multiple success\n  paramters. If you set this paramter to an array with names, the promise will\n  fulfill with a hash with these names as keys and the success parameters as\n  values.\n  @return {Function} a function that wraps `nodeFunc` to return an\n  `RSVP.Promise`\n  @static\n*/\nfunction denodeify(nodeFunc, options) {\n  var fn = function () {\n    var self = this;\n    var l = arguments.length;\n    var args = new Array(l + 1);\n    var promiseInput = false;\n\n    for (var i = 0; i < l; ++i) {\n      var arg = arguments[i];\n\n      if (!promiseInput) {\n        // TODO: clean this up\n        promiseInput = needsPromiseInput(arg);\n        if (promiseInput === GET_THEN_ERROR$1) {\n          var p = new Promise(noop);\n          reject(p, GET_THEN_ERROR$1.value);\n          return p;\n        } else if (promiseInput && promiseInput !== true) {\n          arg = wrapThenable(promiseInput, arg);\n        }\n      }\n      args[i] = arg;\n    }\n\n    var promise = new Promise(noop);\n\n    args[l] = function (err, val) {\n      if (err) reject(promise, err);else if (options === undefined) resolve(promise, val);else if (options === true) resolve(promise, arrayResult(arguments));else if (isArray(options)) resolve(promise, makeObject(arguments, options));else resolve(promise, val);\n    };\n\n    if (promiseInput) {\n      return handlePromiseInput(promise, args, nodeFunc, self);\n    } else {\n      return handleValueInput(promise, args, nodeFunc, self);\n    }\n  };\n\n  fn.__proto__ = nodeFunc;\n\n  return fn;\n}\n\nfunction handleValueInput(promise, args, nodeFunc, self) {\n  var result = tryApply(nodeFunc, self, args);\n  if (result === ERROR) {\n    reject(promise, result.value);\n  }\n  return promise;\n}\n\nfunction handlePromiseInput(promise, args, nodeFunc, self) {\n  return Promise.all(args).then(function (args) {\n    var result = tryApply(nodeFunc, self, args);\n    if (result === ERROR) {\n      reject(promise, result.value);\n    }\n    return promise;\n  });\n}\n\nfunction needsPromiseInput(arg) {\n  if (arg && typeof arg === 'object') {\n    if (arg.constructor === Promise) {\n      return true;\n    } else {\n      return getThen$1(arg);\n    }\n  } else {\n    return false;\n  }\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.all`.\n\n  @method all\n  @static\n  @for RSVP\n  @param {Array} array Array of promises.\n  @param {String} label An optional label. This is useful\n  for tooling.\n*/\nfunction all$1(array, label) {\n  return Promise.all(array, label);\n}\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AllSettled = function (_Enumerator) {\n  _inherits(AllSettled, _Enumerator);\n\n  function AllSettled(Constructor, entries, label) {\n    return _possibleConstructorReturn(this, _Enumerator.call(this, Constructor, entries, false /* don't abort on reject */, label));\n  }\n\n  return AllSettled;\n}(Enumerator);\n\nAllSettled.prototype._makeResult = makeSettledResult;\n\n/**\n`RSVP.allSettled` is similar to `RSVP.all`, but instead of implementing\na fail-fast method, it waits until all the promises have returned and\nshows you all the results. This is useful if you want to handle multiple\npromises' failure states together as a set.\n Returns a promise that is fulfilled when all the given promises have been\nsettled. The return promise is fulfilled with an array of the states of\nthe promises passed into the `promises` array argument.\n Each state object will either indicate fulfillment or rejection, and\nprovide the corresponding value or reason. The states will take one of\nthe following formats:\n ```javascript\n{ state: 'fulfilled', value: value }\n  or\n{ state: 'rejected', reason: reason }\n```\n Example:\n ```javascript\nlet promise1 = RSVP.Promise.resolve(1);\nlet promise2 = RSVP.Promise.reject(new Error('2'));\nlet promise3 = RSVP.Promise.reject(new Error('3'));\nlet promises = [ promise1, promise2, promise3 ];\n RSVP.allSettled(promises).then(function(array){\n  // array == [\n  //   { state: 'fulfilled', value: 1 },\n  //   { state: 'rejected', reason: Error },\n  //   { state: 'rejected', reason: Error }\n  // ]\n  // Note that for the second item, reason.message will be '2', and for the\n  // third item, reason.message will be '3'.\n}, function(error) {\n  // Not run. (This block would only be called if allSettled had failed,\n  // for instance if passed an incorrect argument type.)\n});\n```\n @method allSettled\n@static\n@for RSVP\n@param {Array} entries\n@param {String} label - optional string that describes the promise.\nUseful for tooling.\n@return {Promise} promise that is fulfilled with an array of the settled\nstates of the constituent promises.\n*/\n\nfunction allSettled(entries, label) {\n  if (!isArray(entries)) {\n    return Promise.reject(new TypeError(\"Promise.allSettled must be called with an array\"), label);\n  }\n\n  return new AllSettled(Promise, entries, label).promise;\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.race`.\n\n  @method race\n  @static\n  @for RSVP\n  @param {Array} array Array of promises.\n  @param {String} label An optional label. This is useful\n  for tooling.\n */\nfunction race$1(array, label) {\n  return Promise.race(array, label);\n}\n\nfunction _possibleConstructorReturn$1(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits$1(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar PromiseHash = function (_Enumerator) {\n  _inherits$1(PromiseHash, _Enumerator);\n\n  function PromiseHash(Constructor, object) {\n    var abortOnReject = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    var label = arguments[3];\n    return _possibleConstructorReturn$1(this, _Enumerator.call(this, Constructor, object, abortOnReject, label));\n  }\n\n  PromiseHash.prototype._init = function _init(Constructor, object) {\n    this._result = {};\n\n    this._enumerate(object);\n    if (this._remaining === 0) {\n      fulfill(this.promise, this._result);\n    }\n  };\n\n  PromiseHash.prototype._enumerate = function _enumerate(input) {\n    var promise = this.promise;\n    var results = [];\n\n    for (var key in input) {\n      if (hasOwnProperty.call(input, key)) {\n        results.push({\n          position: key,\n          entry: input[key]\n        });\n      }\n    }\n\n    var length = results.length;\n    this._remaining = length;\n    var result = void 0;\n\n    for (var i = 0; promise._state === PENDING && i < length; i++) {\n      result = results[i];\n      this._eachEntry(result.entry, result.position);\n    }\n  };\n\n  return PromiseHash;\n}(Enumerator);\n\n/**\n  `RSVP.hash` is similar to `RSVP.all`, but takes an object instead of an array\n  for its `promises` argument.\n\n  Returns a promise that is fulfilled when all the given promises have been\n  fulfilled, or rejected if any of them become rejected. The returned promise\n  is fulfilled with a hash that has the same key names as the `promises` object\n  argument. If any of the values in the object are not promises, they will\n  simply be copied over to the fulfilled object.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.resolve(1),\n    yourPromise: RSVP.resolve(2),\n    theirPromise: RSVP.resolve(3),\n    notAPromise: 4\n  };\n\n  RSVP.hash(promises).then(function(hash){\n    // hash here is an object that looks like:\n    // {\n    //   myPromise: 1,\n    //   yourPromise: 2,\n    //   theirPromise: 3,\n    //   notAPromise: 4\n    // }\n  });\n  ````\n\n  If any of the `promises` given to `RSVP.hash` are rejected, the first promise\n  that is rejected will be given as the reason to the rejection handler.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.resolve(1),\n    rejectedPromise: RSVP.reject(new Error('rejectedPromise')),\n    anotherRejectedPromise: RSVP.reject(new Error('anotherRejectedPromise')),\n  };\n\n  RSVP.hash(promises).then(function(hash){\n    // Code here never runs because there are rejected promises!\n  }, function(reason) {\n    // reason.message === 'rejectedPromise'\n  });\n  ```\n\n  An important note: `RSVP.hash` is intended for plain JavaScript objects that\n  are just a set of keys and values. `RSVP.hash` will NOT preserve prototype\n  chains.\n\n  Example:\n\n  ```javascript\n  function MyConstructor(){\n    this.example = RSVP.resolve('Example');\n  }\n\n  MyConstructor.prototype = {\n    protoProperty: RSVP.resolve('Proto Property')\n  };\n\n  let myObject = new MyConstructor();\n\n  RSVP.hash(myObject).then(function(hash){\n    // protoProperty will not be present, instead you will just have an\n    // object that looks like:\n    // {\n    //   example: 'Example'\n    // }\n    //\n    // hash.hasOwnProperty('protoProperty'); // false\n    // 'undefined' === typeof hash.protoProperty\n  });\n  ```\n\n  @method hash\n  @static\n  @for RSVP\n  @param {Object} object\n  @param {String} label optional string that describes the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all properties of `promises`\n  have been fulfilled, or rejected if any of them become rejected.\n*/\nfunction hash(object, label) {\n  if (!isObject(object)) {\n    return Promise.reject(new TypeError(\"Promise.hash must be called with an object\"), label);\n  }\n\n  return new PromiseHash(Promise, object, label).promise;\n}\n\nfunction _possibleConstructorReturn$2(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits$2(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar HashSettled = function (_PromiseHash) {\n  _inherits$2(HashSettled, _PromiseHash);\n\n  function HashSettled(Constructor, object, label) {\n    return _possibleConstructorReturn$2(this, _PromiseHash.call(this, Constructor, object, false, label));\n  }\n\n  return HashSettled;\n}(PromiseHash);\n\nHashSettled.prototype._makeResult = makeSettledResult;\n\n/**\n  `RSVP.hashSettled` is similar to `RSVP.allSettled`, but takes an object\n  instead of an array for its `promises` argument.\n\n  Unlike `RSVP.all` or `RSVP.hash`, which implement a fail-fast method,\n  but like `RSVP.allSettled`, `hashSettled` waits until all the\n  constituent promises have returned and then shows you all the results\n  with their states and values/reasons. This is useful if you want to\n  handle multiple promises' failure states together as a set.\n\n  Returns a promise that is fulfilled when all the given promises have been\n  settled, or rejected if the passed parameters are invalid.\n\n  The returned promise is fulfilled with a hash that has the same key names as\n  the `promises` object argument. If any of the values in the object are not\n  promises, they will be copied over to the fulfilled object and marked with state\n  'fulfilled'.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.Promise.resolve(1),\n    yourPromise: RSVP.Promise.resolve(2),\n    theirPromise: RSVP.Promise.resolve(3),\n    notAPromise: 4\n  };\n\n  RSVP.hashSettled(promises).then(function(hash){\n    // hash here is an object that looks like:\n    // {\n    //   myPromise: { state: 'fulfilled', value: 1 },\n    //   yourPromise: { state: 'fulfilled', value: 2 },\n    //   theirPromise: { state: 'fulfilled', value: 3 },\n    //   notAPromise: { state: 'fulfilled', value: 4 }\n    // }\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.hash` are rejected, the state will\n  be set to 'rejected' and the reason for rejection provided.\n\n  Example:\n\n  ```javascript\n  let promises = {\n    myPromise: RSVP.Promise.resolve(1),\n    rejectedPromise: RSVP.Promise.reject(new Error('rejection')),\n    anotherRejectedPromise: RSVP.Promise.reject(new Error('more rejection')),\n  };\n\n  RSVP.hashSettled(promises).then(function(hash){\n    // hash here is an object that looks like:\n    // {\n    //   myPromise:              { state: 'fulfilled', value: 1 },\n    //   rejectedPromise:        { state: 'rejected', reason: Error },\n    //   anotherRejectedPromise: { state: 'rejected', reason: Error },\n    // }\n    // Note that for rejectedPromise, reason.message == 'rejection',\n    // and for anotherRejectedPromise, reason.message == 'more rejection'.\n  });\n  ```\n\n  An important note: `RSVP.hashSettled` is intended for plain JavaScript objects that\n  are just a set of keys and values. `RSVP.hashSettled` will NOT preserve prototype\n  chains.\n\n  Example:\n\n  ```javascript\n  function MyConstructor(){\n    this.example = RSVP.Promise.resolve('Example');\n  }\n\n  MyConstructor.prototype = {\n    protoProperty: RSVP.Promise.resolve('Proto Property')\n  };\n\n  let myObject = new MyConstructor();\n\n  RSVP.hashSettled(myObject).then(function(hash){\n    // protoProperty will not be present, instead you will just have an\n    // object that looks like:\n    // {\n    //   example: { state: 'fulfilled', value: 'Example' }\n    // }\n    //\n    // hash.hasOwnProperty('protoProperty'); // false\n    // 'undefined' === typeof hash.protoProperty\n  });\n  ```\n\n  @method hashSettled\n  @for RSVP\n  @param {Object} object\n  @param {String} label optional string that describes the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when when all properties of `promises`\n  have been settled.\n  @static\n*/\n\nfunction hashSettled(object, label) {\n  if (!isObject(object)) {\n    return Promise.reject(new TypeError(\"RSVP.hashSettled must be called with an object\"), label);\n  }\n\n  return new HashSettled(Promise, object, false, label).promise;\n}\n\n/**\n  `RSVP.rethrow` will rethrow an error on the next turn of the JavaScript event\n  loop in order to aid debugging.\n\n  Promises A+ specifies that any exceptions that occur with a promise must be\n  caught by the promises implementation and bubbled to the last handler. For\n  this reason, it is recommended that you always specify a second rejection\n  handler function to `then`. However, `RSVP.rethrow` will throw the exception\n  outside of the promise, so it bubbles up to your console if in the browser,\n  or domain/cause uncaught exception in Node. `rethrow` will also throw the\n  error again so the error can be handled by the promise per the spec.\n\n  ```javascript\n  function throws(){\n    throw new Error('Whoops!');\n  }\n\n  let promise = new RSVP.Promise(function(resolve, reject){\n    throws();\n  });\n\n  promise.catch(RSVP.rethrow).then(function(){\n    // Code here doesn't run because the promise became rejected due to an\n    // error!\n  }, function (err){\n    // handle the error here\n  });\n  ```\n\n  The 'Whoops' error will be thrown on the next turn of the event loop\n  and you can watch for it in your console. You can also handle it using a\n  rejection handler given to `.then` or `.catch` on the returned promise.\n\n  @method rethrow\n  @static\n  @for RSVP\n  @param {Error} reason reason the promise became rejected.\n  @throws Error\n  @static\n*/\nfunction rethrow(reason) {\n  setTimeout(function () {\n    throw reason;\n  });\n  throw reason;\n}\n\n/**\n  `RSVP.defer` returns an object similar to jQuery's `$.Deferred`.\n  `RSVP.defer` should be used when porting over code reliant on `$.Deferred`'s\n  interface. New code should use the `RSVP.Promise` constructor instead.\n\n  The object returned from `RSVP.defer` is a plain object with three properties:\n\n  * promise - an `RSVP.Promise`.\n  * reject - a function that causes the `promise` property on this object to\n    become rejected\n  * resolve - a function that causes the `promise` property on this object to\n    become fulfilled.\n\n  Example:\n\n   ```javascript\n   let deferred = RSVP.defer();\n\n   deferred.resolve(\"Success!\");\n\n   deferred.promise.then(function(value){\n     // value here is \"Success!\"\n   });\n   ```\n\n  @method defer\n  @static\n  @for RSVP\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Object}\n */\n\nfunction defer(label) {\n  var deferred = { resolve: undefined, reject: undefined };\n\n  deferred.promise = new Promise(function (resolve, reject) {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  }, label);\n\n  return deferred;\n}\n\n/**\n `RSVP.map` is similar to JavaScript's native `map` method, except that it\n  waits for all promises to become fulfilled before running the `mapFn` on\n  each item in given to `promises`. `RSVP.map` returns a promise that will\n  become fulfilled with the result of running `mapFn` on the values the promises\n  become fulfilled with.\n\n  For example:\n\n  ```javascript\n\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.resolve(2);\n  let promise3 = RSVP.resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  let mapFn = function(item){\n    return item + 1;\n  };\n\n  RSVP.map(promises, mapFn).then(function(result){\n    // result is [ 2, 3, 4 ]\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.map` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promise's\n  rejection handler. For example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.reject(new Error('2'));\n  let promise3 = RSVP.reject(new Error('3'));\n  let promises = [ promise1, promise2, promise3 ];\n\n  let mapFn = function(item){\n    return item + 1;\n  };\n\n  RSVP.map(promises, mapFn).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(reason) {\n    // reason.message === '2'\n  });\n  ```\n\n  `RSVP.map` will also wait if a promise is returned from `mapFn`. For example,\n  say you want to get all comments from a set of blog posts, but you need\n  the blog posts first because they contain a url to those comments.\n\n  ```javscript\n\n  let mapFn = function(blogPost){\n    // getComments does some ajax and returns an RSVP.Promise that is fulfilled\n    // with some comments data\n    return getComments(blogPost.comments_url);\n  };\n\n  // getBlogPosts does some ajax and returns an RSVP.Promise that is fulfilled\n  // with some blog post data\n  RSVP.map(getBlogPosts(), mapFn).then(function(comments){\n    // comments is the result of asking the server for the comments\n    // of all blog posts returned from getBlogPosts()\n  });\n  ```\n\n  @method map\n  @static\n  @for RSVP\n  @param {Array} promises\n  @param {Function} mapFn function to be called on each fulfilled promise.\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled with the result of calling\n  `mapFn` on each fulfilled promise or value when they become fulfilled.\n   The promise will be rejected if any of the given `promises` become rejected.\n  @static\n*/\nfunction map(promises, mapFn, label) {\n  if (!isArray(promises)) {\n    return Promise.reject(new TypeError(\"RSVP.map must be called with an array\"), label);\n  }\n\n  if (!isFunction(mapFn)) {\n    return Promise.reject(new TypeError(\"RSVP.map expects a function as a second argument\"), label);\n  }\n\n  return Promise.all(promises, label).then(function (values) {\n    var length = values.length;\n    var results = new Array(length);\n\n    for (var i = 0; i < length; i++) {\n      results[i] = mapFn(values[i]);\n    }\n\n    return Promise.all(results, label);\n  });\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.resolve`.\n\n  @method resolve\n  @static\n  @for RSVP\n  @param {*} value value that the returned promise will be resolved with\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$2(value, label) {\n  return Promise.resolve(value, label);\n}\n\n/**\n  This is a convenient alias for `RSVP.Promise.reject`.\n\n  @method reject\n  @static\n  @for RSVP\n  @param {*} reason value that the returned promise will be rejected with.\n  @param {String} label optional string for identifying the returned promise.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$2(reason, label) {\n  return Promise.reject(reason, label);\n}\n\n/**\n `RSVP.filter` is similar to JavaScript's native `filter` method, except that it\n  waits for all promises to become fulfilled before running the `filterFn` on\n  each item in given to `promises`. `RSVP.filter` returns a promise that will\n  become fulfilled with the result of running `filterFn` on the values the\n  promises become fulfilled with.\n\n  For example:\n\n  ```javascript\n\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.resolve(2);\n  let promise3 = RSVP.resolve(3);\n\n  let promises = [promise1, promise2, promise3];\n\n  let filterFn = function(item){\n    return item > 1;\n  };\n\n  RSVP.filter(promises, filterFn).then(function(result){\n    // result is [ 2, 3 ]\n  });\n  ```\n\n  If any of the `promises` given to `RSVP.filter` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promise's\n  rejection handler. For example:\n\n  ```javascript\n  let promise1 = RSVP.resolve(1);\n  let promise2 = RSVP.reject(new Error('2'));\n  let promise3 = RSVP.reject(new Error('3'));\n  let promises = [ promise1, promise2, promise3 ];\n\n  let filterFn = function(item){\n    return item > 1;\n  };\n\n  RSVP.filter(promises, filterFn).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(reason) {\n    // reason.message === '2'\n  });\n  ```\n\n  `RSVP.filter` will also wait for any promises returned from `filterFn`.\n  For instance, you may want to fetch a list of users then return a subset\n  of those users based on some asynchronous operation:\n\n  ```javascript\n\n  let alice = { name: 'alice' };\n  let bob   = { name: 'bob' };\n  let users = [ alice, bob ];\n\n  let promises = users.map(function(user){\n    return RSVP.resolve(user);\n  });\n\n  let filterFn = function(user){\n    // Here, Alice has permissions to create a blog post, but Bob does not.\n    return getPrivilegesForUser(user).then(function(privs){\n      return privs.can_create_blog_post === true;\n    });\n  };\n  RSVP.filter(promises, filterFn).then(function(users){\n    // true, because the server told us only Alice can create a blog post.\n    users.length === 1;\n    // false, because Alice is the only user present in `users`\n    users[0] === bob;\n  });\n  ```\n\n  @method filter\n  @static\n  @for RSVP\n  @param {Array} promises\n  @param {Function} filterFn - function to be called on each resolved value to\n  filter the final results.\n  @param {String} label optional string describing the promise. Useful for\n  tooling.\n  @return {Promise}\n*/\n\nfunction resolveAll(promises, label) {\n  return Promise.all(promises, label);\n}\n\nfunction resolveSingle(promise, label) {\n  return Promise.resolve(promise, label).then(function (promises) {\n    return resolveAll(promises, label);\n  });\n}\n\nfunction filter(promises, filterFn, label) {\n  if (!isArray(promises) && !(isObject(promises) && promises.then !== undefined)) {\n    return Promise.reject(new TypeError(\"RSVP.filter must be called with an array or promise\"), label);\n  }\n\n  if (!isFunction(filterFn)) {\n    return Promise.reject(new TypeError(\"RSVP.filter expects function as a second argument\"), label);\n  }\n\n  var promise = isArray(promises) ? resolveAll(promises, label) : resolveSingle(promises, label);\n  return promise.then(function (values) {\n    var length = values.length;\n    var filtered = new Array(length);\n\n    for (var i = 0; i < length; i++) {\n      filtered[i] = filterFn(values[i]);\n    }\n\n    return resolveAll(filtered, label).then(function (filtered) {\n      var results = new Array(length);\n      var newLength = 0;\n\n      for (var _i = 0; _i < length; _i++) {\n        if (filtered[_i]) {\n          results[newLength] = values[_i];\n          newLength++;\n        }\n      }\n\n      results.length = newLength;\n\n      return results;\n    });\n  });\n}\n\nvar len = 0;\nvar vertxNext = void 0;\nfunction asap(callback, arg) {\n  queue$1[len] = callback;\n  queue$1[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 1, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    scheduleFlush$1();\n  }\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  var nextTick = process.nextTick;\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // setImmediate should be used instead instead\n  var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n  if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n    nextTick = setImmediate;\n  }\n  return function () {\n    return nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    return node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  return function () {\n    return setTimeout(flush, 1);\n  };\n}\n\nvar queue$1 = new Array(1000);\n\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue$1[i];\n    var arg = queue$1[i + 1];\n\n    callback(arg);\n\n    queue$1[i] = undefined;\n    queue$1[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertex() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush$1 = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush$1 = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush$1 = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush$1 = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush$1 = attemptVertex();\n} else {\n  scheduleFlush$1 = useSetTimeout();\n}\n\nvar platform = void 0;\n\n/* global self */\nif (typeof self === 'object') {\n  platform = self;\n\n  /* global global */\n} else if (typeof global === 'object') {\n  platform = global;\n} else {\n  throw new Error('no global: `self` or `global` found');\n}\n\nvar _asap$cast$Promise$Ev;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// defaults\nconfig.async = asap;\nconfig.after = function (cb) {\n  return setTimeout(cb, 0);\n};\nvar cast = resolve$2;\n\nvar async = function (callback, arg) {\n  return config.async(callback, arg);\n};\n\nfunction on() {\n  config['on'].apply(config, arguments);\n}\n\nfunction off() {\n  config['off'].apply(config, arguments);\n}\n\n// Set up instrumentation through `window.__PROMISE_INTRUMENTATION__`\nif (typeof window !== 'undefined' && typeof window['__PROMISE_INSTRUMENTATION__'] === 'object') {\n  var callbacks = window['__PROMISE_INSTRUMENTATION__'];\n  configure('instrument', true);\n  for (var eventName in callbacks) {\n    if (callbacks.hasOwnProperty(eventName)) {\n      on(eventName, callbacks[eventName]);\n    }\n  }\n}\n\n// the default export here is for backwards compat:\n//   https://github.com/tildeio/rsvp.js/issues/434\nvar rsvp = (_asap$cast$Promise$Ev = {\n  asap: asap,\n  cast: cast,\n  Promise: Promise,\n  EventTarget: EventTarget,\n  all: all$1,\n  allSettled: allSettled,\n  race: race$1,\n  hash: hash,\n  hashSettled: hashSettled,\n  rethrow: rethrow,\n  defer: defer,\n  denodeify: denodeify,\n  configure: configure,\n  on: on,\n  off: off,\n  resolve: resolve$2,\n  reject: reject$2,\n  map: map\n}, _defineProperty(_asap$cast$Promise$Ev, 'async', async), _defineProperty(_asap$cast$Promise$Ev, 'filter', filter), _asap$cast$Promise$Ev);\n\nexports['default'] = rsvp;\nexports.asap = asap;\nexports.cast = cast;\nexports.Promise = Promise;\nexports.EventTarget = EventTarget;\nexports.all = all$1;\nexports.allSettled = allSettled;\nexports.race = race$1;\nexports.hash = hash;\nexports.hashSettled = hashSettled;\nexports.rethrow = rethrow;\nexports.defer = defer;\nexports.denodeify = denodeify;\nexports.configure = configure;\nexports.on = on;\nexports.off = off;\nexports.resolve = resolve$2;\nexports.reject = reject$2;\nexports.map = map;\nexports.async = async;\nexports.filter = filter;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"_process\":79}]},{},[36])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9hcHAvY2FjaGUuanMiLCJqcy9hcHAvY29uc3RydWN0b3IuanMiLCJqcy9hcHAvaW5kZXguanMiLCJqcy9jcmVhdGUvYXJyYXkxZC5qcyIsImpzL2NyZWF0ZS9hcnJheTJkLmpzIiwianMvY3JlYXRlL2luZGV4LmpzIiwianMvY3JlYXRlL3V0aWwuanMiLCJqcy9kb20vYWRkX2NhdGVnb3JpZXMuanMiLCJqcy9kb20vYWRkX2ZpbGVzLmpzIiwianMvZG9tL2VuYWJsZV9mdWxsc2NyZWVuLmpzIiwianMvZG9tL2VuYWJsZV9zZWFyY2guanMiLCJqcy9kb20vaW5kZXguanMiLCJqcy9kb20vbG9hZGluZ19zbGlkZXIuanMiLCJqcy9kb20vbW9kdWxlX2NvbnRhaW5lci5qcyIsImpzL2RvbS9yZXNpemVfd29ya3NwYWNlLmpzIiwianMvZG9tL3NldHVwL2luZGV4LmpzIiwianMvZG9tL3NldHVwL3NldHVwX2RpdmlkZXJzLmpzIiwianMvZG9tL3NldHVwL3NldHVwX2RvY3VtZW50LmpzIiwianMvZG9tL3NldHVwL3NldHVwX2ZpbGVzX2Jhci5qcyIsImpzL2RvbS9zZXR1cC9zZXR1cF9pbnRlcnZhbC5qcyIsImpzL2RvbS9zZXR1cC9zZXR1cF9tb2R1bGVfY29udGFpbmVyLmpzIiwianMvZG9tL3NldHVwL3NldHVwX3NpZGVfbWVudS5qcyIsImpzL2RvbS9zZXR1cC9zZXR1cF90YWJfY29udGFpbmVyLmpzIiwianMvZG9tL3NldHVwL3NldHVwX3RvcF9tZW51LmpzIiwianMvZG9tL3NldHVwL3NldHVwX3dpbmRvdy5qcyIsImpzL2RvbS9zaG93X2FsZ29yaXRobS5qcyIsImpzL2RvbS9zaG93X2Rlc2NyaXB0aW9uLmpzIiwianMvZG9tL3Nob3dfZmlyc3RfYWxnb3JpdGhtLmpzIiwianMvZG9tL3Nob3dfcmVxdWVzdGVkX2FsZ29yaXRobS5qcyIsImpzL2RvbS9zaG93X3dpa2kuanMiLCJqcy9kb20vdG9hc3QuanMiLCJqcy9kb20vdG9wX21lbnUuanMiLCJqcy9lZGl0b3IvY3JlYXRlLmpzIiwianMvZWRpdG9yL2V4ZWN1dG9yLmpzIiwianMvZWRpdG9yL2luZGV4LmpzIiwianMvaW5kZXguanMiLCJqcy9tb2R1bGUvZGF0YS9hcnJheTFkLmpzIiwianMvbW9kdWxlL2RhdGEvYXJyYXkyZC5qcyIsImpzL21vZHVsZS9kYXRhL2Nvb3JkaW5hdGVfc3lzdGVtLmpzIiwianMvbW9kdWxlL2RhdGEvZGlyZWN0ZWRfZ3JhcGguanMiLCJqcy9tb2R1bGUvZGF0YS9pbmRleC5qcyIsImpzL21vZHVsZS9kYXRhL2ludGVnZXIuanMiLCJqcy9tb2R1bGUvZGF0YS91bmRpcmVjdGVkX2dyYXBoLmpzIiwianMvbW9kdWxlL2RhdGEvd2VpZ2h0ZWRfZGlyZWN0ZWRfZ3JhcGguanMiLCJqcy9tb2R1bGUvZGF0YS93ZWlnaHRlZF91bmRpcmVjdGVkX2dyYXBoLmpzIiwianMvbW9kdWxlL2luZGV4LmpzIiwianMvbW9kdWxlL3RyYWNlci9hcnJheTFkLmpzIiwianMvbW9kdWxlL3RyYWNlci9hcnJheTJkLmpzIiwianMvbW9kdWxlL3RyYWNlci9jaGFydC5qcyIsImpzL21vZHVsZS90cmFjZXIvY29vcmRpbmF0ZV9zeXN0ZW0uanMiLCJqcy9tb2R1bGUvdHJhY2VyL2RpcmVjdGVkX2dyYXBoLmpzIiwianMvbW9kdWxlL3RyYWNlci9kaXJlY3RlZF9ncmFwaF9jb25zdHJ1Y3QuanMiLCJqcy9tb2R1bGUvdHJhY2VyL2luZGV4LmpzIiwianMvbW9kdWxlL3RyYWNlci9sb2cuanMiLCJqcy9tb2R1bGUvdHJhY2VyL3RyYWNlci5qcyIsImpzL21vZHVsZS90cmFjZXIvdW5kaXJlY3RlZF9ncmFwaC5qcyIsImpzL21vZHVsZS90cmFjZXIvd2VpZ2h0ZWRfZGlyZWN0ZWRfZ3JhcGguanMiLCJqcy9tb2R1bGUvdHJhY2VyL3dlaWdodGVkX3VuZGlyZWN0ZWRfZ3JhcGguanMiLCJqcy9zZXJ2ZXIvYWpheC9nZXQuanMiLCJqcy9zZXJ2ZXIvYWpheC9nZXRfanNvbi5qcyIsImpzL3NlcnZlci9hamF4L3Bvc3RfanNvbi5qcyIsImpzL3NlcnZlci9hamF4L3JlcXVlc3QuanMiLCJqcy9zZXJ2ZXIvaGVscGVycy5qcyIsImpzL3NlcnZlci9pbmRleC5qcyIsImpzL3NlcnZlci9sb2FkX2FsZ29yaXRobS5qcyIsImpzL3NlcnZlci9sb2FkX2NhdGVnb3JpZXMuanMiLCJqcy9zZXJ2ZXIvbG9hZF9maWxlLmpzIiwianMvc2VydmVyL2xvYWRfc2NyYXRjaF9wYXBlci5qcyIsImpzL3NlcnZlci9sb2FkX3dpa2kuanMiLCJqcy9zZXJ2ZXIvbG9hZF93aWtpX2xpc3QuanMiLCJqcy9zZXJ2ZXIvc2hhcmVfc2NyYXRjaF9wYXBlci5qcyIsImpzL3RyYWNlcl9tYW5hZ2VyL2luZGV4LmpzIiwianMvdHJhY2VyX21hbmFnZXIvbWFuYWdlci5qcyIsImpzL3RyYWNlcl9tYW5hZ2VyL3V0aWwvZnJvbV9qc29uLmpzIiwianMvdHJhY2VyX21hbmFnZXIvdXRpbC9pbmRleC5qcyIsImpzL3RyYWNlcl9tYW5hZ2VyL3V0aWwvcmVmaW5lX2J5X3R5cGUuanMiLCJqcy90cmFjZXJfbWFuYWdlci91dGlsL3RvX2pzb24uanMiLCJqcy91dGlscy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcnN2cC9kaXN0L3JzdnAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7U0FJSSxDO0lBREYsTSxNQUFBLE07OztBQUdGLElBQU0sUUFBUTtBQUNaLGdCQUFjLEVBREY7QUFFWixTQUFPO0FBRkssQ0FBZDs7QUFLQSxJQUFNLGlCQUFpQixTQUFqQixjQUFpQixDQUFDLElBQUQsRUFBVTtBQUMvQixNQUFJLENBQUMsSUFBTCxFQUFXO0FBQ1QsVUFBTSxtQkFBTjtBQUNEO0FBQ0YsQ0FKRDs7QUFPQTs7O0FBR0EsT0FBTyxPQUFQLEdBQWlCO0FBRWYsZUFGZSx5QkFFRCxJ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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN4TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHtcbiAgZXh0ZW5kXG59ID0gJDtcblxuY29uc3QgY2FjaGUgPSB7XG4gIGxhc3RGaWxlVXNlZDogJycsXG4gIGZpbGVzOiB7fVxufTtcblxuY29uc3QgYXNzZXJ0RmlsZU5hbWUgPSAobmFtZSkgPT4ge1xuICBpZiAoIW5hbWUpIHtcbiAgICB0aHJvdyAnTWlzc2luZyBmaWxlIG5hbWUnO1xuICB9XG59O1xuXG5cbi8qKlxuICogR2xvYmFsIGFwcGxpY2F0aW9uIGNhY2hlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuXG4gIGdldENhY2hlZEZpbGUobmFtZSkge1xuICAgIGFzc2VydEZpbGVOYW1lKG5hbWUpO1xuICAgIHJldHVybiBjYWNoZS5maWxlc1tuYW1lXTtcbiAgfSxcblxuICB1cGRhdGVDYWNoZWRGaWxlKG5hbWUsIHVwZGF0ZXMpIHtcbiAgICBhc3NlcnRGaWxlTmFtZShuYW1lKTtcbiAgICBpZiAoIWNhY2hlLmZpbGVzW25hbWVdKSB7XG4gICAgICBjYWNoZS5maWxlc1tuYW1lXSA9IHt9O1xuICAgIH1cbiAgICBleHRlbmQoY2FjaGUuZmlsZXNbbmFtZV0sIHVwZGF0ZXMpO1xuICB9LFxuXG4gIGdldExhc3RGaWxlVXNlZCgpIHtcbiAgICByZXR1cm4gY2FjaGUubGFzdEZpbGVVc2VkO1xuICB9LFxuXG4gIHNldExhc3RGaWxlVXNlZChmaWxlKSB7XG4gICAgY2FjaGUubGFzdEZpbGVVc2VkID0gZmlsZTtcbiAgfVxufTsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IEVkaXRvciA9IHJlcXVpcmUoJy4uL2VkaXRvcicpO1xuY29uc3QgVHJhY2VyTWFuYWdlciA9IHJlcXVpcmUoJy4uL3RyYWNlcl9tYW5hZ2VyJyk7XG5jb25zdCBET00gPSByZXF1aXJlKCcuLi9kb20vc2V0dXAnKTtcblxuY29uc3Qge1xuICBzaG93TG9hZGluZ1NsaWRlcixcbiAgaGlkZUxvYWRpbmdTbGlkZXJcbn0gPSByZXF1aXJlKCcuLi9kb20vbG9hZGluZ19zbGlkZXInKTtcblxuY29uc3QgQ2FjaGUgPSByZXF1aXJlKCcuL2NhY2hlJyk7XG5cbmNvbnN0IHN0YXRlID0ge1xuICBpc0xvYWRpbmc6IG51bGwsXG4gIGVkaXRvcjogbnVsbCxcbiAgdHJhY2VyTWFuYWdlcjogbnVsbCxcbiAgY2F0ZWdvcmllczogbnVsbCxcbiAgbG9hZGVkU2NyYXRjaDogbnVsbCxcbiAgd2lraUxpc3Q6IG51bGxcbn07XG5cbmNvbnN0IGluaXRTdGF0ZSA9ICh0cmFjZXJNYW5hZ2VyKSA9PiB7XG4gIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICBzdGF0ZS5lZGl0b3IgPSBuZXcgRWRpdG9yKHRyYWNlck1hbmFnZXIpO1xuICBzdGF0ZS50cmFjZXJNYW5hZ2VyID0gdHJhY2VyTWFuYWdlcjtcbiAgc3RhdGUuY2F0ZWdvcmllcyA9IHt9O1xuICBzdGF0ZS5sb2FkZWRTY3JhdGNoID0gbnVsbDtcbiAgc3RhdGUud2lraUxpc3QgPSBbXTtcbn07XG5cbi8qKlxuICogR2xvYmFsIGFwcGxpY2F0aW9uIHNpbmdsZXRvbi5cbiAqL1xuY29uc3QgQXBwID0gZnVuY3Rpb24gKCkge1xuXG4gIHRoaXMuZ2V0SXNMb2FkaW5nID0gKCkgPT4ge1xuICAgIHJldHVybiBzdGF0ZS5pc0xvYWRpbmc7XG4gIH07XG5cbiAgdGhpcy5zZXRJc0xvYWRpbmcgPSAobG9hZGluZykgPT4ge1xuICAgIHN0YXRlLmlzTG9hZGluZyA9IGxvYWRpbmc7XG4gICAgaWYgKGxvYWRpbmcpIHtcbiAgICAgIHNob3dMb2FkaW5nU2xpZGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZGVMb2FkaW5nU2xpZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuZ2V0RWRpdG9yID0gKCkgPT4ge1xuICAgIHJldHVybiBzdGF0ZS5lZGl0b3I7XG4gIH07XG5cbiAgdGhpcy5nZXRDYXRlZ29yaWVzID0gKCkgPT4ge1xuICAgIHJldHVybiBzdGF0ZS5jYXRlZ29yaWVzO1xuICB9O1xuXG4gIHRoaXMuZ2V0Q2F0ZWdvcnkgPSAobmFtZSkgPT4ge1xuICAgIHJldHVybiBzdGF0ZS5jYXRlZ29yaWVzW25hbWVdO1xuICB9O1xuXG4gIHRoaXMuc2V0Q2F0ZWdvcmllcyA9IChjYXRlZ29yaWVzKSA9PiB7XG4gICAgc3RhdGUuY2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG4gIH07XG5cbiAgdGhpcy51cGRhdGVDYXRlZ29yeSA9IChuYW1lLCB1cGRhdGVzKSA9PiB7XG4gICAgJC5leHRlbmQoc3RhdGUuY2F0ZWdvcmllc1tuYW1lXSwgdXBkYXRlcyk7XG4gIH07XG5cbiAgdGhpcy5nZXRUcmFjZXJNYW5hZ2VyID0gKCkgPT4ge1xuICAgIHJldHVybiBzdGF0ZS50cmFjZXJNYW5hZ2VyO1xuICB9O1xuXG4gIHRoaXMuZ2V0TG9hZGVkU2NyYXRjaCA9ICgpID0+IHtcbiAgICByZXR1cm4gc3RhdGUubG9hZGVkU2NyYXRjaDtcbiAgfTtcblxuICB0aGlzLnNldExvYWRlZFNjcmF0Y2ggPSAobG9hZGVkU2NyYXRjaCkgPT4ge1xuICAgIHN0YXRlLmxvYWRlZFNjcmF0Y2ggPSBsb2FkZWRTY3JhdGNoO1xuICB9O1xuXG4gIHRoaXMuZ2V0V2lraUxpc3QgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlLndpa2lMaXN0O1xuICB9O1xuXG4gIHRoaXMuc2V0V2lraUxpc3QgPSAod2lraUxpc3QpID0+IHtcbiAgICBzdGF0ZS53aWtpTGlzdCA9IHdpa2lMaXN0O1xuICB9O1xuXG4gIHRoaXMuaGFzV2lraSA9ICh3aWtpKSA9PiB7XG4gICAgcmV0dXJuIH5zdGF0ZS53aWtpTGlzdC5pbmRleE9mKHdpa2kpO1xuICB9O1xuXG4gIGNvbnN0IHRyYWNlck1hbmFnZXIgPSBUcmFjZXJNYW5hZ2VyLmluaXQoKTtcblxuICBpbml0U3RhdGUodHJhY2VyTWFuYWdlcik7XG4gIERPTS5zZXR1cCh0cmFjZXJNYW5hZ2VyKTtcblxufTtcblxuQXBwLnByb3RvdHlwZSA9IENhY2hlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFwcDtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUaGlzIGlzIHRoZSBtYWluIGFwcGxpY2F0aW9uIGluc3RhbmNlLlxuICogR2V0cyBwb3B1bGF0ZWQgb24gcGFnZSBsb2FkLiBcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7fTsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGFycmF5MkQgPSByZXF1aXJlKCcuL2FycmF5MmQnKTtcbmNvbnN0IG1vZHVsZXMgPSByZXF1aXJlKCcuLi9tb2R1bGUnKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuY29uc3QgZ2V0VHJhY2VyTmFtZSA9ICgpID0+e1xuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWNlck5hbWUtMURcIikudmFsdWU7XG59XG5cbmNvbnN0IGdldE51bUNvbHVtbnMgPSAoKSA9PiB7XG4gICAgdmFyIGNvbHVtbl9maWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdudW1Db2x1bW5zLTFEJyk7XG4gICAgcmV0dXJuIGNvbHVtbl9maWVsZC52YWx1ZTtcbn07XG5cbmNvbnN0IHNldHVwID0gKCkgPT4ge1xuICAgIHZhciBidXR0b25fMURNYXRyaXggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbi0xRE1hdHJpeFwiKTtcbiAgICB2YXIgbG9nZ2VyO1xuICAgIHZhciBhcnIxRFRyYWNlcjtcbiAgICBidXR0b25fMURNYXRyaXguYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKCl7XG4gICAgICAgIHV0aWwuY2xlYXJNb2R1bGVzKCk7XG4gICAgICAgIGFycjFEVHJhY2VyID0gbmV3IG1vZHVsZXMuQXJyYXkxRFRyYWNlcigpO1xuICAgICAgICB2YXIgYXJyRWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfd3JhcHBlcicpO1xuICAgICAgICBhcnJFbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsIGFycmF5MkQubW91c2VzY3JvbGwsIGZhbHNlKTtcbiAgICAgICAgYXJyRWxlbS5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIiwgYXJyYXkyRC5tb3VzZXNjcm9sbCwgZmFsc2UpO1xuICAgICAgICBsb2dnZXIgPSBuZXcgbW9kdWxlcy5Mb2dUcmFjZXIoJ0dlbmVyYXRlZCBKYXZhc2NyaXB0Jyk7XG5cbiAgICAgICAgdmFyIG51bUNvbHVtbnMgPSBnZXROdW1Db2x1bW5zKCk7XG4gICAgICAgIHZhciBkYXRhID0gYXJyYXkyRC5mYXV4RGF0YSgxLG51bUNvbHVtbnMpWzBdO1xuXG4gICAgICAgIGFycjFEVHJhY2VyLnNldERhdGEoZGF0YSk7XG4gICAgICAgIGFycmF5MkQudGFibGVUb0lucHV0RmllbGRzKDEsIG51bUNvbHVtbnMpO1xuICAgICAgICB1dGlsLnBvc2l0aW9uTW9kdWxlcygpO1xuICAgICAgICBhcnIxRFRyYWNlci5yZWZyZXNoKCk7XG4gICAgfSxmYWxzZSk7XG4gICAgdmFyIGJ1dHRvbl9KUyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b24tZ2VuZXJhdGVKUy0xRCcpO1xuICAgIGJ1dHRvbl9KUy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oKXtcbiAgICAgICAgYXJyYXkyRC5nZW5lcmF0ZUpTKGxvZ2dlciwgJ0FycmF5MURUcmFjZXInLGdldFRyYWNlck5hbWUoKSk7XG4gICAgfSxmYWxzZSk7XG59O1xuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNldHVwXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBtb2R1bGVzID0gcmVxdWlyZSgnLi4vbW9kdWxlJyk7XG5jb25zdCB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG5cblxuY29uc3QgZ2V0VHJhY2VyTmFtZSA9ICgpID0+e1xuICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWNlck5hbWUtMkRcIikudmFsdWU7XG59XG5cbmNvbnN0IGdldE51bVJvd3MgPSAoKSA9PiB7XG4gICAgdmFyIHJvd19maWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdudW1Sb3dzLTJEJyk7XG4gICAgcmV0dXJuIHJvd19maWVsZC52YWx1ZTtcbn1cblxuY29uc3QgZ2V0TnVtQ29sdW1ucyA9ICgpID0+IHtcbiAgICB2YXIgY29sdW1uX2ZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ251bUNvbHVtbnMtMkQnKTtcbiAgICByZXR1cm4gY29sdW1uX2ZpZWxkLnZhbHVlO1xufVxuXG5jb25zdCBmYXV4RGF0YSA9IChyLCBjKSA9PiB7XG4gICAgdmFyIEQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHI7IGkrKykge1xuICAgICAgRC5wdXNoKFtdKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYzsgaisrKSB7XG4gICAgICAgIERbaV0ucHVzaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqIDEwICsgMSkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gRDtcbn1cblxuY29uc3QgdGFibGVUb0lucHV0RmllbGRzID0gKG51bVJvd3MsIG51bUNvbHVtbnMpID0+IHtcbiAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubXRibC10YWJsZScpO1xuXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IG51bVJvd3M7IGkrKyl7XG4gICAgICAgIGZvcih2YXIgaiA9IDA7IGogPCBudW1Db2x1bW5zOyBqKyspe1xuICAgICAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgZWxlbS50eXBlID0gJ1RleHQnO1xuICAgICAgICAgICAgZWxlbS52YWx1ZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwICsgMSk7XG4gICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ210YmwtY29sJywnaW5wdXRGaWVsZCcpO1xuICAgICAgICAgICAgdGFibGUuY2hpbGROb2Rlc1tpXS5jaGlsZE5vZGVzW2pdLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgdGFibGUuY2hpbGROb2Rlc1tpXS5jaGlsZE5vZGVzW2pdLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jb25zdCBnZW5lcmF0ZUpTID0gKGxvZ2dlciwgdHJhY2VyLCB0cmFjZXJOYW1lKSA9PiB7XG4gICAgaWYoIWxvZ2dlcikgcmV0dXJuO1xuXG4gICAgbG9nZ2VyLmNsZWFyKCk7XG4gICAgdmFyIHRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm10YmwtdGFibGUnKTtcblxuICAgIHZhciBudW1Sb3dzID0gdGFibGUuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgdmFyIG51bUNvbHVtbnMgPSB0YWJsZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXMubGVuZ3RoO1xuXG4gICAgbG9nZ2VyLnByaW50KCdDb3B5IGFuZCBwYXN0ZSB0aGlzIGNvZGUgaW4geW91ciBkYXRhLmpzIGZpbGUhJyk7XG4gICAgbG9nZ2VyLnByaW50KCcnKTtcblxuICAgIGlmKG51bVJvd3MgPiAxKSB7XG4gICAgICAgIGxvZ2dlci5wcmludCgnbGV0IG15VGFibGUgPSBbJyk7XG4gICAgfVxuXG4gICAgdmFyIGxpbmUgPSAnbGV0IG15VGFibGUgPSBbJztcbiAgICB2YXIgaTtcbiAgICB2YXIgajtcbiAgICB2YXIgY29tbWEgPSAnLCc7XG4gICAgdmFyIGN1cnJWYWw7XG4gICAgdmFyIG5vcnM7XG4gICAgZm9yKGkgPSAwOyBpIDwgbnVtUm93czsgaSsrKXtcbiAgICAgICAgaWYobnVtUm93cyA+IDEpe1xuICAgICAgICAgICAgbGluZSA9ICdbJztcbiAgICAgICAgfVxuICAgICAgICBmb3IoaiA9IDA7IGogPCBudW1Db2x1bW5zLTE7IGorKyl7XG4gICAgICAgICAgICBjdXJyVmFsID0gdGFibGUuY2hpbGROb2Rlc1tpXS5jaGlsZE5vZGVzW2pdLmNoaWxkTm9kZXNbMF0udmFsdWU7XG4gICAgICAgICAgICBub3JzID0gTnVtYmVyKGN1cnJWYWwpO1xuICAgICAgICAgICAgaWYoaXNOYU4obm9ycykpe1xuICAgICAgICAgICAgICAgIGN1cnJWYWwgPSBcIidcIiArIGN1cnJWYWwgKyBcIidcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmUgKz0gY3VyclZhbCArICcsJztcbiAgICAgICAgfVxuICAgICAgICBpZihpID09PSBudW1Sb3dzIC0gMSl7Y29tbWEgPSAnJzt9XG4gICAgICAgIGN1cnJWYWwgPSB0YWJsZS5jaGlsZE5vZGVzW2ldLmNoaWxkTm9kZXNbaisrXS5jaGlsZE5vZGVzWzBdLnZhbHVlO1xuICAgICAgICBub3JzID0gTnVtYmVyKGN1cnJWYWwpO1xuICAgICAgICBpZihpc05hTihub3JzKSl7XG4gICAgICAgICAgICBjdXJyVmFsID0gXCInXCIgKyBjdXJyVmFsICsgXCInXCI7XG4gICAgICAgIH1cbiAgICAgICAgbGluZSArPSBjdXJyVmFsICsgJ10nICsgY29tbWE7XG4gICAgICAgIGxvZ2dlci5wcmludChsaW5lKTtcbiAgICB9XG4gICAgaWYobnVtUm93cyA+IDEpe1xuICAgICAgICBsb2dnZXIucHJpbnQoJ10nKTtcbiAgICB9XG5cblxuICAgIGxvZ2dlci5wcmludChcImxldCBteVRhYmxlVHJhY2VyID0gbmV3IFwiKyB0cmFjZXIgK1wiICgnXCIrdHJhY2VyTmFtZStcIicpXCIpO1xuICAgIGxvZ2dlci5wcmludCgnbXlUYWJsZVRyYWNlci5fc2V0RGF0YSAobXlUYWJsZSknKTtcblxuICAgIHV0aWwuZW5hYmxlZEhpZ2h0bGlnaHRpbmcoKTtcbn1cblxuY29uc3QgbW91c2VzY3JvbGwgPSAoZSkgPT57XG4gICAgdmFyIGNvbG1FbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm10YmwtY29sJyk7XG4gICAgdmFyIGRlbHRhID0gKGUud2hlZWxEZWx0YSAhPT0gdW5kZWZpbmVkICYmIGUud2hlZWxEZWx0YSkgfHxcbiAgICAgIChlLmRldGFpbCAhPT0gdW5kZWZpbmVkICYmIC1lLmRldGFpbCk7XG5cbiAgICB2YXIgaW5wdXRGaWVsZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5wdXRGaWVsZFwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0RmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlucHV0RmllbGRzW2ldLnN0eWxlLndpZHRoID0gKHBhcnNlRmxvYXQoY29sbUVsZW0uc3R5bGUuZm9udFNpemUpICogMi41KSArIFwicHhcIjtcbiAgICAgfVxuXG59XG5cbmNvbnN0IHNldHVwID0gKCkgPT4ge1xuICAgIHZhciBidXR0b25fMkRNYXRyaXggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ1dHRvbi0yRE1hdHJpeFwiKTtcbiAgICB2YXIgbG9nZ2VyO1xuICAgIHZhciBhcnIyRFRyYWNlcjtcbiAgICBidXR0b25fMkRNYXRyaXguYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKCl7XG4gICAgICAgIHV0aWwuY2xlYXJNb2R1bGVzKCk7XG4gICAgICAgIGFycjJEVHJhY2VyID0gbmV3IG1vZHVsZXMuQXJyYXkyRFRyYWNlcigpO1xuICAgICAgICB2YXIgYXJyRWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfd3JhcHBlcicpO1xuICAgICAgICBhcnJFbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsIG1vdXNlc2Nyb2xsLCBmYWxzZSk7XG4gICAgICAgIGFyckVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsIG1vdXNlc2Nyb2xsLCBmYWxzZSk7XG4gICAgICAgIGxvZ2dlciA9IG5ldyBtb2R1bGVzLkxvZ1RyYWNlcignR2VuZXJhdGVkIEphdmFzY3JpcHQnKTtcblxuICAgICAgICB2YXIgbnVtUm93cyA9IGdldE51bVJvd3MoKTtcbiAgICAgICAgdmFyIG51bUNvbHVtbnMgPSBnZXROdW1Db2x1bW5zKCk7XG4gICAgICAgIHZhciBkYXRhID0gZmF1eERhdGEobnVtUm93cywgbnVtQ29sdW1ucyk7XG5cbiAgICAgICAgYXJyMkRUcmFjZXIuc2V0RGF0YShkYXRhKTtcbiAgICAgICAgdGFibGVUb0lucHV0RmllbGRzKG51bVJvd3MsIG51bUNvbHVtbnMpO1xuICAgICAgICB1dGlsLnBvc2l0aW9uTW9kdWxlcygpO1xuICAgICAgICBhcnIyRFRyYWNlci5yZWZyZXNoKCk7XG4gICAgfSxmYWxzZSk7XG4gICAgdmFyIGJ1dHRvbl9KUyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b24tZ2VuZXJhdGVKUy0yRCcpO1xuICAgIGJ1dHRvbl9KUy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oKXtcbiAgICAgICAgZ2VuZXJhdGVKUyhsb2dnZXIsICdBcnJheTJEVHJhY2VyJywgZ2V0VHJhY2VyTmFtZSgpKTtcbiAgICB9LGZhbHNlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgc2V0dXAsXG4gICAgbW91c2VzY3JvbGwsXG4gICAgZmF1eERhdGEsXG4gICAgdGFibGVUb0lucHV0RmllbGRzLFxuICAgIGdlbmVyYXRlSlNcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IG1vZHVsZXMgPSByZXF1aXJlKCcuLi9tb2R1bGUnKTtcbmNvbnN0IGFycmF5MmQgPSByZXF1aXJlKCcuL2FycmF5MmQnKTtcbmNvbnN0IGFycmF5MWQgPSByZXF1aXJlKCcuL2FycmF5MWQnKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcbmNvbnN0IFNlcnZlciA9IHJlcXVpcmUoJy4uL3NlcnZlcicpO1xuY29uc3QgRE9NID0gcmVxdWlyZSgnLi4vZG9tJyk7XG5cbmNvbnN0IHtcbiAgZ2V0UGF0aFxufSA9IHJlcXVpcmUoJy4uL3NlcnZlci9oZWxwZXJzJyk7XG5cbmNvbnN0IGNsb3NlQ3JlYXRlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCAkYnRuQ2xvc2UgPSAkKCcjYnRuX2Nsb3NlJyk7XG5cbiAgICAgICAgJGJ0bkNsb3NlLmNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICQoJy5zYW5kYm94X2NvbnRhaW5lcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgdXRpbC5jbGVhck1vZHVsZXMoKTtcbiAgICAgICAgICAgIHJlbG9hZEFsZ29yaXRobSgpO1xuICAgICAgICB9KTtcbn07XG5cbmNvbnN0IHJlbG9hZEFsZ29yaXRobSA9ICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjYXRlZ29yeSxcbiAgICAgIGFsZ29yaXRobSxcbiAgICAgIGZpbGVcbiAgICB9ID0gZ2V0UGF0aCgpO1xuXG4gICAgU2VydmVyLmxvYWRBbGdvcml0aG0oY2F0ZWdvcnksIGFsZ29yaXRobSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgRE9NLnNob3dBbGdvcml0aG0oY2F0ZWdvcnksIGFsZ29yaXRobSwgZGF0YSk7XG4gICAgfSk7XG59O1xuXG5jb25zdCBjcmVhdGVIVE1MID0gKCkgPT4ge1xuICAgICQoJy53b3Jrc3BhY2UnKS5hcHBlbmQoXCI8ZGl2IGNsYXNzPSdzYW5kYm94X2NvbnRhaW5lcic+XFxcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSdjbG9zZV9iYXInPlxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSdidG4nIGlkPSdidG5fY2xvc2UnPlxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nd3JhcHBlcic+XFxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9J2ZhIGZhLXRpbWVzJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPlxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICA8L3NlY3Rpb24+XFxcbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzPSdhdXRvLWdlbic+XFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdncmlkJyBpZD0nYXJyYXkxRC1nZW4nPlxcXG4gICAgICAgICAgICAgICAgPGRpdj4gYXJyYXkxRFRyYWNlciA8L2Rpdj5cXFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPSdmYSBmYS1lbGxpcHNpcy1oIGZhLTV4JyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC9pPlxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nZmllbGRzJz5cXFxuICAgICAgICAgICAgICAgICMgb2YgQ29sdW1uczogPGlucHV0IGNsYXNzPSdpbnB1dHMnaWQ9J251bUNvbHVtbnMtMUQnIHR5cGU9J251bWJlcicgdmFsdWU9JzUnPlxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdmaWVsZHMnPlxcXG4gICAgICAgICAgICAgICAgVHJhY2VyIE5hbWU6IDxpbnB1dCBjbGFzcz0naW5wdXRzJ2lkPSd0cmFjZXJOYW1lLTFEJyB0eXBlPSd0ZXh0JyB2YWx1ZT0nZGVmYXVsdCc+XFxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9J3NiLWJ1dHRvbicgaWQ9J2J1dHRvbi0xRE1hdHJpeCc+Q3JlYXRlIDFETWF0cml4PC9idXR0b24+XFxcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSdzYi1idXR0b24nIGlkPSdidXR0b24tZ2VuZXJhdGVKUy0xRCc+R2VuZXJhdGUgSmF2YXNjcmlwdDwvYnV0dG9uPlxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdncmlkJyBpZD0nYXJyYXkyRC1nZW4nPlxcXG4gICAgICAgICAgICAgICAgPGRpdj4gYXJyYXkyRFRyYWNlciA8L2Rpdj5cXFxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPSdmYSBmYS10aCBmYS01eCcgYXJpYS1oaWRkZW49J3RydWUnPjwvaT5cXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J2ZpZWxkcyc+XFxcbiAgICAgICAgICAgICAgICAjIG9mIFJvd3M6IDxpbnB1dCBjbGFzcz0naW5wdXRzJ2lkPSdudW1Sb3dzLTJEJyB0eXBlPSdudW1iZXInIHZhbHVlPSc1Jz5cXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0nZmllbGRzJz5cXFxuICAgICAgICAgICAgICAgICMgb2YgQ29sdW1uczogPGlucHV0IGNsYXNzPSdpbnB1dHMnaWQ9J251bUNvbHVtbnMtMkQnIHR5cGU9J251bWJlcicgdmFsdWU9JzUnPlxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdmaWVsZHMnPlxcXG4gICAgICAgICAgICAgICAgVHJhY2VyIE5hbWU6IDxpbnB1dCBjbGFzcz0naW5wdXRzJ2lkPSd0cmFjZXJOYW1lLTJEJyB0eXBlPSd0ZXh0JyB2YWx1ZT0nZGVmYXVsdCc+XFxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9J3NiLWJ1dHRvbicgaWQ9J2J1dHRvbi0yRE1hdHJpeCc+Q3JlYXRlIDJETWF0cml4PC9idXR0b24+XFxcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSdzYi1idXR0b24nIGlkPSdidXR0b24tZ2VuZXJhdGVKUy0yRCc+R2VuZXJhdGUgSmF2YXNjcmlwdDwvYnV0dG9uPlxcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdncmlkJyBpZD0nY2hhcnQtZ2VuJz48L2Rpdj5cXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9J2dyaWQnIGlkPSdncmFwaC1nZW4nPjwvZGl2PlxcXG4gICAgICAgICAgICA8L3NlY3Rpb24+XFxcbiAgICA8L2Rpdj5cIik7XG59O1xuXG5jb25zdCBpbml0ID0gKCkgPT4ge1xuXG4gICAgdmFyIGNoZWNrID0gJCgnLnNhbmRib3hfY29udGFpbmVyJyk7XG4gICAgaWYoIWNoZWNrLmxlbmd0aCl7XG4gICAgICAgIHV0aWwuY2xlYXJNb2R1bGVzKCk7XG4gICAgICAgIGNyZWF0ZUhUTUwoKTtcbiAgICAgICAgYXJyYXkyZC5zZXR1cCgpO1xuICAgICAgICBhcnJheTFkLnNldHVwKCk7XG4gICAgICAgIGNsb3NlQ3JlYXRlKCk7XG4gICAgICAgIHV0aWwuY2xpY2tUcmFjZVRhYigpO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGluaXRcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHBvc2l0aW9uTW9kdWxlcyA9ICgpID0+e1xuICAgIHZhciBlbGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21vZHVsZV93cmFwcGVyJyk7XG4gICAgaWYoZWxlbXMgPD0gMCkgcmV0dXJuO1xuXG4gICAgdmFyIG4gPSBlbGVtcy5sZW5ndGg7XG4gICAgdmFyIHNwYWNpbmcgPSAoMTAwL24pO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgaWYoIGkgPT09IDApe1xuICAgICAgICAgICAgZWxlbXNbaV0uc3R5bGUuYm90dG9tID0gKHNwYWNpbmcgKiAobi0xKSkgKyAnJSc7XG4gICAgICAgIH1lbHNlIGlmKGkgPT09IG4gLSAxKXtcbiAgICAgICAgICAgIGVsZW1zW2ldLnN0eWxlLnRvcCA9IChzcGFjaW5nICogaSkgKyAnJSc7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZWxlbXNbaV0uc3R5bGUudG9wID0gKHNwYWNpbmcgKiBpKSArICclJztcbiAgICAgICAgICAgIGVsZW1zW2ldLnN0eWxlLmJvdHRvbSA9IChzcGFjaW5nICogaSkgKyAnJSc7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IGNsZWFyTW9kdWxlcyA9ICgpID0+e1xuICAgIHZhciBlbGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21vZHVsZV93cmFwcGVyJyk7XG4gICAgaWYoZWxlbXMubGVuZ3RoID4gMCl7XG4gICAgICAgIHZhciBwYXJlbnQgPSBlbGVtc1swXS5wYXJlbnRFbGVtZW50O1xuICAgICAgICB2YXIgbnVtQ2hpbGQgPSBwYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBudW1DaGlsZDsgaSsrKXtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNvbnN0IGVuYWJsZWRIaWdodGxpZ2h0aW5nID0gKCkgPT57XG4gICAgdmFyIGVsZW1zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbW9kdWxlX3dyYXBwZXInKTtcbiAgICB2YXIgbG9nZ2VyID0gZWxlbXNbMV07XG4gICAgdmFyIHdyYXBwZXIgPSBsb2dnZXIuY2hpbGROb2Rlc1sxXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdyYXBwZXIuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB3cmFwcGVyLmNoaWxkTm9kZXNbaV0uc3R5bGVbXCItd2Via2l0LXVzZXItc2VsZWN0XCJdID0gXCJhbGxcIjtcbiAgICB9XG59XG5cbmNvbnN0IGNsaWNrVHJhY2VUYWIgPSAoKSA9PiB7XG4gICAgdmFyIGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5fdHJhY2UnKTtcbiAgICBpZihidG4pe1xuICAgICAgICBidG4uY2xpY2soKTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGVuYWJsZWRIaWdodGxpZ2h0aW5nLFxuICAgIHBvc2l0aW9uTW9kdWxlcyxcbiAgICBjbGVhck1vZHVsZXMsXG4gICAgY2xpY2tUcmFjZVRhYlxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwJyk7XG5jb25zdCBTZXJ2ZXIgPSByZXF1aXJlKCcuLi9zZXJ2ZXInKTtcbmNvbnN0IHNob3dBbGdvcml0aG0gPSByZXF1aXJlKCcuL3Nob3dfYWxnb3JpdGhtJyk7XG5cbmNvbnN0IHtcbiAgZWFjaFxufSA9ICQ7XG5cbmNvbnN0IGdldEFsZ29yaXRobURPTSA9IChjYXRlZ29yeSwgc3ViTGlzdCwgYWxnb3JpdGhtKSA9PiB7XG4gIHJldHVybiAkKCc8YnV0dG9uIGNsYXNzPVwiaW5kZW50XCI+JylcbiAgICAuYXBwZW5kKHN1Ykxpc3RbYWxnb3JpdGhtXSlcbiAgICAuYXR0cignZGF0YS1hbGdvcml0aG0nLCBhbGdvcml0aG0pXG4gICAgLmF0dHIoJ2RhdGEtY2F0ZWdvcnknLCBjYXRlZ29yeSlcbiAgICAuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgU2VydmVyLmxvYWRBbGdvcml0aG0oY2F0ZWdvcnksIGFsZ29yaXRobSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICBzaG93QWxnb3JpdGhtKGNhdGVnb3J5LCBhbGdvcml0aG0sIGRhdGEpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgJCgnI2xpc3QnKS5hcHBlbmQoJGFsZ29yaXRobSk7XG59O1xuXG5jb25zdCBhZGRDYXRlZ29yeVRvRE9NID0gKGNhdGVnb3J5KSA9PiB7XG5cbiAgY29uc3Qge1xuICAgIG5hbWU6IGNhdGVnb3J5TmFtZSxcbiAgICBsaXN0OiBjYXRlZ29yeVN1Ykxpc3RcbiAgfSA9IGFwcC5nZXRDYXRlZ29yeShjYXRlZ29yeSk7XG5cbiAgY29uc3QgJGNhdGVnb3J5ID0gJCgnPGJ1dHRvbiBjbGFzcz1cImNhdGVnb3J5XCI+JylcbiAgICAuYXBwZW5kKCc8aSBjbGFzcz1cImZhIGZhLWZ3IGZhLWNhcmV0LXJpZ2h0XCI+JylcbiAgICAuYXBwZW5kKGNhdGVnb3J5TmFtZSlcbiAgICAuYXR0cignZGF0YS1jYXRlZ29yeScsIGNhdGVnb3J5KTtcblxuICAkY2F0ZWdvcnkuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0ICRzZWxmID0gJCh0aGlzKTtcbiAgICAkc2VsZi50b2dnbGVDbGFzcygnb3BlbicpO1xuICAgICRzZWxmLmZpbmQoJ2kuZmEnKS50b2dnbGVDbGFzcygnZmEtY2FyZXQtcmlnaHQgZmEtY2FyZXQtZG93bicpO1xuICAgICRzZWxmLm5leHQoKS50b2dnbGUoMzAwKTtcbiAgfSk7XG5cbiAgY29uc3QgJGFsZ29yaXRobXMgPSAkKCc8ZGl2IGNsYXNzPVwiYWxnb3JpdGhtcyBjb2xsYXBzZVwiPicpO1xuICAkKCcjbGlzdCcpLmFwcGVuZCgkY2F0ZWdvcnkpLmFwcGVuZCgkYWxnb3JpdGhtcyk7XG5cbiAgZWFjaChjYXRlZ29yeVN1Ykxpc3QsIChhbGdvcml0aG0pID0+IHtcbiAgICBjb25zdCAkYWxnb3JpdGhtID0gZ2V0QWxnb3JpdGhtRE9NKGNhdGVnb3J5LCBjYXRlZ29yeVN1Ykxpc3QsIGFsZ29yaXRobSk7XG4gICAgJGFsZ29yaXRobXMuYXBwZW5kKCRhbGdvcml0aG0pO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICBlYWNoKGFwcC5nZXRDYXRlZ29yaWVzKCksIGFkZENhdGVnb3J5VG9ET00pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgU2VydmVyID0gcmVxdWlyZSgnLi4vc2VydmVyJyk7XG5cbmNvbnN0IHtcbiAgZWFjaFxufSA9ICQ7XG5cbmNvbnN0IGFkZEZpbGVUb0RPTSA9IChjYXRlZ29yeSwgYWxnb3JpdGhtLCBmaWxlLCBleHBsYW5hdGlvbikgPT4ge1xuICB2YXIgJGZpbGUgPSAkKCc8YnV0dG9uPicpXG4gICAgLmFwcGVuZChmaWxlKVxuICAgIC5hdHRyKCdkYXRhLWZpbGUnLCBmaWxlKVxuICAgIC5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICBTZXJ2ZXIubG9hZEZpbGUoY2F0ZWdvcnksIGFsZ29yaXRobSwgZmlsZSwgZXhwbGFuYXRpb24pO1xuICAgICAgJCgnLmZpbGVzX2JhciA+IC53cmFwcGVyID4gYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgfSk7XG4gICQoJy5maWxlc19iYXIgPiAud3JhcHBlcicpLmFwcGVuZCgkZmlsZSk7XG4gIHJldHVybiAkZmlsZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gKGNhdGVnb3J5LCBhbGdvcml0aG0sIGZpbGVzLCByZXF1ZXN0ZWRGaWxlKSA9PiB7XG4gICQoJy5maWxlc19iYXIgPiAud3JhcHBlcicpLmVtcHR5KCk7XG5cbiAgZWFjaChmaWxlcywgKGZpbGUsIGV4cGxhbmF0aW9uKSA9PiB7XG4gICAgdmFyICRmaWxlID0gYWRkRmlsZVRvRE9NKGNhdGVnb3J5LCBhbGdvcml0aG0sIGZpbGUsIGV4cGxhbmF0aW9uKTtcbiAgICAkZmlsZS5hZGRDbGFzcygndGFiX2J1dHRvbicpO1xuICAgIGlmIChyZXF1ZXN0ZWRGaWxlICYmIHJlcXVlc3RlZEZpbGUgPT0gZmlsZSkgJGZpbGUuY2xpY2soKTtcbiAgfSk7XG5cbiAgaWYgKCFyZXF1ZXN0ZWRGaWxlKSAkKCcuZmlsZXNfYmFyID4gLndyYXBwZXIgPiBidXR0b24nKS5maXJzdCgpLmNsaWNrKCk7XG4gICQoJy5maWxlc19iYXIgPiAud3JhcHBlcicpLnNjcm9sbCgpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIGxldCByZXFGdW5jID0gbnVsbDtcbiAgbGV0IGV4dEZ1bmMgPSBudWxsO1xuICBsZXQgcmVxRnVuY3MgPSBbXG4gICAgJ3JlcXVlc3RGdWxsc2NyZWVuJyxcbiAgICAnd2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4nLFxuICAgICdtb3pSZXF1ZXN0RnVsbFNjcmVlbicsXG4gICAgJ21zUmVxdWVzdEZ1bGxzY3JlZW4nLFxuICBdO1xuICBsZXQgZXh0RnVuY3MgPSBbXG4gICAgJ2V4aXRGdWxsc2NyZWVuJyxcbiAgICAnd2Via2l0RXhpdEZ1bGxzY3JlZW4nLFxuICAgICdtb3pDYW5jZWxGdWxsU2NyZWVuJyxcbiAgICAnbXNFeGl0RnVsbHNjcmVlbidcbiAgXTtcblxuICBmb3IgKGxldCB0bXBSZXFGdW5jIG9mIHJlcUZ1bmNzKSB7XG4gICAgaWYgKGRvY3VtZW50LmJvZHlbdG1wUmVxRnVuY10pIHtcbiAgICAgIHJlcUZ1bmMgPSB0bXBSZXFGdW5jO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IHRtcEV4dEZ1bmMgb2YgZXh0RnVuY3MpIHtcbiAgICBpZiAoZG9jdW1lbnRbdG1wRXh0RnVuY10pIHtcbiAgICAgIGV4dEZ1bmMgPSB0bXBFeHRGdW5jO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0ICRidG5GdWxsc2NyZWVuID0gJCgnI2J0bl9mdWxsc2NyZWVuJyk7XG5cbiAgJGJ0bkZ1bGxzY3JlZW4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgIGlmIChkb2N1bWVudC5mdWxsU2NyZWVuIHx8IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW4gfHwgZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuKSB7XG4gICAgICBpZiAoZXh0RnVuYykgZG9jdW1lbnRbZXh0RnVuY10oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHJlcUZ1bmMpIGRvY3VtZW50LmJvZHlbcmVxRnVuY10oKTtcbiAgICB9XG4gIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuXHRsZXQgJGJ1dHRvbnMgPSAkKCdbZGF0YS1jYXRlZ29yeV0nKTtcblxuXHQkKCcjc2VhcmNoLWJhcicpLmtleXVwIChmdW5jdGlvbiAoKSB7XG5cdFx0bGV0IHF1ZXJ5ID0gJCh0aGlzKS52YWwgKCk7XG5cdFx0bGV0IHJlID0gbmV3IFJlZ0V4cCAocXVlcnksICdpJyk7XG5cblx0XHRxdWVyeSA/ICQoJyNmb290ZXInKS5oaWRlICgpIDogJCgnI2Zvb3RlcicpLnNob3cgKCk7XG5cdFx0JC5lYWNoICgkKCcjbGlzdCAuY2F0ZWdvcnknKSwgZnVuY3Rpb24gKGksIGMpIHtcblx0XHRcdGxldCAkYyA9ICQoYyk7XG5cdFx0XHQhJGMuaGFzQ2xhc3MgKCdvcGVuJykgJiYgJGMuY2xpY2sgKCk7XG5cdFx0fSk7XG5cblx0XHQkYnV0dG9ucy5zaG93ICgpLmZpbHRlciAoZnVuY3Rpb24gKCkge1xuXHRcdFx0bGV0IGNOYW1lID0gJCh0aGlzKS5hdHRyICgnZGF0YS1jYXRlZ29yeScpO1xuXG5cdFx0XHRpZiAoJCh0aGlzKS5oYXNDbGFzcyAoJ2NhdGVnb3J5JykpIHtcblx0XHRcdFx0cmV0dXJuICFyZS50ZXN0ICgkKGBbZGF0YS1jYXRlZ29yeT1cIiR7Y05hbWV9XCJdYCkudGV4dCAoKSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0cmV0dXJuICEoXG5cdFx0XHRcdFx0cmUudGVzdCAoJChgLmNhdGVnb3J5W2RhdGEtY2F0ZWdvcnk9XCIke2NOYW1lfVwiXWApLnRleHQoKSkgfHwgcmUudGVzdCAoJCh0aGlzKS50ZXh0ICgpKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0pLmhpZGUgKCk7XG5cblx0XHQkKCcuYWxnb3JpdGhtcycpLnNob3cgKCkuZmlsdGVyIChmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gISQodGhpcykuY2hpbGRyZW4gKCc6dmlzaWJsZScpLmxlbmd0aDtcblx0XHR9KS5oaWRlICgpO1xuXHR9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHNob3dBbGdvcml0aG0gPSByZXF1aXJlKCcuL3Nob3dfYWxnb3JpdGhtJyk7XG5jb25zdCBhZGRDYXRlZ29yaWVzID0gcmVxdWlyZSgnLi9hZGRfY2F0ZWdvcmllcycpO1xuY29uc3Qgc2hvd0Rlc2NyaXB0aW9uID0gcmVxdWlyZSgnLi9zaG93X2Rlc2NyaXB0aW9uJyk7XG5jb25zdCBhZGRGaWxlcyA9IHJlcXVpcmUoJy4vYWRkX2ZpbGVzJyk7XG5jb25zdCBzaG93Rmlyc3RBbGdvcml0aG0gPSByZXF1aXJlKCcuL3Nob3dfZmlyc3RfYWxnb3JpdGhtJyk7XG5jb25zdCBzaG93UmVxdWVzdGVkQWxnb3JpdGhtID0gcmVxdWlyZSgnLi9zaG93X3JlcXVlc3RlZF9hbGdvcml0aG0nKTtcbmNvbnN0IHNob3dXaWtpID0gcmVxdWlyZSgnLi9zaG93X3dpa2knKTtcbmNvbnN0IGVuYWJsZVNlYXJjaCA9IHJlcXVpcmUoJy4vZW5hYmxlX3NlYXJjaCcpO1xuY29uc3QgcmVzaXplV29ya3NwYWNlID0gcmVxdWlyZSgnLi9yZXNpemVfd29ya3NwYWNlJyk7XG5jb25zdCBlbmFibGVGdWxsU2NyZWVuID0gcmVxdWlyZSgnLi9lbmFibGVfZnVsbHNjcmVlbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2hvd0FsZ29yaXRobSxcbiAgYWRkQ2F0ZWdvcmllcyxcbiAgc2hvd0Rlc2NyaXB0aW9uLFxuICBhZGRGaWxlcyxcbiAgc2hvd0ZpcnN0QWxnb3JpdGhtLFxuICBzaG93UmVxdWVzdGVkQWxnb3JpdGhtLFxuICBzaG93V2lraSxcbiAgZW5hYmxlU2VhcmNoLFxuICByZXNpemVXb3Jrc3BhY2UsXG4gIGVuYWJsZUZ1bGxTY3JlZW5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHNob3dMb2FkaW5nU2xpZGVyID0gKCkgPT4ge1xuICAkKCcjbG9hZGluZy1zbGlkZXInKS5yZW1vdmVDbGFzcygnbG9hZGVkJyk7XG59O1xuXG5jb25zdCBoaWRlTG9hZGluZ1NsaWRlciA9ICgpID0+IHtcbiAgJCgnI2xvYWRpbmctc2xpZGVyJykuYWRkQ2xhc3MoJ2xvYWRlZCcpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNob3dMb2FkaW5nU2xpZGVyLFxuICBoaWRlTG9hZGluZ1NsaWRlclxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgY3JlYXRlID0gKCkgPT4ge1xuICBjb25zdCAkY29udGFpbmVyID0gJCgnPHNlY3Rpb24gY2xhc3M9XCJtb2R1bGVfd3JhcHBlclwiPicpO1xuICAkKCcubW9kdWxlX2NvbnRhaW5lcicpLmFwcGVuZCgkY29udGFpbmVyKTtcbiAgcmV0dXJuICRjb250YWluZXI7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi9hcHAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIGFwcC5nZXRUcmFjZXJNYW5hZ2VyKCkucmVzaXplKCk7XG4gIGFwcC5nZXRFZGl0b3IoKS5yZXNpemUoKTtcbiAgJCgnLmZpbGVzX2JhciA+IC53cmFwcGVyJykuc2Nyb2xsKCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBzZXR1cERpdmlkZXJzID0gcmVxdWlyZSgnLi9zZXR1cF9kaXZpZGVycycpO1xuY29uc3Qgc2V0dXBEb2N1bWVudCA9IHJlcXVpcmUoJy4vc2V0dXBfZG9jdW1lbnQnKTtcbmNvbnN0IHNldHVwRmlsZXNCYXIgPSByZXF1aXJlKCcuL3NldHVwX2ZpbGVzX2JhcicpO1xuY29uc3Qgc2V0dXBJbnRlcnZhbCA9IHJlcXVpcmUoJy4vc2V0dXBfaW50ZXJ2YWwnKTtcbmNvbnN0IHNldHVwTW9kdWxlQ29udGFpbmVyID0gcmVxdWlyZSgnLi9zZXR1cF9tb2R1bGVfY29udGFpbmVyJyk7XG5jb25zdCBzZXR1cFRhYkNvbnRhaW5lciA9IHJlcXVpcmUoJy4vc2V0dXBfdGFiX2NvbnRhaW5lcicpO1xuY29uc3Qgc2V0dXBTaWRlTWVudSA9IHJlcXVpcmUoJy4vc2V0dXBfc2lkZV9tZW51Jyk7XG5jb25zdCBzZXR1cFRvcE1lbnUgPSByZXF1aXJlKCcuL3NldHVwX3RvcF9tZW51Jyk7XG5jb25zdCBzZXR1cFdpbmRvdyA9IHJlcXVpcmUoJy4vc2V0dXBfd2luZG93Jyk7XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgZWxlbWVudHMgb25jZSB0aGUgYXBwIGxvYWRzIGluIHRoZSBET00uXG4gKi9cbmNvbnN0IHNldHVwID0gKCkgPT4ge1xuXG4gICQoJy5idG4gaW5wdXQnKS5jbGljaygoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuXG4gIC8vIGRpdmlkZXJzXG4gIHNldHVwRGl2aWRlcnMoKTtcblxuICAvLyBkb2N1bWVudFxuICBzZXR1cERvY3VtZW50KCk7XG5cbiAgLy8gZmlsZXMgYmFyXG4gIHNldHVwRmlsZXNCYXIoKTtcblxuICAvLyBpbnRlcnZhbFxuICBzZXR1cEludGVydmFsKCk7XG5cbiAgLy8gbW9kdWxlIGNvbnRhaW5lclxuICBzZXR1cE1vZHVsZUNvbnRhaW5lcigpO1xuXG4gIC8vIHRhYiBjb250YWluZXJcbiAgc2V0dXBUYWJDb250YWluZXIoKTtcblxuICAvLyBzaWRlIG1lbnVcbiAgc2V0dXBTaWRlTWVudSgpO1xuXG4gIC8vIHRvcCBtZW51XG4gIHNldHVwVG9wTWVudSgpO1xuXG4gIC8vIHdpbmRvd1xuICBzZXR1cFdpbmRvdygpO1xuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0dXBcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uLy4uL2FwcCcpO1xuY29uc3QgcmVzaXplV29ya3NwYWNlID0gcmVxdWlyZSgnLi4vcmVzaXplX3dvcmtzcGFjZScpO1xuXG5jb25zdCBhZGREaXZpZGVyVG9Eb20gPSAoZGl2aWRlcikgPT4ge1xuICBjb25zdCBbdmVydGljYWwsICRmaXJzdCwgJHNlY29uZF0gPSBkaXZpZGVyO1xuICBjb25zdCAkcGFyZW50ID0gJGZpcnN0LnBhcmVudCgpO1xuICBjb25zdCB0aGlja25lc3MgPSA1O1xuXG4gIGNvbnN0ICRkaXZpZGVyID0gJCgnPGRpdiBjbGFzcz1cImRpdmlkZXJcIj4nKTtcblxuICBsZXQgZHJhZ2dpbmcgPSBmYWxzZTtcbiAgaWYgKHZlcnRpY2FsID09PSAndicpIHtcbiAgICAkZGl2aWRlci5hZGRDbGFzcygndmVydGljYWwnKTtcbiAgICBjb25zdCBfbGVmdCA9IC10aGlja25lc3MgLyAyO1xuICAgICRkaXZpZGVyLmNzcyh7XG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICBsZWZ0OiBfbGVmdCxcbiAgICAgIHdpZHRoOiB0aGlja25lc3NcbiAgICB9KTtcblxuICAgIGxldCB4O1xuICAgICRkaXZpZGVyLm1vdXNlZG93bigoe1xuICAgICAgcGFnZVhcbiAgICB9KSA9PiB7XG4gICAgICB4ID0gcGFnZVg7XG4gICAgICBkcmFnZ2luZyA9IHRydWU7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5tb3VzZW1vdmUoKHtcbiAgICAgIHBhZ2VYXG4gICAgfSkgPT4ge1xuICAgICAgaWYgKGRyYWdnaW5nKSB7XG4gICAgICAgIGNvbnN0IG5ld19sZWZ0ID0gJHNlY29uZC5wb3NpdGlvbigpLmxlZnQgKyBwYWdlWCAtIHg7XG4gICAgICAgIGxldCBwZXJjZW50ID0gbmV3X2xlZnQgLyAkcGFyZW50LndpZHRoKCkgKiAxMDA7XG4gICAgICAgIHBlcmNlbnQgPSBNYXRoLm1pbig5MCwgTWF0aC5tYXgoMTAsIHBlcmNlbnQpKTtcbiAgICAgICAgJGZpcnN0LmNzcygncmlnaHQnLCAoMTAwIC0gcGVyY2VudCkgKyAnJScpO1xuICAgICAgICAkc2Vjb25kLmNzcygnbGVmdCcsIHBlcmNlbnQgKyAnJScpO1xuICAgICAgICB4ID0gcGFnZVg7XG4gICAgICAgIHJlc2l6ZVdvcmtzcGFjZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbihlKSB7XG4gICAgICBkcmFnZ2luZyA9IGZhbHNlO1xuICAgIH0pO1xuXG4gIH0gZWxzZSB7XG4gICAgJGRpdmlkZXIuYWRkQ2xhc3MoJ2hvcml6b250YWwnKTtcbiAgICBjb25zdCBfdG9wID0gLXRoaWNrbmVzcyAvIDI7XG4gICAgJGRpdmlkZXIuY3NzKHtcbiAgICAgIHRvcDogX3RvcCxcbiAgICAgIGhlaWdodDogdGhpY2tuZXNzLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwXG4gICAgfSk7XG5cbiAgICBsZXQgeTtcbiAgICAkZGl2aWRlci5tb3VzZWRvd24oZnVuY3Rpb24oe1xuICAgICAgcGFnZVlcbiAgICB9KSB7XG4gICAgICB5ID0gcGFnZVk7XG4gICAgICBkcmFnZ2luZyA9IHRydWU7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5tb3VzZW1vdmUoZnVuY3Rpb24oe1xuICAgICAgcGFnZVlcbiAgICB9KSB7XG4gICAgICBpZiAoZHJhZ2dpbmcpIHtcbiAgICAgICAgY29uc3QgbmV3X3RvcCA9ICRzZWNvbmQucG9zaXRpb24oKS50b3AgKyBwYWdlWSAtIHk7XG4gICAgICAgIGxldCBwZXJjZW50ID0gbmV3X3RvcCAvICRwYXJlbnQuaGVpZ2h0KCkgKiAxMDA7XG4gICAgICAgIHBlcmNlbnQgPSBNYXRoLm1pbig5MCwgTWF0aC5tYXgoMTAsIHBlcmNlbnQpKTtcbiAgICAgICAgJGZpcnN0LmNzcygnYm90dG9tJywgKDEwMCAtIHBlcmNlbnQpICsgJyUnKTtcbiAgICAgICAgJHNlY29uZC5jc3MoJ3RvcCcsIHBlcmNlbnQgKyAnJScpO1xuICAgICAgICB5ID0gcGFnZVk7XG4gICAgICAgIHJlc2l6ZVdvcmtzcGFjZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkubW91c2V1cChmdW5jdGlvbihlKSB7XG4gICAgICBkcmFnZ2luZyA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgJHNlY29uZC5hcHBlbmQoJGRpdmlkZXIpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIGNvbnN0IGRpdmlkZXJzID0gW1xuICAgIFsndicsICQoJy5zaWRlbWVudScpLCAkKCcud29ya3NwYWNlJyldLFxuICAgIFsndicsICQoJy52aWV3ZXJfY29udGFpbmVyJyksICQoJy5lZGl0b3JfY29udGFpbmVyJyldLFxuICAgIFsnaCcsICQoJy5kYXRhX2NvbnRhaW5lcicpLCAkKCcuY29kZV9jb250YWluZXInKV1cbiAgXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXZpZGVycy5sZW5ndGg7IGkrKykge1xuICAgIGFkZERpdmlkZXJUb0RvbShkaXZpZGVyc1tpXSk7XG4gIH1cbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi8uLi9hcHAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICdhJywgZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zdCBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgaWYgKC9eKGh0dHBzPzpcXC9cXC8pLisvLnRlc3QoaHJlZikpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghd2luZG93Lm9wZW4oaHJlZiwgJ19ibGFuaycpKSB7XG4gICAgICAgIGFsZXJ0KCdQbGVhc2UgYWxsb3cgcG9wdXBzIGZvciB0aGlzIHNpdGUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICQoZG9jdW1lbnQpLm1vdXNldXAoZnVuY3Rpb24gKGUpIHtcbiAgICBhcHAuZ2V0VHJhY2VyTWFuYWdlcigpLmNvbW1hbmQoJ21vdXNldXAnLCBlKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBkZWZpbml0ZWx5QmlnZ2VyID0gKHgsIHkpID0+IHggPiAoeSArIDIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcblxuICAkKCcuZmlsZXNfYmFyID4gLmJ0bi1sZWZ0JykuY2xpY2soKCkgPT4ge1xuICAgIGNvbnN0ICR3cmFwcGVyID0gJCgnLmZpbGVzX2JhciA+IC53cmFwcGVyJyk7XG4gICAgY29uc3QgY2xpcFdpZHRoID0gJHdyYXBwZXIud2lkdGgoKTtcbiAgICBjb25zdCBzY3JvbGxMZWZ0ID0gJHdyYXBwZXIuc2Nyb2xsTGVmdCgpO1xuXG4gICAgJCgkd3JhcHBlci5jaGlsZHJlbignYnV0dG9uJykuZ2V0KCkucmV2ZXJzZSgpKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgbGVmdCA9ICQodGhpcykucG9zaXRpb24oKS5sZWZ0O1xuICAgICAgY29uc3QgcmlnaHQgPSBsZWZ0ICsgJCh0aGlzKS5vdXRlcldpZHRoKCk7XG4gICAgICBpZiAoMCA+IGxlZnQpIHtcbiAgICAgICAgJHdyYXBwZXIuc2Nyb2xsTGVmdChzY3JvbGxMZWZ0ICsgcmlnaHQgLSBjbGlwV2lkdGgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gICQoJy5maWxlc19iYXIgPiAuYnRuLXJpZ2h0JykuY2xpY2soKCkgPT4ge1xuICAgIGNvbnN0ICR3cmFwcGVyID0gJCgnLmZpbGVzX2JhciA+IC53cmFwcGVyJyk7XG4gICAgY29uc3QgY2xpcFdpZHRoID0gJHdyYXBwZXIud2lkdGgoKTtcbiAgICBjb25zdCBzY3JvbGxMZWZ0ID0gJHdyYXBwZXIuc2Nyb2xsTGVmdCgpO1xuXG4gICAgJHdyYXBwZXIuY2hpbGRyZW4oJ2J1dHRvbicpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBsZWZ0ID0gJCh0aGlzKS5wb3NpdGlvbigpLmxlZnQ7XG4gICAgICBjb25zdCByaWdodCA9IGxlZnQgKyAkKHRoaXMpLm91dGVyV2lkdGgoKTtcbiAgICAgIGlmIChjbGlwV2lkdGggPCByaWdodCkge1xuICAgICAgICAkd3JhcHBlci5zY3JvbGxMZWZ0KHNjcm9sbExlZnQgKyBsZWZ0KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICAkKCcuZmlsZXNfYmFyID4gLndyYXBwZXInKS5zY3JvbGwoZnVuY3Rpb24oKSB7XG5cbiAgICBjb25zdCAkd3JhcHBlciA9ICQoJy5maWxlc19iYXIgPiAud3JhcHBlcicpO1xuICAgIGNvbnN0IGNsaXBXaWR0aCA9ICR3cmFwcGVyLndpZHRoKCk7XG4gICAgY29uc3QgJGxlZnQgPSAkd3JhcHBlci5jaGlsZHJlbignYnV0dG9uOmZpcnN0LWNoaWxkJyk7XG4gICAgY29uc3QgJHJpZ2h0ID0gJHdyYXBwZXIuY2hpbGRyZW4oJ2J1dHRvbjpsYXN0LWNoaWxkJyk7XG4gICAgY29uc3QgbGVmdCA9ICRsZWZ0LnBvc2l0aW9uKCkubGVmdDtcbiAgICBjb25zdCByaWdodCA9ICRyaWdodC5wb3NpdGlvbigpLmxlZnQgKyAkcmlnaHQub3V0ZXJXaWR0aCgpO1xuXG4gICAgaWYgKGRlZmluaXRlbHlCaWdnZXIoMCwgbGVmdCkgJiYgZGVmaW5pdGVseUJpZ2dlcihjbGlwV2lkdGgsIHJpZ2h0KSkge1xuICAgICAgY29uc3Qgc2Nyb2xsTGVmdCA9ICR3cmFwcGVyLnNjcm9sbExlZnQoKTtcbiAgICAgICR3cmFwcGVyLnNjcm9sbExlZnQoc2Nyb2xsTGVmdCArIGNsaXBXaWR0aCAtIHJpZ2h0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBsZWZ0ZXIgPSBkZWZpbml0ZWx5QmlnZ2VyKDAsIGxlZnQpO1xuICAgIGNvbnN0IHJpZ2h0ZXIgPSBkZWZpbml0ZWx5QmlnZ2VyKHJpZ2h0LCBjbGlwV2lkdGgpO1xuICAgICR3cmFwcGVyLnRvZ2dsZUNsYXNzKCdzaGFkb3ctbGVmdCcsIGxlZnRlcik7XG4gICAgJHdyYXBwZXIudG9nZ2xlQ2xhc3MoJ3NoYWRvdy1yaWdodCcsIHJpZ2h0ZXIpO1xuICAgICQoJy5maWxlc19iYXIgPiAuYnRuLWxlZnQnKS5hdHRyKCdkaXNhYmxlZCcsICFsZWZ0ZXIpO1xuICAgICQoJy5maWxlc19iYXIgPiAuYnRuLXJpZ2h0JykuYXR0cignZGlzYWJsZWQnLCAhcmlnaHRlcik7XG4gIH0pO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi8uLi9hcHAnKTtcbmNvbnN0IFRvYXN0ID0gcmVxdWlyZSgnLi4vdG9hc3QnKTtcblxuY29uc3Qge1xuICBwYXJzZUZsb2F0XG59ID0gTnVtYmVyO1xuXG5jb25zdCBtaW5JbnRlcnZhbCA9IDAuMTtcbmNvbnN0IG1heEludGVydmFsID0gMTA7XG5jb25zdCBzdGFydEludGVydmFsID0gMC41O1xuY29uc3Qgc3RlcEludGVydmFsID0gMC4xO1xuXG5jb25zdCBub3JtYWxpemUgPSAoc2VjKSA9PiB7XG5cblxuICBsZXQgaW50ZXJ2YWw7XG4gIGxldCBtZXNzYWdlO1xuICBpZiAoc2VjIDwgbWluSW50ZXJ2YWwpIHtcbiAgICBpbnRlcnZhbCA9IG1pbkludGVydmFsO1xuICAgIG1lc3NhZ2UgPSBgSW50ZXJ2YWwgb2YgJHtzZWN9IHNlY29uZHMgaXMgdG9vIGxvdy4gU2V0dGluZyB0byBtaW4gYWxsb3dlZCBpbnRlcnZhbCBvZiAke21pbkludGVydmFsfSBzZWNvbmQocykuYDtcbiAgfSBlbHNlIGlmIChzZWMgPiBtYXhJbnRlcnZhbCkge1xuICAgIGludGVydmFsID0gbWF4SW50ZXJ2YWw7XG4gICAgbWVzc2FnZSA9IGBJbnRlcnZhbCBvZiAke3NlY30gc2Vjb25kcyBpcyB0b28gaGlnaC4gU2V0dGluZyB0byBtYXggYWxsb3dlZCBpbnRlcnZhbCBvZiAke21heEludGVydmFsfSBzZWNvbmQocykuYDtcbiAgfSBlbHNlIHtcbiAgICBpbnRlcnZhbCA9IHNlYztcbiAgICBtZXNzYWdlID0gYEludGVydmFsIGhhcyBiZWVuIHNldCB0byAke3NlY30gc2Vjb25kKHMpLmBcbiAgfVxuXG4gIHJldHVybiBbaW50ZXJ2YWwsIG1lc3NhZ2VdO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG5cbiAgY29uc3QgJGludGVydmFsID0gJCgnI2ludGVydmFsJyk7XG4gICRpbnRlcnZhbC52YWwoc3RhcnRJbnRlcnZhbCk7XG4gICRpbnRlcnZhbC5hdHRyKHtcbiAgICBtYXg6IG1heEludGVydmFsLFxuICAgIG1pbjogbWluSW50ZXJ2YWwsXG4gICAgc3RlcDogc3RlcEludGVydmFsXG4gIH0pO1xuXG4gICQoJyNpbnRlcnZhbCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB0cmFjZXJNYW5hZ2VyID0gYXBwLmdldFRyYWNlck1hbmFnZXIoKTtcbiAgICBjb25zdCBbc2Vjb25kcywgbWVzc2FnZV0gPSBub3JtYWxpemUocGFyc2VGbG9hdCgkKHRoaXMpLnZhbCgpKSk7XG5cbiAgICAkKHRoaXMpLnZhbChzZWNvbmRzKTtcbiAgICB0cmFjZXJNYW5hZ2VyLmludGVydmFsID0gc2Vjb25kcyAqIDEwMDA7XG4gICAgVG9hc3Quc2hvd0luZm9Ub2FzdChtZXNzYWdlKTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi8uLi9hcHAnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG5cbiAgY29uc3QgJG1vZHVsZV9jb250YWluZXIgPSAkKCcubW9kdWxlX2NvbnRhaW5lcicpO1xuXG4gICRtb2R1bGVfY29udGFpbmVyLm9uKCdtb3VzZWRvd24nLCAnLm1vZHVsZV93cmFwcGVyJywgZnVuY3Rpb24oZSkge1xuICAgIGFwcC5nZXRUcmFjZXJNYW5hZ2VyKCkuZmluZE93bmVyKHRoaXMpLm1vdXNlZG93bihlKTtcbiAgfSk7XG5cbiAgJG1vZHVsZV9jb250YWluZXIub24oJ21vdXNlbW92ZScsICcubW9kdWxlX3dyYXBwZXInLCBmdW5jdGlvbihlKSB7XG4gICAgYXBwLmdldFRyYWNlck1hbmFnZXIoKS5maW5kT3duZXIodGhpcykubW91c2Vtb3ZlKGUpO1xuICB9KTtcblxuICAkbW9kdWxlX2NvbnRhaW5lci5vbignRE9NTW91c2VTY3JvbGwgbW91c2V3aGVlbCcsICcubW9kdWxlX3dyYXBwZXInLCBmdW5jdGlvbihlKSB7XG4gICAgYXBwLmdldFRyYWNlck1hbmFnZXIoKS5maW5kT3duZXIodGhpcykubW91c2V3aGVlbChlKTtcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uLy4uL2FwcCcpO1xuY29uc3QgU2VydmVyID0gcmVxdWlyZSgnLi4vLi4vc2VydmVyJyk7XG5jb25zdCBzaG93QWxnb3JpdGhtID0gcmVxdWlyZSgnLi4vc2hvd19hbGdvcml0aG0nKTtcbmNvbnN0IHJlc2l6ZVdvcmtzcGFjZSA9IHJlcXVpcmUoJy4uL3Jlc2l6ZV93b3Jrc3BhY2UnKTtcblxubGV0IHNpZGVtZW51X3BlcmNlbnQ7XG5cbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICAkKCcjbmF2aWdhdGlvbicpLmNsaWNrKCgpID0+IHtcbiAgICBjb25zdCAkc2lkZW1lbnUgPSAkKCcuc2lkZW1lbnUnKTtcbiAgICBjb25zdCAkd29ya3NwYWNlID0gJCgnLndvcmtzcGFjZScpO1xuXG4gICAgJHNpZGVtZW51LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICQoJy5uYXYtZHJvcGRvd24nKS50b2dnbGVDbGFzcygnZmEtY2FyZXQtZG93biBmYS1jYXJldC1yaWdodCcpO1xuICAgIGlmICgkc2lkZW1lbnUuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICAgICRzaWRlbWVudS5hbmltYXRlKHsgXCJyaWdodFwiOiAoMTAwIC0gc2lkZW1lbnVfcGVyY2VudCkgKyAnJSd9LCBcImZhc3RcIiApO1xuICAgICAgICAkd29ya3NwYWNlLmFuaW1hdGUoeyBcImxlZnRcIjogc2lkZW1lbnVfcGVyY2VudCArICclJyB9LCBcImZhc3RcIiApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNpZGVtZW51X3BlcmNlbnQgPSAkd29ya3NwYWNlLnBvc2l0aW9uKCkubGVmdCAvICQoJ2JvZHknKS53aWR0aCgpICogMTAwO1xuICAgICAgICAkc2lkZW1lbnUuYW5pbWF0ZSh7IFwicmlnaHRcIjogXCIwJVwiIH0sIFwiZmFzdFwiICk7XG4gICAgICAgICR3b3Jrc3BhY2UuYW5pbWF0ZSh7IFwibGVmdFwiOiBcIjAlXCIgfSwgXCJmYXN0XCIgKTtcbiAgICB9XG5cbiAgICByZXNpemVXb3Jrc3BhY2UoKTtcbiAgfSk7XG5cbiAgJCgnI2RvY3VtZW50YXRpb24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJCgnI2J0bl9kb2MnKS5jbGljaygpO1xuICB9KTtcblxuICAkKCcjcG93ZXJlZC1ieScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdvcGVuJylcbiAgICAkKCcjcG93ZXJlZC1ieS1saXN0JykudG9nZ2xlKDMwMCk7XG4gIH0pO1xuXG4gICQoJyNzY3JhdGNoLXBhcGVyJykuY2xpY2soKCkgPT4ge1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gJ3NjcmF0Y2gnO1xuICAgIGNvbnN0IGFsZ29yaXRobSA9IGFwcC5nZXRMb2FkZWRTY3JhdGNoKCk7XG4gICAgU2VydmVyLmxvYWRBbGdvcml0aG0oY2F0ZWdvcnksIGFsZ29yaXRobSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgc2hvd0FsZ29yaXRobShjYXRlZ29yeSwgYWxnb3JpdGhtLCBkYXRhKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgJCgnLnRhYl9iYXIgPiBidXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJCgnLnRhYl9iYXIgPiBidXR0b24nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJCgnLnRhYl9jb250YWluZXIgPiAudGFiJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICQoJCh0aGlzKS5hdHRyKCdkYXRhLXRhcmdldCcpKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uLy4uL2FwcCcpO1xuY29uc3QgU2VydmVyID0gcmVxdWlyZSgnLi4vLi4vc2VydmVyJyk7XG5jb25zdCBUb2FzdCA9IHJlcXVpcmUoJy4uL3RvYXN0Jyk7XG5jb25zdCBUb3BNZW51ID0gcmVxdWlyZSgnLi4vdG9wX21lbnUnKTtcbmNvbnN0IGNyZWF0ZSA9IHJlcXVpcmUoJy4uLy4uL2NyZWF0ZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcblxuICAvLyBzaGFyZWRcbiAgJCgnI3NoYXJlZCcpLm1vdXNldXAoZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuc2VsZWN0KCk7XG4gIH0pO1xuXG4gICQoJyNidG5fc2hhcmUnKS5jbGljayhmdW5jdGlvbiAoKSB7XG5cbiAgICBjb25zdCAkaWNvbiA9ICQodGhpcykuZmluZCgnLmZhLXNoYXJlJyk7XG4gICAgJGljb24uYWRkQ2xhc3MoJ2ZhLXNwaW4gZmEtc3Bpbi1mYXN0ZXInKTtcblxuICAgIFNlcnZlci5zaGFyZVNjcmF0Y2hQYXBlcigpLnRoZW4oKHVybCkgPT4ge1xuICAgICAgJGljb24ucmVtb3ZlQ2xhc3MoJ2ZhLXNwaW4gZmEtc3Bpbi1mYXN0ZXInKTtcbiAgICAgICQoJyNzaGFyZWQnKS5yZW1vdmVDbGFzcygnY29sbGFwc2UnKTtcbiAgICAgICQoJyNzaGFyZWQnKS52YWwodXJsKTtcbiAgICAgIFRvYXN0LnNob3dJbmZvVG9hc3QoJ1NoYXJlYWJsZSBsaW5rIGlzIGNyZWF0ZWQuJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIGNvbnRyb2xcblxuICBjb25zdCAkYnRuUnVuID0gJCgnI2J0bl9ydW4nKTtcbiAgY29uc3QgJGJ0blRyYWNlID0gJCgnI2J0bl90cmFjZScpO1xuICBjb25zdCAkYnRuUGF1c2UgPSAkKCcjYnRuX3BhdXNlJyk7XG4gIGNvbnN0ICRidG5QcmV2ID0gJCgnI2J0bl9wcmV2Jyk7XG4gIGNvbnN0ICRidG5OZXh0ID0gJCgnI2J0bl9uZXh0Jyk7XG4gIGNvbnN0ICRidG5HZW5lcmF0ZSA9ICQoJyNidG5fZ2VuZXJhdGUnKTtcblxuICAvLyBpbml0aWFsbHksIGNvbnRyb2wgYnV0dG9ucyBhcmUgZGlzYWJsZWRcbiAgVG9wTWVudS5kaXNhYmxlRmxvd0NvbnRyb2woKTtcblxuICAkYnRuUnVuLmNsaWNrKCgpID0+IHtcbiAgICAkYnRuVHJhY2UuY2xpY2soKTtcbiAgICAkYnRuUGF1c2UucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICRidG5SdW4uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIFRvcE1lbnUuZW5hYmxlRmxvd0NvbnRyb2woKTtcbiAgICB2YXIgZXJyID0gYXBwLmdldEVkaXRvcigpLmV4ZWN1dGUoKTtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICBUb2FzdC5zaG93RXJyb3JUb2FzdChlcnIpO1xuICAgICAgVG9wTWVudS5yZXNldFRvcE1lbnVCdXR0b25zKCk7XG4gICAgfVxuICB9KTtcblxuICAkYnRuUGF1c2UuY2xpY2soKCkgPT4ge1xuICAgICRidG5SdW4udG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICRidG5QYXVzZS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgaWYgKGFwcC5nZXRUcmFjZXJNYW5hZ2VyKCkuaXNQYXVzZSgpKSB7XG4gICAgICBhcHAuZ2V0VHJhY2VyTWFuYWdlcigpLnJlc3VtZVN0ZXAoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwLmdldFRyYWNlck1hbmFnZXIoKS5wYXVzZVN0ZXAoKTtcbiAgICB9XG4gIH0pO1xuXG4gICRidG5QcmV2LmNsaWNrKCgpID0+IHtcbiAgICAkYnRuUnVuLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkYnRuUGF1c2UuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIGFwcC5nZXRUcmFjZXJNYW5hZ2VyKCkucGF1c2VTdGVwKCk7XG4gICAgYXBwLmdldFRyYWNlck1hbmFnZXIoKS5wcmV2U3RlcCgpO1xuICB9KTtcblxuICAkYnRuTmV4dC5jbGljaygoKSA9PiB7XG4gICAgJGJ0blJ1bi5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgJGJ0blBhdXNlLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICBhcHAuZ2V0VHJhY2VyTWFuYWdlcigpLnBhdXNlU3RlcCgpO1xuICAgIGFwcC5nZXRUcmFjZXJNYW5hZ2VyKCkubmV4dFN0ZXAoKTtcbiAgfSk7XG5cbiAgJGJ0bkdlbmVyYXRlLmNsaWNrKCgpID0+IHtcbiAgICAgY3JlYXRlLmluaXQoKTtcbiAgfSk7XG5cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uLy4uL2FwcCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xuICAgIGFwcC5nZXRUcmFjZXJNYW5hZ2VyKCkucmVzaXplKCk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwJyk7XG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5jb25zdCBzaG93RGVzY3JpcHRpb24gPSByZXF1aXJlKCcuL3Nob3dfZGVzY3JpcHRpb24nKTtcbmNvbnN0IGFkZEZpbGVzID0gcmVxdWlyZSgnLi9hZGRfZmlsZXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoY2F0ZWdvcnksIGFsZ29yaXRobSwgZGF0YSwgcmVxdWVzdGVkRmlsZSkgPT4ge1xuICBsZXQgJG1lbnU7XG4gIGxldCBjYXRlZ29yeV9uYW1lO1xuICBsZXQgYWxnb3JpdGhtX25hbWU7XG5cbiAgaWYgKHV0aWxzLmlzU2NyYXRjaFBhcGVyKGNhdGVnb3J5KSkge1xuICAgICRtZW51ID0gJCgnI3NjcmF0Y2gtcGFwZXInKTtcbiAgICBjYXRlZ29yeV9uYW1lID0gJ1NjcmF0Y2ggUGFwZXInO1xuICAgIGFsZ29yaXRobV9uYW1lID0gYWxnb3JpdGhtID8gJ1NoYXJlZCcgOiAnVGVtcG9yYXJ5JztcbiAgfSBlbHNlIHtcbiAgICAkbWVudSA9ICQoYFtkYXRhLWNhdGVnb3J5PVwiJHtjYXRlZ29yeX1cIl1bZGF0YS1hbGdvcml0aG09XCIke2FsZ29yaXRobX1cIl1gKTtcbiAgICBjb25zdCBjYXRlZ29yeU9iaiA9IGFwcC5nZXRDYXRlZ29yeShjYXRlZ29yeSk7XG4gICAgY2F0ZWdvcnlfbmFtZSA9IGNhdGVnb3J5T2JqLm5hbWU7XG4gICAgYWxnb3JpdGhtX25hbWUgPSBjYXRlZ29yeU9iai5saXN0W2FsZ29yaXRobV07XG4gIH1cblxuICAkKCcuc2lkZW1lbnUgYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAkbWVudS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgJCgnI2NhdGVnb3J5JykuaHRtbChjYXRlZ29yeV9uYW1lKTtcbiAgJCgnI2FsZ29yaXRobScpLmh0bWwoYWxnb3JpdGhtX25hbWUpO1xuICAkKCcjdGFiX2Rlc2MgPiAud3JhcHBlcicpLmVtcHR5KCk7XG4gICQoJy5maWxlc19iYXIgPiAud3JhcHBlcicpLmVtcHR5KCk7XG4gICQoJyNleHBsYW5hdGlvbicpLmh0bWwoJycpO1xuXG4gIGFwcC5zZXRMYXN0RmlsZVVzZWQobnVsbCk7XG4gIGFwcC5nZXRFZGl0b3IoKS5jbGVhckNvbnRlbnQoKTtcblxuICBjb25zdCB7XG4gICAgZmlsZXNcbiAgfSA9IGRhdGE7XG5cbiAgZGVsZXRlIGRhdGEuZmlsZXM7XG5cbiAgc2hvd0Rlc2NyaXB0aW9uKGRhdGEpO1xuICBhZGRGaWxlcyhjYXRlZ29yeSwgYWxnb3JpdGhtLCBmaWxlcywgcmVxdWVzdGVkRmlsZSk7XG4gIHV0aWxzLnJlbmRlck1hdGhKYXgoKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHtcbiAgaXNBcnJheVxufSA9IEFycmF5O1xuXG5jb25zdCB7XG4gIGVhY2hcbn0gPSAkO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChkYXRhKSA9PiB7XG4gIGNvbnN0ICRjb250YWluZXIgPSAkKCcjdGFiX2Rlc2MgPiAud3JhcHBlcicpO1xuICAkY29udGFpbmVyLmVtcHR5KCk7XG5cbiAgZWFjaChkYXRhLCAoa2V5LCB2YWx1ZSkgPT4ge1xuXG4gICAgaWYgKGtleSkge1xuICAgICAgJGNvbnRhaW5lci5hcHBlbmQoJCgnPGgzPicpLmh0bWwoa2V5KSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICRjb250YWluZXIuYXBwZW5kKCQoJzxwPicpLmh0bWwodmFsdWUpKTtcblxuICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcblxuICAgICAgY29uc3QgJHVsID0gJCgnPHVsIGNsYXNzPVwiYXBwbGljYXRpb25zXCI+Jyk7XG4gICAgICAkY29udGFpbmVyLmFwcGVuZCgkdWwpO1xuXG4gICAgICB2YWx1ZS5mb3JFYWNoKChsaSkgPT4ge1xuICAgICAgICAkdWwuYXBwZW5kKCQoJzxsaT4nKS5odG1sKGxpKSk7XG4gICAgICB9KTtcblxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuXG4gICAgICBjb25zdCAkdWwgPSAkKCc8dWwgY2xhc3M9XCJjb21wbGV4aXRpZXNcIj4nKTtcbiAgICAgICRjb250YWluZXIuYXBwZW5kKCR1bCk7XG5cbiAgICAgIGVhY2godmFsdWUsIChwcm9wKSA9PiB7XG4gICAgICAgIGNvbnN0ICR3cmFwcGVyID0gJCgnPGRpdiBjbGFzcz1cImNvbXBsZXhpdHlcIj4nKTtcbiAgICAgICAgY29uc3QgJHR5cGUgPSAkKCc8c3BhbiBjbGFzcz1cImNvbXBsZXhpdHktdHlwZVwiPicpLmh0bWwoYCR7cHJvcH06IGApO1xuICAgICAgICBjb25zdCAkdmFsdWUgPSAkKCc8c3BhbiBjbGFzcz1cImNvbXBsZXhpdHktdmFsdWVcIj4nKS5odG1sKGAke3ZhbHVlW3Byb3BdfWApO1xuXG4gICAgICAgICR3cmFwcGVyLmFwcGVuZCgkdHlwZSkuYXBwZW5kKCR2YWx1ZSk7XG5cbiAgICAgICAgJHVsLmFwcGVuZCgkKCc8bGk+JykuYXBwZW5kKCR3cmFwcGVyKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gY2xpY2sgdGhlIGZpcnN0IGFsZ29yaXRobSBpbiB0aGUgZmlyc3QgY2F0ZWdvcnlcbm1vZHVsZS5leHBvcnRzID0gKCkgPT4ge1xuICAkKCcjbGlzdCAuY2F0ZWdvcnknKS5maXJzdCgpLmNsaWNrKCk7XG4gICQoJyNsaXN0IC5jYXRlZ29yeSArIC5hbGdvcml0aG1zID4gLmluZGVudCcpLmZpcnN0KCkuY2xpY2soKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IFNlcnZlciA9IHJlcXVpcmUoJy4uL3NlcnZlcicpO1xuY29uc3Qgc2hvd0FsZ29yaXRobSA9IHJlcXVpcmUoJy4vc2hvd19hbGdvcml0aG0nKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoY2F0ZWdvcnksIGFsZ29yaXRobSwgZmlsZSkgPT4ge1xuICAkKGAuY2F0ZWdvcnlbZGF0YS1jYXRlZ29yeT1cIiR7Y2F0ZWdvcnl9XCJdYCkuY2xpY2soKTtcbiAgU2VydmVyLmxvYWRBbGdvcml0aG0oY2F0ZWdvcnksIGFsZ29yaXRobSkudGhlbigoZGF0YSkgPT4ge1xuICAgIHNob3dBbGdvcml0aG0oY2F0ZWdvcnksIGFsZ29yaXRobSwgZGF0YSwgZmlsZSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwJyk7XG5jb25zdCBTZXJ2ZXIgPSByZXF1aXJlKCcuLi9zZXJ2ZXInKTtcbmNvbnN0IGNvbnZlcnRlciA9IG5ldyBzaG93ZG93bi5Db252ZXJ0ZXIoe3RhYmxlczogdHJ1ZX0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICh3aWtpKSA9PiB7XG4gIFNlcnZlci5sb2FkV2lraSh3aWtpKS50aGVuKChkYXRhKSA9PiB7XG4gICAgJCgnI3RhYl9kb2MgPiAud3JhcHBlcicpLmh0bWwoY29udmVydGVyLm1ha2VIdG1sKGAjJHt3aWtpfVxcbiR7ZGF0YX1gKSk7XG4gICAgJCgnI3RhYl9kb2MnKS5zY3JvbGxUb3AoMCk7XG4gICAgJCgnI3RhYl9kb2MgPiAud3JhcHBlciBhJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNvbnN0IGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgIGlmIChhcHAuaGFzV2lraShocmVmKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzKGhyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBzaG93VG9hc3QgPSAoZGF0YSwgdHlwZSkgPT4ge1xuICBjb25zdCAkdG9hc3QgPSAkKGA8ZGl2IGNsYXNzPVwidG9hc3QgJHt0eXBlfVwiPmApLmFwcGVuZChkYXRhKTtcblxuICAkKCcudG9hc3RfY29udGFpbmVyJykuYXBwZW5kKCR0b2FzdCk7XG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICR0b2FzdC5mYWRlT3V0KCgpID0+IHtcbiAgICAgICR0b2FzdC5yZW1vdmUoKTtcbiAgICB9KTtcbiAgfSwgMzAwMCk7XG59O1xuXG5jb25zdCBzaG93RXJyb3JUb2FzdCA9IChlcnIpID0+IHtcbiAgc2hvd1RvYXN0KGVyciwgJ2Vycm9yJyk7XG59O1xuXG5jb25zdCBzaG93SW5mb1RvYXN0ID0gKGVycikgPT4ge1xuICBzaG93VG9hc3QoZXJyLCAnaW5mbycpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNob3dFcnJvclRvYXN0LFxuICBzaG93SW5mb1RvYXN0XG59OyIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwJyk7XG5cbmNvbnN0IGZsb3dDb250cm9sQnRucyA9IFsgJCgnI2J0bl9wYXVzZScpLCAkKCcjYnRuX3ByZXYnKSwgJCgnI2J0bl9uZXh0JykgXTtcbmNvbnN0IHNldEZsb3dDb250cm9sU3RhdGUgPSAoaXNEaXNhYmxlZCkgPT4ge1xuICBmbG93Q29udHJvbEJ0bnMuZm9yRWFjaCgkYnRuID0+ICRidG4uYXR0cignZGlzYWJsZWQnLCBpc0Rpc2FibGVkKSk7XG59O1xuXG5jb25zdCBlbmFibGVGbG93Q29udHJvbCA9ICgpID0+IHtcbiAgc2V0Rmxvd0NvbnRyb2xTdGF0ZShmYWxzZSk7XG59O1xuXG5jb25zdCBkaXNhYmxlRmxvd0NvbnRyb2wgPSAoKSA9PiB7XG4gIHNldEZsb3dDb250cm9sU3RhdGUodHJ1ZSk7XG59O1xuXG5jb25zdCByZXNldFRvcE1lbnVCdXR0b25zID0gKCkgPT4ge1xuICAkKCcudG9wLW1lbnUtYnV0dG9ucyBidXR0b24nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gIGRpc2FibGVGbG93Q29udHJvbCgpO1xuICBhcHAuZ2V0RWRpdG9yKCkudW5oaWdobGlnaHRMaW5lKCk7XG59O1xuXG5jb25zdCBzZXRJbnRlcnZhbCA9ICh2YWwpID0+IHtcbiAgJCgnI2ludGVydmFsJykudmFsKGludGVydmFsKTtcbn07XG5cbmNvbnN0IGFjdGl2YXRlQnRuUGF1c2UgPSAoKSA9PiB7XG4gICQoJyNidG5fcGF1c2UnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG59O1xuXG5jb25zdCBkZWFjdGl2YXRlQnRuUGF1c2UgPSAoKSA9PiB7XG4gICQoJyNidG5fcGF1c2UnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZW5hYmxlRmxvd0NvbnRyb2wsXG4gIGRpc2FibGVGbG93Q29udHJvbCxcbiAgcmVzZXRUb3BNZW51QnV0dG9ucyxcbiAgc2V0SW50ZXJ2YWwsXG4gIGFjdGl2YXRlQnRuUGF1c2UsXG4gIGRlYWN0aXZhdGVCdG5QYXVzZVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpZCkge1xuICBjb25zdCBlZGl0b3IgPSBhY2UuZWRpdChpZCk7XG5cbiAgZWRpdG9yLnNldE9wdGlvbnMoe1xuICAgIGVuYWJsZUJhc2ljQXV0b2NvbXBsZXRpb246IHRydWUsXG4gICAgZW5hYmxlU25pcHBldHM6IHRydWUsXG4gICAgZW5hYmxlTGl2ZUF1dG9jb21wbGV0aW9uOiB0cnVlXG4gIH0pO1xuXG4gIGVkaXRvci5zZXRUaGVtZSgnYWNlL3RoZW1lL3RvbW9ycm93X25pZ2h0X2VpZ2h0aWVzJyk7XG4gIGVkaXRvci5zZXNzaW9uLnNldE1vZGUoJ2FjZS9tb2RlL2phdmFzY3JpcHQnKTtcbiAgZWRpdG9yLiRibG9ja1Njcm9sbGluZyA9IEluZmluaXR5O1xuXG4gIHJldHVybiBlZGl0b3I7XG59OyIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZXhlY3V0ZSA9ICh0cmFjZXJNYW5hZ2VyLCBjb2RlLCBkYXRhTGluZXMpID0+IHtcbiAgLy8gYWxsIG1vZHVsZXMgYXZhaWxhYmxlIHRvIGV2YWwgYXJlIG9idGFpbmVkIGZyb20gd2luZG93XG4gIHRyeSB7XG4gICAgdHJhY2VyTWFuYWdlci5kZWFsbG9jYXRlQWxsKCk7XG4gICAgY29uc3QgbGluZXMgPSBjb2RlLnNwbGl0KCdcXG4nKTtcbiAgICBjb25zdCBuZXdMaW5lcyA9IFtdO1xuICAgIGxpbmVzLmZvckVhY2goKGxpbmUsIGkpID0+IHtcbiAgICAgIG5ld0xpbmVzLnB1c2gobGluZS5yZXBsYWNlKC8oLitcXC4gKl93YWl0ICopKFxcKCAqXFwpKS9nLCBgJDEoJHtpIC0gZGF0YUxpbmVzfSlgKSk7XG4gICAgfSk7XG4gICAgZXZhbChCYWJlbC50cmFuc2Zvcm0obmV3TGluZXMuam9pbignXFxuJyksIHtwcmVzZXRzOiBbJ2VzMjAxNSddfSkuY29kZSk7XG4gICAgdHJhY2VyTWFuYWdlci52aXN1YWxpemUoKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cmFjZXJNYW5hZ2VyLnJlbW92ZVVuYWxsb2NhdGVkKCk7XG4gIH1cbn07XG5cbmNvbnN0IGV4ZWN1dGVEYXRhID0gKHRyYWNlck1hbmFnZXIsIGFsZ29EYXRhKSA9PiB7XG4gIHJldHVybiBleGVjdXRlKHRyYWNlck1hbmFnZXIsIGFsZ29EYXRhKTtcbn07XG5cbmNvbnN0IGV4ZWN1dGVEYXRhQW5kQ29kZSA9ICh0cmFjZXJNYW5hZ2VyLCBhbGdvRGF0YSwgYWxnb0NvZGUpID0+IHtcbiAgY29uc3QgZGF0YUxpbmVzID0gYWxnb0RhdGEuc3BsaXQoJ1xcbicpLmxlbmd0aDtcbiAgcmV0dXJuIGV4ZWN1dGUodHJhY2VyTWFuYWdlciwgYCR7YWxnb0RhdGF9XFxuJHthbGdvQ29kZX1gLCBkYXRhTGluZXMpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGV4ZWN1dGVEYXRhLFxuICBleGVjdXRlRGF0YUFuZENvZGVcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi9hcHAnKTtcbmNvbnN0IGNyZWF0ZUVkaXRvciA9IHJlcXVpcmUoJy4vY3JlYXRlJyk7XG5jb25zdCBFeGVjdXRvciA9IHJlcXVpcmUoJy4vZXhlY3V0b3InKTtcbmNvbnN0IFRvcE1lbnUgPSByZXF1aXJlKCcuLi9kb20vdG9wX21lbnUnKTtcblxuZnVuY3Rpb24gRWRpdG9yKHRyYWNlck1hbmFnZXIpIHtcbiAgaWYgKCF0cmFjZXJNYW5hZ2VyKSB7XG4gICAgdGhyb3cgJ0Nhbm5vdCBjcmVhdGUgRWRpdG9yLiBNaXNzaW5nIHRoZSB0cmFjZXJNYW5hZ2VyJztcbiAgfVxuXG4gIGFjZS5yZXF1aXJlKCdhY2UvZXh0L2xhbmd1YWdlX3Rvb2xzJyk7XG4gIGNvbnN0IFJhbmdlID0gYWNlLnJlcXVpcmUoXCJhY2UvcmFuZ2VcIikuUmFuZ2U7XG5cbiAgdGhpcy5kYXRhRWRpdG9yID0gY3JlYXRlRWRpdG9yKCdkYXRhJyk7XG4gIHRoaXMuY29kZUVkaXRvciA9IGNyZWF0ZUVkaXRvcignY29kZScpO1xuXG4gIC8vIFNldHRpbmcgZGF0YVxuXG4gIHRoaXMuc2V0RGF0YSA9IChkYXRhKSA9PiB7XG4gICAgdGhpcy5kYXRhRWRpdG9yLnNldFZhbHVlKGRhdGEsIC0xKTtcbiAgfTtcblxuICB0aGlzLnNldENvZGUgPSAoY29kZSkgPT4ge1xuICAgIHRoaXMuY29kZUVkaXRvci5zZXRWYWx1ZShjb2RlLCAtMSk7XG4gIH07XG5cbiAgdGhpcy5zZXRDb250ZW50ID0gKCh7XG4gICAgZGF0YSxcbiAgICBjb2RlXG4gIH0pID0+IHtcbiAgICB0aGlzLnNldERhdGEoZGF0YSk7XG4gICAgdGhpcy5zZXRDb2RlKGNvZGUpO1xuICB9KTtcblxuICAvLyBDbGVhcmluZyBkYXRhXG5cbiAgdGhpcy5jbGVhckRhdGEgPSAoKSA9PiB7XG4gICAgdGhpcy5kYXRhRWRpdG9yLnNldFZhbHVlKCcnKTtcbiAgfTtcblxuICB0aGlzLmNsZWFyQ29kZSA9ICgpID0+IHtcbiAgICB0aGlzLmNvZGVFZGl0b3Iuc2V0VmFsdWUoJycpO1xuICB9O1xuXG4gIHRoaXMuY2xlYXJDb250ZW50ID0gKCkgPT4ge1xuICAgIHRoaXMuY2xlYXJEYXRhKCk7XG4gICAgdGhpcy5jbGVhckNvZGUoKTtcbiAgfTtcblxuICB0aGlzLmV4ZWN1dGUgPSAoKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuZGF0YUVkaXRvci5nZXRWYWx1ZSgpO1xuICAgIGNvbnN0IGNvZGUgPSB0aGlzLmNvZGVFZGl0b3IuZ2V0VmFsdWUoKTtcbiAgICByZXR1cm4gRXhlY3V0b3IuZXhlY3V0ZURhdGFBbmRDb2RlKHRyYWNlck1hbmFnZXIsIGRhdGEsIGNvZGUpO1xuICB9O1xuXG4gIHRoaXMuaGlnaGxpZ2h0TGluZSA9IChsaW5lTnVtYmVyKSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHRoaXMuY29kZUVkaXRvci5nZXRTZXNzaW9uKCk7XG4gICAgaWYgKHRoaXMubWFya2VyKSBzZXNzaW9uLnJlbW92ZU1hcmtlcih0aGlzLm1hcmtlcik7XG4gICAgdGhpcy5tYXJrZXIgPSBzZXNzaW9uLmFkZE1hcmtlcihuZXcgUmFuZ2UobGluZU51bWJlciwgMCwgbGluZU51bWJlciwgSW5maW5pdHkpLCBcImV4ZWN1dGluZ1wiLCBcImxpbmVcIiwgdHJ1ZSk7XG4gIH07XG5cbiAgdGhpcy51bmhpZ2hsaWdodExpbmUgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHRoaXMuY29kZUVkaXRvci5nZXRTZXNzaW9uKCk7XG4gICAgaWYgKHRoaXMubWFya2VyKSBzZXNzaW9uLnJlbW92ZU1hcmtlcih0aGlzLm1hcmtlcik7XG4gIH07XG5cbiAgdGhpcy5yZXNpemUgPSAoKSA9PiB7XG4gICAgdGhpcy5kYXRhRWRpdG9yLnJlc2l6ZSgpO1xuICAgIHRoaXMuY29kZUVkaXRvci5yZXNpemUoKTtcbiAgfTtcblxuICAvLyBsaXN0ZW5lcnNcblxuICB0aGlzLmRhdGFFZGl0b3Iub24oJ2NoYW5nZScsICgpID0+IHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5kYXRhRWRpdG9yLmdldFZhbHVlKCk7XG4gICAgY29uc3QgbGFzdEZpbGVVc2VkID0gYXBwLmdldExhc3RGaWxlVXNlZCgpO1xuICAgIGlmIChsYXN0RmlsZVVzZWQpIHtcbiAgICAgIGFwcC51cGRhdGVDYWNoZWRGaWxlKGxhc3RGaWxlVXNlZCwge1xuICAgICAgICBkYXRhXG4gICAgICB9KTtcbiAgICB9XG4gICAgRXhlY3V0b3IuZXhlY3V0ZURhdGEodHJhY2VyTWFuYWdlciwgZGF0YSk7XG4gICAgVG9wTWVudS5yZXNldFRvcE1lbnVCdXR0b25zKCk7XG4gIH0pO1xuXG4gIHRoaXMuY29kZUVkaXRvci5vbignY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IGNvZGUgPSB0aGlzLmNvZGVFZGl0b3IuZ2V0VmFsdWUoKTtcbiAgICBjb25zdCBsYXN0RmlsZVVzZWQgPSBhcHAuZ2V0TGFzdEZpbGVVc2VkKCk7XG4gICAgaWYgKGxhc3RGaWxlVXNlZCkge1xuICAgICAgYXBwLnVwZGF0ZUNhY2hlZEZpbGUobGFzdEZpbGVVc2VkLCB7XG4gICAgICAgIGNvZGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0cmFjZXJNYW5hZ2VyLnJlc2V0KCk7XG4gICAgVG9wTWVudS5yZXNldFRvcE1lbnVCdXR0b25zKCk7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEVkaXRvcjsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IFJTVlAgPSByZXF1aXJlKCdyc3ZwJyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuL2FwcCcpO1xuY29uc3QgQXBwQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL2FwcC9jb25zdHJ1Y3RvcicpO1xuY29uc3QgRE9NID0gcmVxdWlyZSgnLi9kb20nKTtcbmNvbnN0IFNlcnZlciA9IHJlcXVpcmUoJy4vc2VydmVyJyk7XG5jb25zdCBtb2R1bGVzID0gcmVxdWlyZSgnLi9tb2R1bGUnKTtcblxuY29uc3Qge1xuICBleHRlbmRcbn0gPSAkO1xuXG4kLmFqYXhTZXR1cCh7XG4gIGNhY2hlOiBmYWxzZSxcbiAgZGF0YVR5cGU6ICd0ZXh0J1xufSk7XG5cbmNvbnN0IHtcbiAgaXNTY3JhdGNoUGFwZXJcbn0gPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbmNvbnN0IHtcbiAgZ2V0SGFzaFZhbHVlLFxuICBnZXRQYXJhbWV0ZXJCeU5hbWUsXG4gIGdldFBhdGhcbn0gPSByZXF1aXJlKCcuL3NlcnZlci9oZWxwZXJzJyk7XG5cbi8vIHNldCBnbG9iYWwgcHJvbWlzZSBlcnJvciBoYW5kbGVyXG5SU1ZQLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgY29uc29sZS5hc3NlcnQoZmFsc2UsIHJlYXNvbik7XG59KTtcblxuJCgoKSA9PiB7XG4gIC8vIGluaXRpYWxpemUgdGhlIGFwcGxpY2F0aW9uIGFuZCBhdHRhY2ggaW4gdG8gdGhlIGluc3RhbmNlIG1vZHVsZVxuICBjb25zdCBhcHBDb25zdHJ1Y3RvciA9IG5ldyBBcHBDb25zdHJ1Y3RvcigpO1xuICBleHRlbmQodHJ1ZSwgYXBwLCBhcHBDb25zdHJ1Y3Rvcik7XG5cbiAgLy8gbG9hZCBtb2R1bGVzIHRvIHRoZSBnbG9iYWwgc2NvcGUgc28gdGhleSBjYW4gYmUgZXZhbGVkXG4gIGV4dGVuZCh0cnVlLCB3aW5kb3csIG1vZHVsZXMpO1xuXG4gIFNlcnZlci5sb2FkQ2F0ZWdvcmllcygpLnRoZW4oKGRhdGEpID0+IHtcbiAgICBhcHAuc2V0Q2F0ZWdvcmllcyhkYXRhKTtcbiAgICBET00uYWRkQ2F0ZWdvcmllcygpO1xuXG4gICAgd2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHN0YXR1czogJ3JlYWR5J1xuICAgIH0pKTtcblxuICAgICQod2luZG93KS5vbignYnJpZGdlLnJ1bicsIGZ1bmN0aW9uKCkge1xuICAgICAgRE9NLnNob3dSZXF1ZXN0ZWRBbGdvcml0aG0od2luZG93LmFsZ29yaXRobS5jYXRlZ29yeSwgd2luZG93LmFsZ29yaXRobS5hbGdvcml0aG0sIHdpbmRvdy5hbGdvcml0aG0uZmlsZSk7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAkKCcjYnRuX3J1bicpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICB9LCAxMDApO1xuICAgIH0pO1xuICAgIC8vIGFwcC5nZXRFZGl0b3IoKS5leGVjdXRlKCk7XG5cbiAgICAvLyB3aW5kb3cucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe3N0YXR1czogJ3JlYWR5J30pKTtcbiAgICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgLy8gICBpZihkYXRhLmFjdGlvbiA9PT0gJ2FsZ29yaXRobScpIHtcbiAgICAvLyAgICAgY29uc3QgeyBjYXRlZ29yeSwgYWxnb3JpdGhtLCBmaWxlIH0gPSBkYXRhLmRhdGE7XG4gICAgLy8gICAgIGNvbnN0IGNhdGVnb3J5ID0gJ2JhY2t0cmFja2luZyc7XG4gICAgLy8gICAgIGNvbnN0IGFsZ29yaXRobSA9ICduX3F1ZWVucyc7XG4gICAgLy8gICAgIERPTS5zaG93UmVxdWVzdGVkQWxnb3JpdGhtKGNhdGVnb3J5LCBhbGdvcml0aG0sICdiYXNpYycpO1xuICAgIC8vICAgdmFyIGVyciA9IGFwcC5nZXRFZGl0b3IoKS5leGVjdXRlKCk7XG4gICAgLy8gICBpZiAoZXJyKSB7XG4gICAgLy8gICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIC8vICAgfVxuICAgICAgLy8gfVxuICAgICAgLy9cbiAgICAgIC8vIGlmKGRhdGEuYWN0aW9uID09PSAncnVuJykge1xuICAgICAgLy8gICBhcHAuZ2V0RWRpdG9yKCkuZXhlY3V0ZSgpO1xuICAgICAgLy8gfVxuICAgIC8vIH0pO1xuICB9KTtcblxuICB2YXIgdjFMb2FkZWRTY3JhdGNoID0gZ2V0SGFzaFZhbHVlKCdzY3JhdGNoLXBhcGVyJyk7XG4gIHZhciB2MkxvYWRlZFNjcmF0Y2ggPSBnZXRQYXJhbWV0ZXJCeU5hbWUoJ3NjcmF0Y2gtcGFwZXInKTtcbiAgdmFyIHZMb2FkZWRTY3JhdGNoID0gdjFMb2FkZWRTY3JhdGNoIHx8IHYyTG9hZGVkU2NyYXRjaDtcbiAgaWYgKHZMb2FkZWRTY3JhdGNoKSB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyAnI3BhdGg9c2NyYXRjaC8nICsgdkxvYWRlZFNjcmF0Y2g7XG4gIH1cblxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IEFycmF5MkQgPSByZXF1aXJlKCcuL2FycmF5MmQnKTtcblxuY29uc3QgcmFuZG9tID0gKE4sIG1pbiwgbWF4KSA9PiB7XG4gIHJldHVybiBBcnJheTJELnJhbmRvbSgxLCBOLCBtaW4sIG1heClbMF07XG59O1xuXG5jb25zdCByYW5kb21Tb3J0ZWQgPSAoTiwgbWluLCBtYXgpPT4ge1xuICByZXR1cm4gQXJyYXkyRC5yYW5kb21Tb3J0ZWQoMSwgTiwgbWluLCBtYXgpWzBdO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJhbmRvbSxcbiAgcmFuZG9tU29ydGVkXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBJbnRlZ2VyID0gcmVxdWlyZSgnLi9pbnRlZ2VyJyk7XG5cbmNvbnN0IHJhbmRvbSA9IChOLCBNLCBtaW4sIG1heCkgPT4ge1xuICBpZiAoIU4pIE4gPSAxMDtcbiAgaWYgKCFNKSBNID0gMTA7XG4gIGlmIChtaW4gPT09IHVuZGVmaW5lZCkgbWluID0gMTtcbiAgaWYgKG1heCA9PT0gdW5kZWZpbmVkKSBtYXggPSA5O1xuICB2YXIgRCA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IE47IGkrKykge1xuICAgIEQucHVzaChbXSk7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBNOyBqKyspIHtcbiAgICAgIERbaV0ucHVzaChJbnRlZ2VyLnJhbmRvbShtaW4sIG1heCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gRDtcbn07XG5cbmNvbnN0IHJhbmRvbVNvcnRlZCA9IChOLCBNLCBtaW4sIG1heCkgPT4ge1xuICByZXR1cm4gcmFuZG9tKE4sIE0sIG1pbiwgbWF4KS5tYXAoZnVuY3Rpb24gKGFycikge1xuICAgIHJldHVybiBhcnIuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEgLSBiO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICByYW5kb20sXG4gIHJhbmRvbVNvcnRlZFxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgSW50ZWdlciA9IHJlcXVpcmUoJy4vaW50ZWdlcicpO1xuXG5jb25zdCByYW5kb20gPSAoTiwgbWluLCBtYXgpID0+IHtcbiAgaWYgKCFOKSBOID0gNztcbiAgaWYgKCFtaW4pIG1pbiA9IDE7XG4gIGlmICghbWF4KSBtYXggPSAxMDtcbiAgdmFyIEMgPSBuZXcgQXJyYXkoTik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgTjsgaSsrKSBDW2ldID0gbmV3IEFycmF5KDIpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IE47IGkrKylcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IENbaV0ubGVuZ3RoOyBqKyspXG4gICAgICBDW2ldW2pdID0gSW50ZWdlci5yYW5kb20obWluLCBtYXgpO1xuICByZXR1cm4gQztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICByYW5kb21cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHJhbmRvbSA9IChOLCByYXRpbykgPT4ge1xuICBpZiAoIU4pIE4gPSA1O1xuICBpZiAoIXJhdGlvKSByYXRpbyA9IC4zO1xuICB2YXIgRyA9IG5ldyBBcnJheShOKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBOOyBpKyspIHtcbiAgICBHW2ldID0gbmV3IEFycmF5KE4pO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgTjsgaisrKSB7XG4gICAgICBpZiAoaSAhPSBqKSB7XG4gICAgICAgIEdbaV1bal0gPSAoTWF0aC5yYW5kb20oKSAqICgxIC8gcmF0aW8pIHwgMCkgPT0gMCA/IDEgOiAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gRztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICByYW5kb21cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IEludGVnZXIgPSByZXF1aXJlKCcuL2ludGVnZXInKTtcbmNvbnN0IEFycmF5MUQgPSByZXF1aXJlKCcuL2FycmF5MWQnKTtcbmNvbnN0IEFycmF5MkQgPSByZXF1aXJlKCcuL2FycmF5MmQnKTtcbmNvbnN0IENvb3JkaW5hdGVTeXN0ZW0gPSByZXF1aXJlKCcuL2Nvb3JkaW5hdGVfc3lzdGVtJyk7XG5jb25zdCBEaXJlY3RlZEdyYXBoID0gcmVxdWlyZSgnLi9kaXJlY3RlZF9ncmFwaCcpO1xuY29uc3QgVW5kaXJlY3RlZEdyYXBoID0gcmVxdWlyZSgnLi91bmRpcmVjdGVkX2dyYXBoJyk7XG5jb25zdCBXZWlnaHRlZERpcmVjdGVkR3JhcGggPSByZXF1aXJlKCcuL3dlaWdodGVkX2RpcmVjdGVkX2dyYXBoJyk7XG5jb25zdCBXZWlnaHRlZFVuZGlyZWN0ZWRHcmFwaCA9IHJlcXVpcmUoJy4vd2VpZ2h0ZWRfdW5kaXJlY3RlZF9ncmFwaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgSW50ZWdlcixcbiAgQXJyYXkxRCxcbiAgQXJyYXkyRCxcbiAgQ29vcmRpbmF0ZVN5c3RlbSxcbiAgRGlyZWN0ZWRHcmFwaCxcbiAgVW5kaXJlY3RlZEdyYXBoLFxuICBXZWlnaHRlZERpcmVjdGVkR3JhcGgsXG4gIFdlaWdodGVkVW5kaXJlY3RlZEdyYXBoXG59OyIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcmFuZG9tID0gKG1pbiwgbWF4KSA9PiB7XG4gIHJldHVybiAoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSB8IDApICsgbWluO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJhbmRvbVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcmFuZG9tID0gKE4sIHJhdGlvKSA9PiB7XG4gIGlmICghTikgTiA9IDU7XG4gIGlmICghcmF0aW8pIHJhdGlvID0gLjM7XG4gIHZhciBHID0gbmV3IEFycmF5KE4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IE47IGkrKykgR1tpXSA9IG5ldyBBcnJheShOKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBOOyBpKyspIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IE47IGorKykge1xuICAgICAgaWYgKGkgPiBqKSB7XG4gICAgICAgIEdbaV1bal0gPSBHW2pdW2ldID0gKE1hdGgucmFuZG9tKCkgKiAoMSAvIHJhdGlvKSB8IDApID09IDAgPyAxIDogMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIEc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmFuZG9tXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBJbnRlZ2VyID0gcmVxdWlyZSgnLi9pbnRlZ2VyJyk7XG5cbmNvbnN0IHJhbmRvbSA9IChOLCByYXRpbywgbWluLCBtYXgpID0+IHtcbiAgaWYgKCFOKSBOID0gNTtcbiAgaWYgKCFyYXRpbykgcmF0aW8gPSAuMztcbiAgaWYgKCFtaW4pIG1pbiA9IDE7XG4gIGlmICghbWF4KSBtYXggPSA1O1xuICB2YXIgRyA9IG5ldyBBcnJheShOKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBOOyBpKyspIHtcbiAgICBHW2ldID0gbmV3IEFycmF5KE4pO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgTjsgaisrKSB7XG4gICAgICBpZiAoaSAhPSBqICYmIChNYXRoLnJhbmRvbSgpICogKDEgLyByYXRpbykgfCAwKSA9PSAwKSB7XG4gICAgICAgIEdbaV1bal0gPSBJbnRlZ2VyLnJhbmRvbShtaW4sIG1heCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBHO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJhbmRvbVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgSW50ZWdlciA9IHJlcXVpcmUoJy4vaW50ZWdlcicpO1xuXG5jb25zdCByYW5kb20gPSAoTiwgcmF0aW8sIG1pbiwgbWF4KSA9PiB7XG4gIGlmICghTikgTiA9IDU7XG4gIGlmICghcmF0aW8pIHJhdGlvID0gLjM7XG4gIGlmICghbWluKSBtaW4gPSAxO1xuICBpZiAoIW1heCkgbWF4ID0gNTtcbiAgdmFyIEcgPSBuZXcgQXJyYXkoTik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgTjsgaSsrKSBHW2ldID0gbmV3IEFycmF5KE4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IE47IGkrKykge1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgTjsgaisrKSB7XG4gICAgICBpZiAoaSA+IGogJiYgKE1hdGgucmFuZG9tKCkgKiAoMSAvIHJhdGlvKSB8IDApID09IDApIHtcbiAgICAgICAgR1tpXVtqXSA9IEdbal1baV0gPSBJbnRlZ2VyLnJhbmRvbShtaW4sIG1heCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBHO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJhbmRvbVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRyYWNlcnMgPSByZXF1aXJlKCcuL3RyYWNlcicpO1xudmFyIGRhdGFzID0gcmVxdWlyZSgnLi9kYXRhJyk7XG5cbmNvbnN0IHtcbiAgZXh0ZW5kXG59ID0gJDtcblxubW9kdWxlLmV4cG9ydHMgPSBleHRlbmQodHJ1ZSwge30sIHRyYWNlcnMsIGRhdGFzKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgQXJyYXkyRFRyYWNlciA9IHJlcXVpcmUoJy4vYXJyYXkyZCcpO1xuXG5jbGFzcyBBcnJheTFEVHJhY2VyIGV4dGVuZHMgQXJyYXkyRFRyYWNlciB7XG4gIHN0YXRpYyBnZXRDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuICdBcnJheTFEVHJhY2VyJztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICBzdXBlcihuYW1lKTtcbiAgfVxuXG4gIF9ub3RpZnkoaWR4LCB2KSB7XG4gICAgc3VwZXIuX25vdGlmeSgwLCBpZHgsIHYpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX2Rlbm90aWZ5KGlkeCkge1xuICAgIHN1cGVyLl9kZW5vdGlmeSgwLCBpZHgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX3NlbGVjdChzLCBlKSB7XG4gICAgaWYgKGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3VwZXIuX3NlbGVjdCgwLCBzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwZXIuX3NlbGVjdFJvdygwLCBzLCBlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBfZGVzZWxlY3QocywgZSkge1xuICAgIGlmIChlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHN1cGVyLl9kZXNlbGVjdCgwLCBzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwZXIuX2Rlc2VsZWN0Um93KDAsIHMsIGUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHByb2Nlc3NTdGVwKHN0ZXAsIG9wdGlvbnMpIHtcbiAgICBzdXBlci5wcm9jZXNzU3RlcChzdGVwLCBvcHRpb25zKTtcbiAgICBpZiAodGhpcy5jaGFydFRyYWNlcikge1xuICAgICAgY29uc3QgbmV3U3RlcCA9ICQuZXh0ZW5kKHRydWUsIHt9LCBzdGVwKTtcbiAgICAgIG5ld1N0ZXAuY2Fwc3VsZSA9IHRoaXMuY2hhcnRUcmFjZXIuY2Fwc3VsZTtcbiAgICAgIG5ld1N0ZXAucyA9IG5ld1N0ZXAuc3k7XG4gICAgICBuZXdTdGVwLmUgPSBuZXdTdGVwLmV5O1xuICAgICAgaWYgKG5ld1N0ZXAucyA9PT0gdW5kZWZpbmVkKSBuZXdTdGVwLnMgPSBuZXdTdGVwLnk7XG4gICAgICBkZWxldGUgbmV3U3RlcC54O1xuICAgICAgZGVsZXRlIG5ld1N0ZXAueTtcbiAgICAgIGRlbGV0ZSBuZXdTdGVwLnN4O1xuICAgICAgZGVsZXRlIG5ld1N0ZXAuc3k7XG4gICAgICBkZWxldGUgbmV3U3RlcC5leDtcbiAgICAgIGRlbGV0ZSBuZXdTdGVwLmV5O1xuICAgICAgdGhpcy5jaGFydFRyYWNlci5wcm9jZXNzU3RlcChuZXdTdGVwLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBzZXREYXRhKEQpIHtcbiAgICByZXR1cm4gc3VwZXIuc2V0RGF0YShbRF0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkxRFRyYWNlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgVHJhY2VyID0gcmVxdWlyZSgnLi90cmFjZXInKTtcblxuY29uc3Qge1xuICByZWZpbmVCeVR5cGVcbn0gPSByZXF1aXJlKCcuLi8uLi90cmFjZXJfbWFuYWdlci91dGlsL2luZGV4Jyk7XG5cbmNsYXNzIEFycmF5MkRUcmFjZXIgZXh0ZW5kcyBUcmFjZXIge1xuICBzdGF0aWMgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiAnQXJyYXkyRFRyYWNlcic7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgc3VwZXIobmFtZSk7XG5cbiAgICBpZiAodGhpcy5pc05ldykgaW5pdFZpZXcodGhpcyk7XG4gIH1cblxuICBfbm90aWZ5KHgsIHksIHYpIHtcbiAgICB0aGlzLm1hbmFnZXIucHVzaFN0ZXAodGhpcy5jYXBzdWxlLCB7XG4gICAgICB0eXBlOiAnbm90aWZ5JyxcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5LFxuICAgICAgdjogdlxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX2Rlbm90aWZ5KHgsIHkpIHtcbiAgICB0aGlzLm1hbmFnZXIucHVzaFN0ZXAodGhpcy5jYXBzdWxlLCB7XG4gICAgICB0eXBlOiAnZGVub3RpZnknLFxuICAgICAgeDogeCxcbiAgICAgIHk6IHlcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9zZWxlY3Qoc3gsIHN5LCBleCwgZXkpIHtcbiAgICB0aGlzLnB1c2hTZWxlY3RpbmdTdGVwKCdzZWxlY3QnLCBudWxsLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX3NlbGVjdFJvdyh4LCBzeSwgZXkpIHtcbiAgICB0aGlzLnB1c2hTZWxlY3RpbmdTdGVwKCdzZWxlY3QnLCAncm93JywgYXJndW1lbnRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9zZWxlY3RDb2woeSwgc3gsIGV4KSB7XG4gICAgdGhpcy5wdXNoU2VsZWN0aW5nU3RlcCgnc2VsZWN0JywgJ2NvbCcsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBfZGVzZWxlY3Qoc3gsIHN5LCBleCwgZXkpIHtcbiAgICB0aGlzLnB1c2hTZWxlY3RpbmdTdGVwKCdkZXNlbGVjdCcsIG51bGwsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBfZGVzZWxlY3RSb3coeCwgc3ksIGV5KSB7XG4gICAgdGhpcy5wdXNoU2VsZWN0aW5nU3RlcCgnZGVzZWxlY3QnLCAncm93JywgYXJndW1lbnRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9kZXNlbGVjdENvbCh5LCBzeCwgZXgpIHtcbiAgICB0aGlzLnB1c2hTZWxlY3RpbmdTdGVwKCdkZXNlbGVjdCcsICdjb2wnLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX3NlcGFyYXRlKHgsIHkpIHtcbiAgICB0aGlzLm1hbmFnZXIucHVzaFN0ZXAodGhpcy5jYXBzdWxlLCB7XG4gICAgICB0eXBlOiAnc2VwYXJhdGUnLFxuICAgICAgeDogeCxcbiAgICAgIHk6IHlcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9zZXBhcmF0ZVJvdyh4KSB7XG4gICAgdGhpcy5fc2VwYXJhdGUoeCwgLTEpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX3NlcGFyYXRlQ29sKHkpIHtcbiAgICB0aGlzLl9zZXBhcmF0ZSgtMSwgeSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBfZGVzZXBhcmF0ZSh4LCB5KSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ2Rlc2VwYXJhdGUnLFxuICAgICAgeDogeCxcbiAgICAgIHk6IHlcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9kZXNlcGFyYXRlUm93KHgpIHtcbiAgICB0aGlzLl9kZXNlcGFyYXRlKHgsIC0xKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9kZXNlcGFyYXRlQ29sKHkpIHtcbiAgICB0aGlzLl9kZXNlcGFyYXRlKC0xLCB5KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1c2hTZWxlY3RpbmdTdGVwKCkge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICB2YXIgdHlwZSA9IGFyZ3Muc2hpZnQoKTtcbiAgICB2YXIgbW9kZSA9IGFyZ3Muc2hpZnQoKTtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncy5zaGlmdCgpKTtcbiAgICB2YXIgY29vcmQ7XG4gICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICBjYXNlICdyb3cnOlxuICAgICAgICBjb29yZCA9IHtcbiAgICAgICAgICB4OiBhcmdzWzBdLFxuICAgICAgICAgIHN5OiBhcmdzWzFdLFxuICAgICAgICAgIGV5OiBhcmdzWzJdXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY29sJzpcbiAgICAgICAgY29vcmQgPSB7XG4gICAgICAgICAgeTogYXJnc1swXSxcbiAgICAgICAgICBzeDogYXJnc1sxXSxcbiAgICAgICAgICBleDogYXJnc1syXVxuICAgICAgICB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChhcmdzWzJdID09PSB1bmRlZmluZWQgJiYgYXJnc1szXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY29vcmQgPSB7XG4gICAgICAgICAgICB4OiBhcmdzWzBdLFxuICAgICAgICAgICAgeTogYXJnc1sxXVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29vcmQgPSB7XG4gICAgICAgICAgICBzeDogYXJnc1swXSxcbiAgICAgICAgICAgIHN5OiBhcmdzWzFdLFxuICAgICAgICAgICAgZXg6IGFyZ3NbMl0sXG4gICAgICAgICAgICBleTogYXJnc1szXVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIHN0ZXAgPSB7XG4gICAgICB0eXBlOiB0eXBlXG4gICAgfTtcbiAgICAkLmV4dGVuZChzdGVwLCBjb29yZCk7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwgc3RlcCk7XG4gIH1cblxuICBwcm9jZXNzU3RlcChzdGVwLCBvcHRpb25zKSB7XG4gICAgc3dpdGNoIChzdGVwLnR5cGUpIHtcbiAgICAgIGNhc2UgJ25vdGlmeSc6XG4gICAgICAgIGlmIChzdGVwLnYgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHZhciAkcm93ID0gdGhpcy4kdGFibGUuZmluZCgnLm10Ymwtcm93JykuZXEoc3RlcC54KTtcbiAgICAgICAgICB2YXIgJGNvbCA9ICRyb3cuZmluZCgnLm10YmwtY29sJykuZXEoc3RlcC55KTtcbiAgICAgICAgICAkY29sLnRleHQocmVmaW5lQnlUeXBlKHN0ZXAudikpO1xuICAgICAgICB9XG4gICAgICBjYXNlICdkZW5vdGlmeSc6XG4gICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgY2FzZSAnZGVzZWxlY3QnOlxuICAgICAgICB2YXIgY29sb3IgPSBzdGVwLnR5cGUgPT0gJ3NlbGVjdCcgfHwgc3RlcC50eXBlID09ICdkZXNlbGVjdCcgPyB0aGlzLmNvbG9yLnNlbGVjdGVkIDogdGhpcy5jb2xvci5ub3RpZmllZDtcbiAgICAgICAgdmFyIHBhaW50ID0gc3RlcC50eXBlID09ICdzZWxlY3QnIHx8IHN0ZXAudHlwZSA9PSAnbm90aWZ5JztcbiAgICAgICAgdmFyIHN4ID0gc3RlcC5zeDtcbiAgICAgICAgdmFyIHN5ID0gc3RlcC5zeTtcbiAgICAgICAgdmFyIGV4ID0gc3RlcC5leDtcbiAgICAgICAgdmFyIGV5ID0gc3RlcC5leTtcbiAgICAgICAgaWYgKHN4ID09PSB1bmRlZmluZWQpIHN4ID0gc3RlcC54O1xuICAgICAgICBpZiAoc3kgPT09IHVuZGVmaW5lZCkgc3kgPSBzdGVwLnk7XG4gICAgICAgIGlmIChleCA9PT0gdW5kZWZpbmVkKSBleCA9IHN0ZXAueDtcbiAgICAgICAgaWYgKGV5ID09PSB1bmRlZmluZWQpIGV5ID0gc3RlcC55O1xuICAgICAgICB0aGlzLnBhaW50Q29sb3Ioc3gsIHN5LCBleCwgZXksIGNvbG9yLCBwYWludCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VwYXJhdGUnOlxuICAgICAgICB0aGlzLmRlc2VwYXJhdGUoc3RlcC54LCBzdGVwLnkpO1xuICAgICAgICB0aGlzLnNlcGFyYXRlKHN0ZXAueCwgc3RlcC55KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkZXNlcGFyYXRlJzpcbiAgICAgICAgdGhpcy5kZXNlcGFyYXRlKHN0ZXAueCwgc3RlcC55KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBzdXBlci5wcm9jZXNzU3RlcChzdGVwLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBzZXREYXRhKEQpIHtcbiAgICB0aGlzLnZpZXdYID0gdGhpcy52aWV3WSA9IDA7XG4gICAgdGhpcy5wYWRkaW5nSCA9IDY7XG4gICAgdGhpcy5wYWRkaW5nViA9IDM7XG4gICAgdGhpcy5mb250U2l6ZSA9IDE2O1xuXG4gICAgaWYgKHN1cGVyLnNldERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKSkge1xuICAgICAgdGhpcy4kdGFibGUuZmluZCgnLm10Ymwtcm93JykuZWFjaChmdW5jdGlvbiAoaSkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJy5tdGJsLWNvbCcpLmVhY2goZnVuY3Rpb24gKGopIHtcbiAgICAgICAgICAkKHRoaXMpLnRleHQocmVmaW5lQnlUeXBlKERbaV1bal0pKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuJHRhYmxlLmVtcHR5KCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBELmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgJHJvdyA9ICQoJzxkaXYgY2xhc3M9XCJtdGJsLXJvd1wiPicpO1xuICAgICAgdGhpcy4kdGFibGUuYXBwZW5kKCRyb3cpO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBEW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciAkY29sID0gJCgnPGRpdiBjbGFzcz1cIm10YmwtY29sXCI+JylcbiAgICAgICAgICAuY3NzKHRoaXMuZ2V0Q2VsbENzcygpKVxuICAgICAgICAgIC50ZXh0KHJlZmluZUJ5VHlwZShEW2ldW2pdKSk7XG4gICAgICAgICRyb3cuYXBwZW5kKCRjb2wpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlc2l6ZSgpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVzaXplKCkge1xuICAgIHN1cGVyLnJlc2l6ZSgpO1xuXG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBzdXBlci5jbGVhcigpO1xuXG4gICAgdGhpcy5jbGVhckNvbG9yKCk7XG4gICAgdGhpcy5kZXNlcGFyYXRlQWxsKCk7XG4gIH1cblxuICBnZXRDZWxsQ3NzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYWRkaW5nOiB0aGlzLnBhZGRpbmdWLnRvRml4ZWQoMSkgKyAncHggJyArIHRoaXMucGFkZGluZ0gudG9GaXhlZCgxKSArICdweCcsXG4gICAgICAnZm9udC1zaXplJzogdGhpcy5mb250U2l6ZS50b0ZpeGVkKDEpICsgJ3B4J1xuICAgIH07XG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIHN1cGVyLnJlZnJlc2goKTtcblxuICAgIHZhciAkcGFyZW50ID0gdGhpcy4kdGFibGUucGFyZW50KCk7XG4gICAgdmFyIHRvcCA9ICRwYXJlbnQuaGVpZ2h0KCkgLyAyIC0gdGhpcy4kdGFibGUuaGVpZ2h0KCkgLyAyICsgdGhpcy52aWV3WTtcbiAgICB2YXIgbGVmdCA9ICRwYXJlbnQud2lkdGgoKSAvIDIgLSB0aGlzLiR0YWJsZS53aWR0aCgpIC8gMiArIHRoaXMudmlld1g7XG4gICAgdGhpcy4kdGFibGUuY3NzKCdtYXJnaW4tdG9wJywgdG9wKTtcbiAgICB0aGlzLiR0YWJsZS5jc3MoJ21hcmdpbi1sZWZ0JywgbGVmdCk7XG4gIH1cblxuICBtb3VzZWRvd24oZSkge1xuICAgIHN1cGVyLm1vdXNlZG93bihlKTtcblxuICAgIHRoaXMuZHJhZ1ggPSBlLnBhZ2VYO1xuICAgIHRoaXMuZHJhZ1kgPSBlLnBhZ2VZO1xuICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuICB9XG5cbiAgbW91c2Vtb3ZlKGUpIHtcbiAgICBzdXBlci5tb3VzZW1vdmUoZSk7XG5cbiAgICBpZiAodGhpcy5kcmFnZ2luZykge1xuICAgICAgdGhpcy52aWV3WCArPSBlLnBhZ2VYIC0gdGhpcy5kcmFnWDtcbiAgICAgIHRoaXMudmlld1kgKz0gZS5wYWdlWSAtIHRoaXMuZHJhZ1k7XG4gICAgICB0aGlzLmRyYWdYID0gZS5wYWdlWDtcbiAgICAgIHRoaXMuZHJhZ1kgPSBlLnBhZ2VZO1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgbW91c2V1cChlKSB7XG4gICAgc3VwZXIubW91c2V1cChlKTtcblxuICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIG1vdXNld2hlZWwoZSkge1xuICAgIHN1cGVyLm1vdXNld2hlZWwoZSk7XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZSA9IGUub3JpZ2luYWxFdmVudDtcbiAgICB2YXIgZGVsdGEgPSAoZS53aGVlbERlbHRhICE9PSB1bmRlZmluZWQgJiYgZS53aGVlbERlbHRhKSB8fFxuICAgICAgKGUuZGV0YWlsICE9PSB1bmRlZmluZWQgJiYgLWUuZGV0YWlsKTtcbiAgICB2YXIgd2VpZ2h0ID0gMS4wMTtcbiAgICB2YXIgcmF0aW8gPSBkZWx0YSA+IDAgPyAxIC8gd2VpZ2h0IDogd2VpZ2h0O1xuICAgIGlmICh0aGlzLmZvbnRTaXplIDwgNCAmJiByYXRpbyA8IDEpIHJldHVybjtcbiAgICBpZiAodGhpcy5mb250U2l6ZSA+IDQwICYmIHJhdGlvID4gMSkgcmV0dXJuO1xuICAgIHRoaXMucGFkZGluZ1YgKj0gcmF0aW87XG4gICAgdGhpcy5wYWRkaW5nSCAqPSByYXRpbztcbiAgICB0aGlzLmZvbnRTaXplICo9IHJhdGlvO1xuICAgIHRoaXMuJHRhYmxlLmZpbmQoJy5tdGJsLWNvbCcpLmNzcyh0aGlzLmdldENlbGxDc3MoKSk7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cblxuICBwYWludENvbG9yKHN4LCBzeSwgZXgsIGV5LCBjb2xvciwgcGFpbnQpIHtcbiAgICBmb3IgKHZhciBpID0gc3g7IGkgPD0gZXg7IGkrKykge1xuICAgICAgdmFyICRyb3cgPSB0aGlzLiR0YWJsZS5maW5kKCcubXRibC1yb3cnKS5lcShpKTtcbiAgICAgIGZvciAodmFyIGogPSBzeTsgaiA8PSBleTsgaisrKSB7XG4gICAgICAgIHZhciAkY29sID0gJHJvdy5maW5kKCcubXRibC1jb2wnKS5lcShqKTtcbiAgICAgICAgaWYgKHBhaW50KSAkY29sLmNzcygnYmFja2dyb3VuZCcsIGNvbG9yKTtcbiAgICAgICAgZWxzZSAkY29sLmNzcygnYmFja2dyb3VuZCcsICcnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjbGVhckNvbG9yKCkge1xuICAgIHRoaXMuJHRhYmxlLmZpbmQoJy5tdGJsLWNvbCcpLmNzcygnYmFja2dyb3VuZCcsICcnKTtcbiAgfVxuXG4gIHNlcGFyYXRlKHgsIHkpIHtcbiAgICB0aGlzLiR0YWJsZS5maW5kKCcubXRibC1yb3cnKS5lYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICB2YXIgJHJvdyA9ICQodGhpcyk7XG4gICAgICBpZiAoaSA9PSB4KSB7XG4gICAgICAgICRyb3cuYWZ0ZXIoJCgnPGRpdiBjbGFzcz1cIm10YmwtZW1wdHktcm93XCI+JykuYXR0cignZGF0YS1yb3cnLCBpKSlcbiAgICAgIH1cbiAgICAgICRyb3cuZmluZCgnLm10YmwtY29sJykuZWFjaChmdW5jdGlvbiAoaikge1xuICAgICAgICB2YXIgJGNvbCA9ICQodGhpcyk7XG4gICAgICAgIGlmIChqID09IHkpIHtcbiAgICAgICAgICAkY29sLmFmdGVyKCQoJzxkaXYgY2xhc3M9XCJtdGJsLWVtcHR5LWNvbFwiPicpLmF0dHIoJ2RhdGEtY29sJywgaikpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlc2VwYXJhdGUoeCwgeSkge1xuICAgIHRoaXMuJHRhYmxlLmZpbmQoJ1tkYXRhLXJvdz0nICsgeCArICddJykucmVtb3ZlKCk7XG4gICAgdGhpcy4kdGFibGUuZmluZCgnW2RhdGEtY29sPScgKyB5ICsgJ10nKS5yZW1vdmUoKTtcbiAgfVxuXG4gIGRlc2VwYXJhdGVBbGwoKSB7XG4gICAgdGhpcy4kdGFibGUuZmluZCgnLm10YmwtZW1wdHktcm93LCAubXRibC1lbXB0eS1jb2wnKS5yZW1vdmUoKTtcbiAgfVxufVxuXG5jb25zdCBpbml0VmlldyA9ICh0cmFjZXIpID0+IHtcbiAgdHJhY2VyLiR0YWJsZSA9IHRyYWNlci5jYXBzdWxlLiR0YWJsZSA9ICQoJzxkaXYgY2xhc3M9XCJtdGJsLXRhYmxlXCI+Jyk7XG4gIHRyYWNlci4kY29udGFpbmVyLmFwcGVuZCh0cmFjZXIuJHRhYmxlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkyRFRyYWNlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgVHJhY2VyID0gcmVxdWlyZSgnLi90cmFjZXInKTtcblxuY2xhc3MgQ2hhcnRUcmFjZXIgZXh0ZW5kcyBUcmFjZXIge1xuICBzdGF0aWMgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiAnQ2hhcnRUcmFjZXInO1xuICB9XG5cbiAgY29uc3RydWN0b3IobmFtZSkge1xuICAgIHN1cGVyKG5hbWUpO1xuXG4gICAgaWYgKHRoaXMuaXNOZXcpIGluaXRWaWV3KHRoaXMpO1xuICB9XG5cbiAgc2V0RGF0YShDKSB7XG4gICAgaWYgKHN1cGVyLnNldERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKSkge1xuICAgICAgdGhpcy5jaGFydC5jb25maWcuZGF0YS5kYXRhc2V0c1swXS5kYXRhID0gQztcbiAgICAgIHRoaXMuY2hhcnQudXBkYXRlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgY29sb3IgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IEMubGVuZ3RoOyBpKyspIGNvbG9yLnB1c2godGhpcy5jb2xvci5kZWZhdWx0KTtcbiAgICB0aGlzLmNoYXJ0LmNvbmZpZy5kYXRhID0ge1xuICAgICAgbGFiZWxzOiBDLm1hcChTdHJpbmcpLFxuICAgICAgZGF0YXNldHM6IFt7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IsXG4gICAgICAgIGRhdGE6IENcbiAgICAgIH1dXG4gICAgfTtcbiAgICB0aGlzLmNoYXJ0LnVwZGF0ZSgpO1xuICB9XG5cbiAgX25vdGlmeShzLCB2KSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ25vdGlmeScsXG4gICAgICBzOiBzLFxuICAgICAgdjogdlxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX2Rlbm90aWZ5KHMpIHtcbiAgICB0aGlzLm1hbmFnZXIucHVzaFN0ZXAodGhpcy5jYXBzdWxlLCB7XG4gICAgICB0eXBlOiAnZGVub3RpZnknLFxuICAgICAgczogc1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX3NlbGVjdChzLCBlKSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICBzOiBzLFxuICAgICAgZTogZVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX2Rlc2VsZWN0KHMsIGUpIHtcbiAgICB0aGlzLm1hbmFnZXIucHVzaFN0ZXAodGhpcy5jYXBzdWxlLCB7XG4gICAgICB0eXBlOiAnZGVzZWxlY3QnLFxuICAgICAgczogcyxcbiAgICAgIGU6IGVcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHByb2Nlc3NTdGVwKHN0ZXAsIG9wdGlvbnMpIHtcbiAgICBzd2l0Y2ggKHN0ZXAudHlwZSkge1xuICAgICAgY2FzZSAnbm90aWZ5JzpcbiAgICAgICAgaWYgKHN0ZXAudiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5jaGFydC5jb25maWcuZGF0YS5kYXRhc2V0c1swXS5kYXRhW3N0ZXAuc10gPSBzdGVwLnY7XG4gICAgICAgICAgdGhpcy5jaGFydC5jb25maWcuZGF0YS5sYWJlbHNbc3RlcC5zXSA9IHN0ZXAudi50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICBjYXNlICdkZW5vdGlmeSc6XG4gICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgY2FzZSAnZGVzZWxlY3QnOlxuICAgICAgICBsZXQgY29sb3IgPSBzdGVwLnR5cGUgPT0gJ25vdGlmeScgPyB0aGlzLmNvbG9yLm5vdGlmaWVkIDogc3RlcC50eXBlID09ICdzZWxlY3QnID8gdGhpcy5jb2xvci5zZWxlY3RlZCA6IHRoaXMuY29sb3IuZGVmYXVsdDtcbiAgICAgICAgaWYgKHN0ZXAuZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIGZvciAodmFyIGkgPSBzdGVwLnM7IGkgPD0gc3RlcC5lOyBpKyspXG4gICAgICAgICAgICB0aGlzLmNoYXJ0LmNvbmZpZy5kYXRhLmRhdGFzZXRzWzBdLmJhY2tncm91bmRDb2xvcltpXSA9IGNvbG9yO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhpcy5jaGFydC5jb25maWcuZGF0YS5kYXRhc2V0c1swXS5iYWNrZ3JvdW5kQ29sb3Jbc3RlcC5zXSA9IGNvbG9yO1xuICAgICAgICB0aGlzLmNoYXJ0LnVwZGF0ZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHN1cGVyLnByb2Nlc3NTdGVwKHN0ZXAsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICBzdXBlci5yZXNpemUoKTtcblxuICAgIHRoaXMuY2hhcnQucmVzaXplKCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBzdXBlci5jbGVhcigpO1xuXG4gICAgY29uc3QgZGF0YSA9IHRoaXMuY2hhcnQuY29uZmlnLmRhdGE7XG4gICAgaWYgKGRhdGEuZGF0YXNldHMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSBkYXRhLmRhdGFzZXRzWzBdLmJhY2tncm91bmRDb2xvcjtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFja2dyb3VuZENvbG9yLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcltpXSA9IHRoaXMuY29sb3IuZGVmYXVsdDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2hhcnQudXBkYXRlKCk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGluaXRWaWV3ID0gKHRyYWNlcikgPT4ge1xuICB0cmFjZXIuJHdyYXBwZXIgPSB0cmFjZXIuY2Fwc3VsZS4kd3JhcHBlciA9ICQoJzxjYW52YXMgY2xhc3M9XCJtY2hydC1jaGFydFwiPicpO1xuICB0cmFjZXIuJGNvbnRhaW5lci5hcHBlbmQodHJhY2VyLiR3cmFwcGVyKTtcbiAgdHJhY2VyLmNoYXJ0ID0gdHJhY2VyLmNhcHN1bGUuY2hhcnQgPSBuZXcgQ2hhcnQodHJhY2VyLiR3cmFwcGVyLCB7XG4gICAgdHlwZTogJ2JhcicsXG4gICAgZGF0YToge1xuICAgICAgbGFiZWxzOiBbXSxcbiAgICAgIGRhdGFzZXRzOiBbXVxuICAgIH0sXG4gICAgb3B0aW9uczoge1xuICAgICAgc2NhbGVzOiB7XG4gICAgICAgIHlBeGVzOiBbe1xuICAgICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICBhbmltYXRpb246IGZhbHNlLFxuICAgICAgbGVnZW5kOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNpdmU6IHRydWUsXG4gICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZVxuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENoYXJ0VHJhY2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBEaXJlY3RlZEdyYXBoVHJhY2VyID0gcmVxdWlyZSgnLi9kaXJlY3RlZF9ncmFwaCcpO1xuXG5jbGFzcyBDb29yZGluYXRlU3lzdGVtVHJhY2VyIGV4dGVuZHMgRGlyZWN0ZWRHcmFwaFRyYWNlciB7XG4gIHN0YXRpYyBnZXRDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuICdDb29yZGluYXRlU3lzdGVtVHJhY2VyJztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICBzdXBlcihuYW1lKTtcblxuICAgIGlmICh0aGlzLmlzTmV3KSBpbml0Vmlldyh0aGlzKTtcbiAgfVxuXG4gIHNldERhdGEoQykge1xuICAgIGlmIChUcmFjZXIucHJvdG90eXBlLnNldERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgcmV0dXJuIHRydWU7XG5cbiAgICB0aGlzLmdyYXBoLmNsZWFyKCk7XG4gICAgdmFyIG5vZGVzID0gW107XG4gICAgdmFyIGVkZ2VzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDLmxlbmd0aDsgaSsrKVxuICAgICAgbm9kZXMucHVzaCh7XG4gICAgICAgIGlkOiB0aGlzLm4oaSksXG4gICAgICAgIHg6IENbaV1bMF0sXG4gICAgICAgIHk6IENbaV1bMV0sXG4gICAgICAgIGxhYmVsOiAnJyArIGksXG4gICAgICAgIHNpemU6IDFcbiAgICAgIH0pO1xuICAgIHRoaXMuZ3JhcGgucmVhZCh7XG4gICAgICBub2Rlczogbm9kZXMsXG4gICAgICBlZGdlczogZWRnZXNcbiAgICB9KTtcbiAgICB0aGlzLnMuY2FtZXJhLmdvVG8oe1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICBhbmdsZTogMCxcbiAgICAgIHJhdGlvOiAxXG4gICAgfSk7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcm9jZXNzU3RlcChzdGVwLCBvcHRpb25zKSB7XG4gICAgc3dpdGNoIChzdGVwLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3Zpc2l0JzpcbiAgICAgIGNhc2UgJ2xlYXZlJzpcbiAgICAgICAgdmFyIHZpc2l0ID0gc3RlcC50eXBlID09ICd2aXNpdCc7XG4gICAgICAgIHZhciB0YXJnZXROb2RlID0gdGhpcy5ncmFwaC5ub2Rlcyh0aGlzLm4oc3RlcC50YXJnZXQpKTtcbiAgICAgICAgdmFyIGNvbG9yID0gdmlzaXQgPyB0aGlzLmNvbG9yLnZpc2l0ZWQgOiB0aGlzLmNvbG9yLmxlZnQ7XG4gICAgICAgIHRhcmdldE5vZGUuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgaWYgKHN0ZXAuc291cmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgZWRnZUlkID0gdGhpcy5lKHN0ZXAuc291cmNlLCBzdGVwLnRhcmdldCk7XG4gICAgICAgICAgaWYgKHRoaXMuZ3JhcGguZWRnZXMoZWRnZUlkKSkge1xuICAgICAgICAgICAgdmFyIGVkZ2UgPSB0aGlzLmdyYXBoLmVkZ2VzKGVkZ2VJZCk7XG4gICAgICAgICAgICBlZGdlLmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICB0aGlzLmdyYXBoLmRyb3BFZGdlKGVkZ2VJZCkuYWRkRWRnZShlZGdlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ncmFwaC5hZGRFZGdlKHtcbiAgICAgICAgICAgICAgaWQ6IHRoaXMuZShzdGVwLnRhcmdldCwgc3RlcC5zb3VyY2UpLFxuICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMubihzdGVwLnNvdXJjZSksXG4gICAgICAgICAgICAgIHRhcmdldDogdGhpcy5uKHN0ZXAudGFyZ2V0KSxcbiAgICAgICAgICAgICAgc2l6ZTogMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxvZ1RyYWNlcikge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzdGVwLnNvdXJjZTtcbiAgICAgICAgICBpZiAoc291cmNlID09PSB1bmRlZmluZWQpIHNvdXJjZSA9ICcnO1xuICAgICAgICAgIHRoaXMubG9nVHJhY2VyLnByaW50KHZpc2l0ID8gc291cmNlICsgJyAtPiAnICsgc3RlcC50YXJnZXQgOiBzb3VyY2UgKyAnIDwtICcgKyBzdGVwLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBzdXBlci5wcm9jZXNzU3RlcChzdGVwLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBlKHYxLCB2Mikge1xuICAgIGlmICh2MSA+IHYyKSB7XG4gICAgICB2YXIgdGVtcCA9IHYxO1xuICAgICAgdjEgPSB2MjtcbiAgICAgIHYyID0gdGVtcDtcbiAgICB9XG4gICAgcmV0dXJuICdlJyArIHYxICsgJ18nICsgdjI7XG4gIH1cblxuICBkcmF3T25Ib3Zlcihub2RlLCBjb250ZXh0LCBzZXR0aW5ncywgbmV4dCkge1xuICAgIHZhciB0cmFjZXIgPSB0aGlzO1xuXG4gICAgY29udGV4dC5zZXRMaW5lRGFzaChbNSwgNV0pO1xuICAgIHZhciBub2RlSWR4ID0gbm9kZS5pZC5zdWJzdHJpbmcoMSk7XG4gICAgdGhpcy5ncmFwaC5lZGdlcygpLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHtcbiAgICAgIHZhciBlbmRzID0gZWRnZS5pZC5zdWJzdHJpbmcoMSkuc3BsaXQoXCJfXCIpO1xuICAgICAgaWYgKGVuZHNbMF0gPT0gbm9kZUlkeCkge1xuICAgICAgICB2YXIgY29sb3IgPSAnIzBmZic7XG4gICAgICAgIHZhciBzb3VyY2UgPSBub2RlO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdHJhY2VyLmdyYXBoLm5vZGVzKCduJyArIGVuZHNbMV0pO1xuICAgICAgICB0cmFjZXIuZHJhd0VkZ2UoZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gICAgICAgIGlmIChuZXh0KSBuZXh0KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgICAgfSBlbHNlIGlmIChlbmRzWzFdID09IG5vZGVJZHgpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gJyMwZmYnO1xuICAgICAgICB2YXIgc291cmNlID0gdHJhY2VyLmdyYXBoLm5vZGVzKCduJyArIGVuZHNbMF0pO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gbm9kZTtcbiAgICAgICAgdHJhY2VyLmRyYXdFZGdlKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgICAgICBpZiAobmV4dCkgbmV4dChlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29sb3IsIGNvbnRleHQsIHNldHRpbmdzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGRyYXdFZGdlKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICB2YXIgcHJlZml4ID0gc2V0dGluZ3MoJ3ByZWZpeCcpIHx8ICcnLFxuICAgICAgc2l6ZSA9IGVkZ2VbcHJlZml4ICsgJ3NpemUnXSB8fCAxO1xuXG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc2l6ZTtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKFxuICAgICAgc291cmNlW3ByZWZpeCArICd4J10sXG4gICAgICBzb3VyY2VbcHJlZml4ICsgJ3knXVxuICAgICk7XG4gICAgY29udGV4dC5saW5lVG8oXG4gICAgICB0YXJnZXRbcHJlZml4ICsgJ3gnXSxcbiAgICAgIHRhcmdldFtwcmVmaXggKyAneSddXG4gICAgKTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuICB9XG59XG5cbmNvbnN0IGluaXRWaWV3ID0gKHRyYWNlcikgPT4ge1xuICB0cmFjZXIucy5zZXR0aW5ncyh7XG4gICAgZGVmYXVsdEVkZ2VUeXBlOiAnZGVmJyxcbiAgICBmdW5jRWRnZXNEZWYoZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbnRleHQsIHNldHRpbmdzKSB7XG4gICAgICB2YXIgY29sb3IgPSB0cmFjZXIuZ2V0Q29sb3IoZWRnZSwgc291cmNlLCB0YXJnZXQsIHNldHRpbmdzKTtcbiAgICAgIHRyYWNlci5kcmF3RWRnZShlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29sb3IsIGNvbnRleHQsIHNldHRpbmdzKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb29yZGluYXRlU3lzdGVtVHJhY2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBUcmFjZXIgPSByZXF1aXJlKCcuL3RyYWNlcicpO1xuXG5jb25zdCB7XG4gIHJlZmluZUJ5VHlwZVxufSA9IHJlcXVpcmUoJy4uLy4uL3RyYWNlcl9tYW5hZ2VyL3V0aWwvaW5kZXgnKTtcblxuY2xhc3MgRGlyZWN0ZWRHcmFwaFRyYWNlciBleHRlbmRzIFRyYWNlciB7XG4gIHN0YXRpYyBnZXRDbGFzc05hbWUoKSB7XG4gICAgcmV0dXJuICdEaXJlY3RlZEdyYXBoVHJhY2VyJztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICBzdXBlcihuYW1lKTtcblxuICAgIGlmICh0aGlzLmlzTmV3KSBpbml0Vmlldyh0aGlzKTtcbiAgfVxuXG4gIF9zZXRUcmVlRGF0YShHLCByb290KSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ3NldFRyZWVEYXRhJyxcbiAgICAgIGFyZ3VtZW50czogYXJndW1lbnRzXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBfdmlzaXQodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICB0aGlzLm1hbmFnZXIucHVzaFN0ZXAodGhpcy5jYXBzdWxlLCB7XG4gICAgICB0eXBlOiAndmlzaXQnLFxuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICBzb3VyY2U6IHNvdXJjZVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX2xlYXZlKHRhcmdldCwgc291cmNlKSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ2xlYXZlJyxcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgc291cmNlOiBzb3VyY2VcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9zZXROb2RlUG9zaXRpb25zKHBvc2l0aW9ucykge1xuICAgIHRoaXMubWFuYWdlci5wdXNoU3RlcCh0aGlzLmNhcHN1bGUsIHtcbiAgICAgIHR5cGU6ICdzZXROb2RlUG9zaXRpb25zJyxcbiAgICAgIHBvc2l0aW9uczogcG9zaXRpb25zXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcm9jZXNzU3RlcChzdGVwLCBvcHRpb25zKSB7XG4gICAgc3dpdGNoIChzdGVwLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3NldFRyZWVEYXRhJzpcbiAgICAgICAgdGhpcy5zZXRUcmVlRGF0YS5hcHBseSh0aGlzLCBzdGVwLmFyZ3VtZW50cyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2V0Tm9kZVBvc2l0aW9ucyc6XG4gICAgICAgICQuZWFjaCh0aGlzLmdyYXBoLm5vZGVzKCksIChpLCBub2RlKSA9PiB7XG4gICAgICAgICAgaWYgKGkgPj0gc3RlcC5wb3NpdGlvbnMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBzdGVwLnBvc2l0aW9uc1tpXTtcbiAgICAgICAgICBub2RlLnggPSBwb3NpdGlvbi54O1xuICAgICAgICAgIG5vZGUueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Zpc2l0JzpcbiAgICAgIGNhc2UgJ2xlYXZlJzpcbiAgICAgICAgdmFyIHZpc2l0ID0gc3RlcC50eXBlID09ICd2aXNpdCc7XG4gICAgICAgIHZhciB0YXJnZXROb2RlID0gdGhpcy5ncmFwaC5ub2Rlcyh0aGlzLm4oc3RlcC50YXJnZXQpKTtcbiAgICAgICAgdmFyIGNvbG9yID0gdmlzaXQgPyB0aGlzLmNvbG9yLnZpc2l0ZWQgOiB0aGlzLmNvbG9yLmxlZnQ7XG4gICAgICAgIHRhcmdldE5vZGUuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgaWYgKHN0ZXAuc291cmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgZWRnZUlkID0gdGhpcy5lKHN0ZXAuc291cmNlLCBzdGVwLnRhcmdldCk7XG4gICAgICAgICAgdmFyIGVkZ2UgPSB0aGlzLmdyYXBoLmVkZ2VzKGVkZ2VJZCk7XG4gICAgICAgICAgZWRnZS5jb2xvciA9IGNvbG9yO1xuICAgICAgICAgIHRoaXMuZ3JhcGguZHJvcEVkZ2UoZWRnZUlkKS5hZGRFZGdlKGVkZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxvZ1RyYWNlcikge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzdGVwLnNvdXJjZTtcbiAgICAgICAgICBpZiAoc291cmNlID09PSB1bmRlZmluZWQpIHNvdXJjZSA9ICcnO1xuICAgICAgICAgIHRoaXMubG9nVHJhY2VyLnByaW50KHZpc2l0ID8gc291cmNlICsgJyAtPiAnICsgc3RlcC50YXJnZXQgOiBzb3VyY2UgKyAnIDwtICcgKyBzdGVwLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBzdXBlci5wcm9jZXNzU3RlcChzdGVwLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBzZXRUcmVlRGF0YShHLCByb290LCB1bmRpcmVjdGVkKSB7XG4gICAgdmFyIHRyYWNlciA9IHRoaXM7XG5cbiAgICByb290ID0gcm9vdCB8fCAwO1xuICAgIHZhciBtYXhEZXB0aCA9IC0xO1xuXG4gICAgdmFyIGNoayA9IG5ldyBBcnJheShHLmxlbmd0aCk7XG4gICAgdmFyIGdldERlcHRoID0gZnVuY3Rpb24gKG5vZGUsIGRlcHRoKSB7XG4gICAgICBpZiAoY2hrW25vZGVdKSB0aHJvdyBcInRoZSBnaXZlbiBncmFwaCBpcyBub3QgYSB0cmVlIGJlY2F1c2UgaXQgZm9ybXMgYSBjaXJjdWl0XCI7XG4gICAgICBjaGtbbm9kZV0gPSB0cnVlO1xuICAgICAgaWYgKG1heERlcHRoIDwgZGVwdGgpIG1heERlcHRoID0gZGVwdGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEdbbm9kZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKEdbbm9kZV1baV0pIGdldERlcHRoKGksIGRlcHRoICsgMSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBnZXREZXB0aChyb290LCAxKTtcblxuICAgIGlmICh0aGlzLnNldERhdGEoRywgdW5kaXJlY3RlZCkpIHJldHVybiB0cnVlO1xuXG4gICAgdmFyIHBsYWNlID0gZnVuY3Rpb24gKG5vZGUsIHgsIHkpIHtcbiAgICAgIHZhciB0ZW1wID0gdHJhY2VyLmdyYXBoLm5vZGVzKHRyYWNlci5uKG5vZGUpKTtcbiAgICAgIHRlbXAueCA9IHg7XG4gICAgICB0ZW1wLnkgPSB5O1xuICAgIH07XG5cbiAgICB2YXIgd2dhcCA9IDEgLyAobWF4RGVwdGggLSAxKTtcbiAgICB2YXIgZGZzID0gZnVuY3Rpb24gKG5vZGUsIGRlcHRoLCB0b3AsIGJvdHRvbSkge1xuICAgICAgcGxhY2Uobm9kZSwgdG9wICsgYm90dG9tLCBkZXB0aCAqIHdnYXApO1xuICAgICAgdmFyIGNoaWxkcmVuID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgR1tub2RlXS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoR1tub2RlXVtpXSkgY2hpbGRyZW4rKztcbiAgICAgIH1cbiAgICAgIHZhciB2Z2FwID0gKGJvdHRvbSAtIHRvcCkgLyBjaGlsZHJlbjtcbiAgICAgIHZhciBjbnQgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBHW25vZGVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChHW25vZGVdW2ldKSBkZnMoaSwgZGVwdGggKyAxLCB0b3AgKyB2Z2FwICogY250LCB0b3AgKyB2Z2FwICogKytjbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgZGZzKHJvb3QsIDAsIDAsIDEpO1xuXG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cblxuICBzZXREYXRhKEcsIHVuZGlyZWN0ZWQpIHtcbiAgICBpZiAoc3VwZXIuc2V0RGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSByZXR1cm4gdHJ1ZTtcbiAgICB0aGlzLmdyYXBoLmNsZWFyKCk7XG4gICAgY29uc3Qgbm9kZXMgPSBbXTtcbiAgICBjb25zdCBlZGdlcyA9IFtdO1xuICAgIGNvbnN0IHVuaXRBbmdsZSA9IDIgKiBNYXRoLlBJIC8gRy5sZW5ndGg7XG4gICAgbGV0IGN1cnJlbnRBbmdsZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBHLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdXJyZW50QW5nbGUgKz0gdW5pdEFuZ2xlO1xuICAgICAgbm9kZXMucHVzaCh7XG4gICAgICAgIGlkOiB0aGlzLm4oaSksXG4gICAgICAgIGxhYmVsOiAnJyArIGksXG4gICAgICAgIHg6IC41ICsgTWF0aC5zaW4oY3VycmVudEFuZ2xlKSAvIDIsXG4gICAgICAgIHk6IC41ICsgTWF0aC5jb3MoY3VycmVudEFuZ2xlKSAvIDIsXG4gICAgICAgIHNpemU6IDEsXG4gICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLmRlZmF1bHQsXG4gICAgICAgIHdlaWdodDogMFxuICAgICAgfSk7XG5cbiAgICAgIGlmICh1bmRpcmVjdGVkKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDw9IGk7IGorKykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gR1tpXVtqXSB8fCBHW2pdW2ldO1xuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgZWRnZXMucHVzaCh7XG4gICAgICAgICAgICAgIGlkOiB0aGlzLmUoaSwgaiksXG4gICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5uKGkpLFxuICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMubihqKSxcbiAgICAgICAgICAgICAgY29sb3I6IHRoaXMuY29sb3IuZGVmYXVsdCxcbiAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgd2VpZ2h0OiByZWZpbmVCeVR5cGUodmFsdWUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgR1tpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGlmIChHW2ldW2pdKSB7XG4gICAgICAgICAgICBlZGdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgaWQ6IHRoaXMuZShpLCBqKSxcbiAgICAgICAgICAgICAgc291cmNlOiB0aGlzLm4oaSksXG4gICAgICAgICAgICAgIHRhcmdldDogdGhpcy5uKGopLFxuICAgICAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvci5kZWZhdWx0LFxuICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICB3ZWlnaHQ6IHJlZmluZUJ5VHlwZShHW2ldW2pdKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ncmFwaC5yZWFkKHtcbiAgICAgIG5vZGVzOiBub2RlcyxcbiAgICAgIGVkZ2VzOiBlZGdlc1xuICAgIH0pO1xuICAgIHRoaXMucy5jYW1lcmEuZ29Ubyh7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIGFuZ2xlOiAwLFxuICAgICAgcmF0aW86IDFcbiAgICB9KTtcbiAgICB0aGlzLnJlZnJlc2goKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICBzdXBlci5yZXNpemUoKTtcblxuICAgIHRoaXMucy5yZW5kZXJlcnNbMF0ucmVzaXplKCk7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cblxuICByZWZyZXNoKCkge1xuICAgIHN1cGVyLnJlZnJlc2goKTtcblxuICAgIHRoaXMucy5yZWZyZXNoKCk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBzdXBlci5jbGVhcigpO1xuXG4gICAgdGhpcy5jbGVhckdyYXBoQ29sb3IoKTtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgfVxuXG4gIGNsZWFyR3JhcGhDb2xvcigpIHtcbiAgICB2YXIgdHJhY2VyID0gdGhpcztcblxuICAgIHRoaXMuZ3JhcGgubm9kZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBub2RlLmNvbG9yID0gdHJhY2VyLmNvbG9yLmRlZmF1bHQ7XG4gICAgfSk7XG4gICAgdGhpcy5ncmFwaC5lZGdlcygpLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHtcbiAgICAgIGVkZ2UuY29sb3IgPSB0cmFjZXIuY29sb3IuZGVmYXVsdDtcbiAgICB9KTtcbiAgfVxuXG4gIG4odikge1xuICAgIHJldHVybiAnbicgKyB2O1xuICB9XG5cbiAgZSh2MSwgdjIpIHtcbiAgICByZXR1cm4gJ2UnICsgdjEgKyAnXycgKyB2MjtcbiAgfVxuXG4gIGdldENvbG9yKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBzZXR0aW5ncykge1xuICAgIHZhciBjb2xvciA9IGVkZ2UuY29sb3IsXG4gICAgICBlZGdlQ29sb3IgPSBzZXR0aW5ncygnZWRnZUNvbG9yJyksXG4gICAgICBkZWZhdWx0Tm9kZUNvbG9yID0gc2V0dGluZ3MoJ2RlZmF1bHROb2RlQ29sb3InKSxcbiAgICAgIGRlZmF1bHRFZGdlQ29sb3IgPSBzZXR0aW5ncygnZGVmYXVsdEVkZ2VDb2xvcicpO1xuICAgIGlmICghY29sb3IpXG4gICAgICBzd2l0Y2ggKGVkZ2VDb2xvcikge1xuICAgICAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgICAgIGNvbG9yID0gc291cmNlLmNvbG9yIHx8IGRlZmF1bHROb2RlQ29sb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RhcmdldCc6XG4gICAgICAgICAgY29sb3IgPSB0YXJnZXQuY29sb3IgfHwgZGVmYXVsdE5vZGVDb2xvcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb2xvciA9IGRlZmF1bHRFZGdlQ29sb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICBkcmF3TGFiZWwobm9kZSwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICB2YXIgZm9udFNpemUsXG4gICAgICBwcmVmaXggPSBzZXR0aW5ncygncHJlZml4JykgfHwgJycsXG4gICAgICBzaXplID0gbm9kZVtwcmVmaXggKyAnc2l6ZSddO1xuXG4gICAgaWYgKHNpemUgPCBzZXR0aW5ncygnbGFiZWxUaHJlc2hvbGQnKSlcbiAgICAgIHJldHVybjtcblxuICAgIGlmICghbm9kZS5sYWJlbCB8fCB0eXBlb2Ygbm9kZS5sYWJlbCAhPT0gJ3N0cmluZycpXG4gICAgICByZXR1cm47XG5cbiAgICBmb250U2l6ZSA9IChzZXR0aW5ncygnbGFiZWxTaXplJykgPT09ICdmaXhlZCcpID9cbiAgICAgIHNldHRpbmdzKCdkZWZhdWx0TGFiZWxTaXplJykgOlxuICAgIHNldHRpbmdzKCdsYWJlbFNpemVSYXRpbycpICogc2l6ZTtcblxuICAgIGNvbnRleHQuZm9udCA9IChzZXR0aW5ncygnZm9udFN0eWxlJykgPyBzZXR0aW5ncygnZm9udFN0eWxlJykgKyAnICcgOiAnJykgK1xuICAgICAgZm9udFNpemUgKyAncHggJyArIHNldHRpbmdzKCdmb250Jyk7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAoc2V0dGluZ3MoJ2xhYmVsQ29sb3InKSA9PT0gJ25vZGUnKSA/XG4gICAgICAobm9kZS5jb2xvciB8fCBzZXR0aW5ncygnZGVmYXVsdE5vZGVDb2xvcicpKSA6XG4gICAgICBzZXR0aW5ncygnZGVmYXVsdExhYmVsQ29sb3InKTtcblxuICAgIGNvbnRleHQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgY29udGV4dC5maWxsVGV4dChcbiAgICAgIG5vZGUubGFiZWwsXG4gICAgICBNYXRoLnJvdW5kKG5vZGVbcHJlZml4ICsgJ3gnXSksXG4gICAgICBNYXRoLnJvdW5kKG5vZGVbcHJlZml4ICsgJ3knXSArIGZvbnRTaXplIC8gMylcbiAgICApO1xuICB9XG5cbiAgZHJhd0Fycm93KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICB2YXIgcHJlZml4ID0gc2V0dGluZ3MoJ3ByZWZpeCcpIHx8ICcnLFxuICAgICAgc2l6ZSA9IGVkZ2VbcHJlZml4ICsgJ3NpemUnXSB8fCAxLFxuICAgICAgdFNpemUgPSB0YXJnZXRbcHJlZml4ICsgJ3NpemUnXSxcbiAgICAgIHNYID0gc291cmNlW3ByZWZpeCArICd4J10sXG4gICAgICBzWSA9IHNvdXJjZVtwcmVmaXggKyAneSddLFxuICAgICAgdFggPSB0YXJnZXRbcHJlZml4ICsgJ3gnXSxcbiAgICAgIHRZID0gdGFyZ2V0W3ByZWZpeCArICd5J10sXG4gICAgICBhbmdsZSA9IE1hdGguYXRhbjIodFkgLSBzWSwgdFggLSBzWCksXG4gICAgICBkaXN0ID0gMztcbiAgICBzWCArPSBNYXRoLnNpbihhbmdsZSkgKiBkaXN0O1xuICAgIHRYICs9IE1hdGguc2luKGFuZ2xlKSAqIGRpc3Q7XG4gICAgc1kgKz0gLU1hdGguY29zKGFuZ2xlKSAqIGRpc3Q7XG4gICAgdFkgKz0gLU1hdGguY29zKGFuZ2xlKSAqIGRpc3Q7XG4gICAgdmFyIGFTaXplID0gTWF0aC5tYXgoc2l6ZSAqIDIuNSwgc2V0dGluZ3MoJ21pbkFycm93U2l6ZScpKSxcbiAgICAgIGQgPSBNYXRoLnNxcnQoTWF0aC5wb3codFggLSBzWCwgMikgKyBNYXRoLnBvdyh0WSAtIHNZLCAyKSksXG4gICAgICBhWCA9IHNYICsgKHRYIC0gc1gpICogKGQgLSBhU2l6ZSAtIHRTaXplKSAvIGQsXG4gICAgICBhWSA9IHNZICsgKHRZIC0gc1kpICogKGQgLSBhU2l6ZSAtIHRTaXplKSAvIGQsXG4gICAgICB2WCA9ICh0WCAtIHNYKSAqIGFTaXplIC8gZCxcbiAgICAgIHZZID0gKHRZIC0gc1kpICogYVNpemUgLyBkO1xuXG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc2l6ZTtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKHNYLCBzWSk7XG4gICAgY29udGV4dC5saW5lVG8oXG4gICAgICBhWCxcbiAgICAgIGFZXG4gICAgKTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKGFYICsgdlgsIGFZICsgdlkpO1xuICAgIGNvbnRleHQubGluZVRvKGFYICsgdlkgKiAwLjYsIGFZIC0gdlggKiAwLjYpO1xuICAgIGNvbnRleHQubGluZVRvKGFYIC0gdlkgKiAwLjYsIGFZICsgdlggKiAwLjYpO1xuICAgIGNvbnRleHQubGluZVRvKGFYICsgdlgsIGFZICsgdlkpO1xuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgY29udGV4dC5maWxsKCk7XG4gIH1cblxuICBkcmF3T25Ib3Zlcihub2RlLCBjb250ZXh0LCBzZXR0aW5ncywgbmV4dCkge1xuICAgIHZhciB0cmFjZXIgPSB0aGlzO1xuXG4gICAgY29udGV4dC5zZXRMaW5lRGFzaChbNSwgNV0pO1xuICAgIHZhciBub2RlSWR4ID0gbm9kZS5pZC5zdWJzdHJpbmcoMSk7XG4gICAgdGhpcy5ncmFwaC5lZGdlcygpLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHtcbiAgICAgIHZhciBlbmRzID0gZWRnZS5pZC5zdWJzdHJpbmcoMSkuc3BsaXQoXCJfXCIpO1xuICAgICAgaWYgKGVuZHNbMF0gPT0gbm9kZUlkeCkge1xuICAgICAgICB2YXIgY29sb3IgPSAnIzBmZic7XG4gICAgICAgIHZhciBzb3VyY2UgPSBub2RlO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdHJhY2VyLmdyYXBoLm5vZGVzKCduJyArIGVuZHNbMV0pO1xuICAgICAgICB0cmFjZXIuZHJhd0Fycm93KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgICAgICBpZiAobmV4dCkgbmV4dChlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29sb3IsIGNvbnRleHQsIHNldHRpbmdzKTtcbiAgICAgIH0gZWxzZSBpZiAoZW5kc1sxXSA9PSBub2RlSWR4KSB7XG4gICAgICAgIHZhciBjb2xvciA9ICcjZmYwJztcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRyYWNlci5ncmFwaC5ub2RlcygnbicgKyBlbmRzWzBdKTtcbiAgICAgICAgdmFyIHRhcmdldCA9IG5vZGU7XG4gICAgICAgIHRyYWNlci5kcmF3QXJyb3coZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gICAgICAgIGlmIChuZXh0KSBuZXh0KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGluaXRWaWV3ID0gKHRyYWNlcikgPT4ge1xuICB0cmFjZXIucyA9IHRyYWNlci5jYXBzdWxlLnMgPSBuZXcgc2lnbWEoe1xuICAgIHJlbmRlcmVyOiB7XG4gICAgICBjb250YWluZXI6IHRyYWNlci4kY29udGFpbmVyWzBdLFxuICAgICAgdHlwZTogJ2NhbnZhcydcbiAgICB9LFxuICAgIHNldHRpbmdzOiB7XG4gICAgICBtaW5BcnJvd1NpemU6IDgsXG4gICAgICBkZWZhdWx0RWRnZVR5cGU6ICdhcnJvdycsXG4gICAgICBtYXhFZGdlU2l6ZTogMi41LFxuICAgICAgbGFiZWxUaHJlc2hvbGQ6IDQsXG4gICAgICBmb250OiAnUm9ib3RvJyxcbiAgICAgIGRlZmF1bHRMYWJlbENvbG9yOiAnI2ZmZicsXG4gICAgICB6b29tTWluOiAwLjYsXG4gICAgICB6b29tTWF4OiAxLjIsXG4gICAgICBza2lwRXJyb3JzOiB0cnVlLFxuICAgICAgbWluTm9kZVNpemU6IC41LFxuICAgICAgbWF4Tm9kZVNpemU6IDEyLFxuICAgICAgbGFiZWxTaXplOiAncHJvcG9ydGlvbmFsJyxcbiAgICAgIGxhYmVsU2l6ZVJhdGlvOiAxLjMsXG4gICAgICBmdW5jTGFiZWxzRGVmKG5vZGUsIGNvbnRleHQsIHNldHRpbmdzKSB7XG4gICAgICAgIHRyYWNlci5kcmF3TGFiZWwobm9kZSwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgICAgfSxcbiAgICAgIGZ1bmNIb3ZlcnNEZWYobm9kZSwgY29udGV4dCwgc2V0dGluZ3MsIG5leHQpIHtcbiAgICAgICAgdHJhY2VyLmRyYXdPbkhvdmVyKG5vZGUsIGNvbnRleHQsIHNldHRpbmdzLCBuZXh0KTtcbiAgICAgIH0sXG4gICAgICBmdW5jRWRnZXNBcnJvdyhlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gdHJhY2VyLmdldENvbG9yKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBzZXR0aW5ncyk7XG4gICAgICAgIHRyYWNlci5kcmF3QXJyb3coZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgc2lnbWEucGx1Z2lucy5kcmFnTm9kZXModHJhY2VyLnMsIHRyYWNlci5zLnJlbmRlcmVyc1swXSk7XG4gIHRyYWNlci5ncmFwaCA9IHRyYWNlci5jYXBzdWxlLmdyYXBoID0gdHJhY2VyLnMuZ3JhcGg7XG59O1xuXG5zaWdtYS5jYW52YXMubGFiZWxzLmRlZiA9IGZ1bmN0aW9uIChub2RlLCBjb250ZXh0LCBzZXR0aW5ncykge1xuICB2YXIgZnVuYyA9IHNldHRpbmdzKCdmdW5jTGFiZWxzRGVmJyk7XG4gIGlmIChmdW5jKSB7XG4gICAgZnVuYyhub2RlLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gIH1cbn07XG5zaWdtYS5jYW52YXMuaG92ZXJzLmRlZiA9IGZ1bmN0aW9uIChub2RlLCBjb250ZXh0LCBzZXR0aW5ncykge1xuICB2YXIgZnVuYyA9IHNldHRpbmdzKCdmdW5jSG92ZXJzRGVmJyk7XG4gIGlmIChmdW5jKSB7XG4gICAgZnVuYyhub2RlLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gIH1cbn07XG5zaWdtYS5jYW52YXMuZWRnZXMuZGVmID0gZnVuY3Rpb24gKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb250ZXh0LCBzZXR0aW5ncykge1xuICB2YXIgZnVuYyA9IHNldHRpbmdzKCdmdW5jRWRnZXNEZWYnKTtcbiAgaWYgKGZ1bmMpIHtcbiAgICBmdW5jKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gIH1cbn07XG5zaWdtYS5jYW52YXMuZWRnZXMuYXJyb3cgPSBmdW5jdGlvbiAoZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbnRleHQsIHNldHRpbmdzKSB7XG4gIHZhciBmdW5jID0gc2V0dGluZ3MoJ2Z1bmNFZGdlc0Fycm93Jyk7XG4gIGlmIChmdW5jKSB7XG4gICAgZnVuYyhlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29udGV4dCwgc2V0dGluZ3MpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERpcmVjdGVkR3JhcGhUcmFjZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IFRyYWNlciA9IHJlcXVpcmUoJy4vdHJhY2VyJyk7XG5cbmNvbnN0IHtcbiAgcmVmaW5lQnlUeXBlXG59ID0gcmVxdWlyZSgnLi4vLi4vdHJhY2VyX21hbmFnZXIvdXRpbC9pbmRleCcpO1xuXG5jbGFzcyBEaXJlY3RlZEdyYXBoQ29uc3RydWN0VHJhY2VyIGV4dGVuZHMgVHJhY2VyIHtcbiAgc3RhdGljIGdldENsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gJ0RpcmVjdGVkR3JhcGhDb25zdHJ1Y3RUcmFjZXInO1xuICB9XG5cbiAgY29uc3RydWN0b3IobmFtZSwgbm9kZVBsYWNlbWVudCA9IG51bGwpIHtcbiAgICBzdXBlcihuYW1lKTtcbiAgICB0aGlzLm5vZGVQbGFjZW1lbnQgPSBub2RlUGxhY2VtZW50O1xuICAgIHRoaXMubm9kZUNvbGxlY3Rpb24gPSBbXTtcbiAgICBpZiAodGhpcy5pc05ldykgaW5pdFZpZXcodGhpcyk7XG4gIH1cblxuICBfYWRkUm9vdChyb290KSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ2FkZFJvb3QnLFxuICAgICAgYXJndW1lbnRzOiBhcmd1bWVudHNcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9hZGROb2RlKGVsZW1lbnQsIHBhcmVudEVsZW1lbnQgPSBudWxsKSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ2FkZE5vZGUnLFxuICAgICAgYXJndW1lbnRzOiBhcmd1bWVudHNcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9maW5kTm9kZSh2YWwpIHtcbiAgICB2YXIgaWRUb0ZpbmQgPSB0aGlzLm4odmFsKTtcbiAgICB2YXIgRyA9IHRoaXMubm9kZUNvbGxlY3Rpb247XG4gICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBHLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZihHW2ldLmlkID09PSBpZFRvRmluZCkge1xuICAgICAgICByZXN1bHQgPSBHW2ldO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIF92aXNpdCh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHRoaXMubWFuYWdlci5wdXNoU3RlcCh0aGlzLmNhcHN1bGUsIHtcbiAgICAgIHR5cGU6ICd2aXNpdCcsXG4gICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgIHNvdXJjZTogc291cmNlXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBfbGVhdmUodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICB0aGlzLm1hbmFnZXIucHVzaFN0ZXAodGhpcy5jYXBzdWxlLCB7XG4gICAgICB0eXBlOiAnbGVhdmUnLFxuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICBzb3VyY2U6IHNvdXJjZVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX3NldE5vZGVQb3NpdGlvbnMocG9zaXRpb25zKSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ3NldE5vZGVQb3NpdGlvbnMnLFxuICAgICAgcG9zaXRpb25zOiBwb3NpdGlvbnNcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBcbiAgX2NsZWFyVHJhdmVyc2FsKCkge1xuICAgIHRoaXMubWFuYWdlci5wdXNoU3RlcCh0aGlzLmNhcHN1bGUsIHtcbiAgICAgIHR5cGU6ICdjbGVhcidcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHByb2Nlc3NTdGVwKHN0ZXAsIG9wdGlvbnMpIHtcbiAgICBzd2l0Y2ggKHN0ZXAudHlwZSkge1xuICAgICAgY2FzZSAnY2xlYXInOlxuICAgICAgICB0aGlzLmNsZWFyLmFwcGx5KHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NldE5vZGVQb3NpdGlvbnMnOlxuICAgICAgICAkLmVhY2godGhpcy5ncmFwaC5ub2RlcygpLCAoaSwgbm9kZSkgPT4ge1xuICAgICAgICAgIGlmIChpID49IHN0ZXAucG9zaXRpb25zLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gc3RlcC5wb3NpdGlvbnNbaV07XG4gICAgICAgICAgbm9kZS54ID0gcG9zaXRpb24ueDtcbiAgICAgICAgICBub2RlLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhZGRSb290JzpcbiAgICAgICAgdGhpcy5hZGRSb290LmFwcGx5KHRoaXMsIHN0ZXAuYXJndW1lbnRzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhZGROb2RlJzpcbiAgICAgICAgdGhpcy5hZGROb2RlLmFwcGx5KHRoaXMsIHN0ZXAuYXJndW1lbnRzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aXNpdCc6XG4gICAgICBjYXNlICdsZWF2ZSc6XG4gICAgICAgIHZhciB2aXNpdCA9IHN0ZXAudHlwZSA9PSAndmlzaXQnO1xuICAgICAgICB2YXIgbm9kZU9iamVjdCA9IHRoaXMuX2ZpbmROb2RlKHN0ZXAudGFyZ2V0KTtcbiAgICAgICAgbm9kZU9iamVjdC52aXNpdGVkID0gdmlzaXQ7XG4gICAgICAgIG5vZGVPYmplY3QuaXNOZXcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHRhcmdldE5vZGUgPSB0aGlzLmdyYXBoLm5vZGVzKHRoaXMubihzdGVwLnRhcmdldCkpO1xuICAgICAgICB2YXIgY29sb3IgPSB2aXNpdCA/IHRoaXMuY29sb3IudmlzaXRlZCA6IHRoaXMuY29sb3IubGVmdDtcbiAgICAgICAgaWYodGFyZ2V0Tm9kZSkge1xuICAgICAgICAgIHRhcmdldE5vZGUuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgICBpZiAoc3RlcC5zb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIGVkZ2VJZCA9IHRoaXMuZShzdGVwLnNvdXJjZSwgc3RlcC50YXJnZXQpO1xuICAgICAgICAgICAgdmFyIGVkZ2UgPSB0aGlzLmdyYXBoLmVkZ2VzKGVkZ2VJZCk7XG4gICAgICAgICAgICBlZGdlLmNvbG9yID0gY29sb3I7XG4gICAgICAgICAgICB0aGlzLmdyYXBoLmRyb3BFZGdlKGVkZ2VJZCkuYWRkRWRnZShlZGdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubG9nVHJhY2VyKSB7XG4gICAgICAgICAgdmFyIHNvdXJjZSA9IHN0ZXAuc291cmNlO1xuICAgICAgICAgIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZCkgc291cmNlID0gJyc7XG4gICAgICAgICAgdGhpcy5sb2dUcmFjZXIucHJpbnQodmlzaXQgPyBzb3VyY2UgKyAnIC0+ICcgKyBzdGVwLnRhcmdldCA6IHNvdXJjZSArICcgPC0gJyArIHN0ZXAudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHN1cGVyLnByb2Nlc3NTdGVwKHN0ZXAsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGFkZFJvb3Qocm9vdCkge1xuICAgIGlmKHRoaXMucm9vdE9iamVjdCkgdGhyb3cgJ1Jvb3QgZm9yIHRoaXMgZ3JhcGggaXMgYWxyZWFkeSBhZGRlZCc7XG4gICAgdGhpcy5yb290T2JqZWN0ID0gdGhpcy5jcmVhdGVHcmFwaE5vZGUocm9vdCk7XG4gICAgdGhpcy5kcmF3R3JhcGgodGhpcy5yb290T2JqZWN0LmxldmVsKTtcbiAgfVxuXG4gIGFkZE5vZGUobm9kZSwgcGFyZW50KSB7XG4gICAgdmFyIG5vZGVPYmplY3QgPSB0aGlzLmNyZWF0ZUdyYXBoTm9kZShub2RlLCBwYXJlbnQpXG4gICAgdGhpcy5kcmF3R3JhcGgobm9kZU9iamVjdC5sZXZlbCk7XG4gIH1cblxuICBjcmVhdGVHcmFwaE5vZGUobm9kZSwgcGFyZW50KSB7XG4gICAgdmFyIG5vZGVPYmplY3QgPSB0aGlzLm5vZGVDb25zdHJ1Y3Qobm9kZSk7XG4gICAgdmFyIHBhcmVudE9iamVjdCA9IHRoaXMuX2ZpbmROb2RlKHBhcmVudCk7XG4gICAgaWYgKHBhcmVudE9iamVjdCkge1xuICAgICAgbm9kZU9iamVjdC5wYXJlbnQgPSBwYXJlbnRPYmplY3Q7XG4gICAgICBub2RlT2JqZWN0LmxldmVsID0gcGFyZW50T2JqZWN0LmxldmVsICsgMTtcbiAgICAgIGlmICh0aGlzLm5vZGVQbGFjZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgcGFyZW50T2JqZWN0LmNoaWxkcmVuLnB1c2gobm9kZU9iamVjdCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubm9kZVBsYWNlbWVudCA9PT0gMCkge1xuICAgICAgICB2YXIgaXNTcGxpY2VkID0gZmFsc2U7XG4gICAgICAgIHZhciBpbnNlcnRJbmRleCA9IDA7XG4gICAgICAgIGlmIChwYXJlbnRPYmplY3QuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwYXJlbnRPYmplY3QuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudE9iamVjdC5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmKGNoaWxkLm9yaWdpbmFsVmFsID4gbm9kZSkge1xuICAgICAgICAgICAgICBpc1NwbGljZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluc2VydEluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGlzU3BsaWNlZCkge1xuICAgICAgICAgIHBhcmVudE9iamVjdC5jaGlsZHJlbi5zcGxpY2UoaW5zZXJ0SW5kZXgsIDAsIG5vZGVPYmplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcmVudE9iamVjdC5jaGlsZHJlbi5wdXNoKG5vZGVPYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubm9kZUNvbGxlY3Rpb24ucHVzaChub2RlT2JqZWN0KTtcbiAgICByZXR1cm4gbm9kZU9iamVjdDtcbiAgfVxuXG4gIG5vZGVDb25zdHJ1Y3QodmFsKSB7XG4gICAgdmFyIG5vZGVPYmplY3QgPSB7XG4gICAgICBpZDogdGhpcy5uKHZhbCksXG4gICAgICBvcmlnaW5hbFZhbDogdmFsLFxuICAgICAgaXNOZXc6IHRydWUsXG4gICAgICB2aXNpdGVkOiBmYWxzZSxcbiAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgIGxldmVsOiAxLFxuICAgICAgcGFyZW50OiBudWxsXG4gICAgfVxuICAgIHJldHVybiBub2RlT2JqZWN0O1xuICB9XG4gIFxuICBkcmF3R3JhcGgobm9kZUxldmVsKSB7XG4gICAgY29uc3Qgbm9kZXMgPSBbXTtcbiAgICBjb25zdCBlZGdlcyA9IFtdO1xuICAgIHZhciB0cmFjZXIgPSB0aGlzO1xuXG4gICAgdmFyIGFycmFuZ2VDaGlsZE5vZGVzID0gZnVuY3Rpb24obm9kZSwgb2Zmc2V0V2lkdGgpIHtcbiAgICAgIGlmKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMSl7XG4gICAgICAgIHZhciBtaWRQb2ludCA9IE1hdGguZmxvb3Iobm9kZS5jaGlsZHJlbi5sZW5ndGggLyAyKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGk9PT1taWRQb2ludCkge1xuICAgICAgICAgICAgb2Zmc2V0V2lkdGggKz0gKG5vZGUuY2hpbGRyZW4ubGVuZ3RoICUgMiA9PT0gMCA/IDEgOiAwKTtcbiAgICAgICAgICAgIGFkZEdyYXBoTm9kZShub2RlLCBvZmZzZXRXaWR0aCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9mZnNldFdpZHRoID0gYXJyYW5nZUNoaWxkTm9kZXMobm9kZS5jaGlsZHJlbltpXSwgb2Zmc2V0V2lkdGgpO1xuICAgICAgICAgIGFkZEVkZ2Uobm9kZSwgbm9kZS5jaGlsZHJlbltpXSk7XG4gICAgICAgIH0gXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHsgICAgICAgIFxuICAgICAgICAgIG9mZnNldFdpZHRoICs9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2Zmc2V0V2lkdGggPSBhcnJhbmdlQ2hpbGROb2Rlcyhub2RlLmNoaWxkcmVuWzBdLCBvZmZzZXRXaWR0aCk7XG4gICAgICAgICAgYWRkRWRnZShub2RlLCBub2RlLmNoaWxkcmVuWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRHcmFwaE5vZGUobm9kZSwgb2Zmc2V0V2lkdGgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9mZnNldFdpZHRoO1xuICAgIH07XG5cbiAgICB2YXIgYWRkR3JhcGhOb2RlID0gZnVuY3Rpb24gKG5vZGUsIGNhbGN1bGF0ZWRYKSB7XG4gICAgICB2YXIgY29sb3IgPSBnZXRDb2xvcihub2RlLmlzTmV3LCBub2RlLnZpc2l0ZWQsIHRyYWNlci5jb2xvcik7XG4gICAgICBub2Rlcy5wdXNoKHtcbiAgICAgICAgaWQ6IG5vZGUuaWQsXG4gICAgICAgIGxhYmVsOiAnJyArIG5vZGUub3JpZ2luYWxWYWwsXG4gICAgICAgIHg6IGNhbGN1bGF0ZWRYLFxuICAgICAgICB5OiBub2RlLmxldmVsIC0gMSxcbiAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICB3ZWlnaHQ6IDBcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgYWRkRWRnZSA9IGZ1bmN0aW9uIChub2RlLCBjaGlsZE5vZGUpIHtcbiAgICAgIHZhciBjb2xvciA9IGdldENvbG9yKG5vZGUudmlzaXRlZCAmJiBjaGlsZE5vZGUuaXNOZXcsIG5vZGUudmlzaXRlZCAmJiBjaGlsZE5vZGUudmlzaXRlZCwgdHJhY2VyLmNvbG9yKTtcbiAgICAgIGVkZ2VzLnB1c2goe1xuICAgICAgICBpZDogdHJhY2VyLmUobm9kZS5vcmlnaW5hbFZhbCwgY2hpbGROb2RlLm9yaWdpbmFsVmFsKSxcbiAgICAgICAgc291cmNlOiBub2RlLmlkLFxuICAgICAgICB0YXJnZXQ6IGNoaWxkTm9kZS5pZCxcbiAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICBzaXplOiAxLFxuICAgICAgICB3ZWlnaHQ6IHJlZmluZUJ5VHlwZShjaGlsZE5vZGUub3JpZ2luYWxWYWwpXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGdldENvbG9yID0gZnVuY3Rpb24gKGlzTmV3LCBpc1Zpc2l0ZWQsIGNvbG9yUGFsZXRlKSB7XG4gICAgICByZXR1cm4gaXNOZXcgPyBjb2xvclBhbGV0ZS5zZWxlY3RlZCA6XG4gICAgICAgICAgICAgIChpc1Zpc2l0ZWQgPyBjb2xvclBhbGV0ZS52aXNpdGVkIDogY29sb3JQYWxldGUuZGVmYXVsdCk7XG4gICAgfTtcbiAgICBhcnJhbmdlQ2hpbGROb2Rlcyh0aGlzLnJvb3RPYmplY3QsIDApO1xuICAgIFxuICAgIHRoaXMuZ3JhcGguY2xlYXIoKTtcbiAgICB0aGlzLmdyYXBoLnJlYWQoe1xuICAgICAgbm9kZXM6IG5vZGVzLFxuICAgICAgZWRnZXM6IGVkZ2VzXG4gICAgfSk7XG4gICAgdGhpcy5zLmNhbWVyYS5nb1RvKHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiBub2RlTGV2ZWwsXG4gICAgICBhbmdsZTogMCxcbiAgICAgIHJhdGlvOiAxXG4gICAgfSk7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXNpemUoKSB7XG4gICAgc3VwZXIucmVzaXplKCk7XG5cbiAgICB0aGlzLnMucmVuZGVyZXJzWzBdLnJlc2l6ZSgpO1xuICAgIHRoaXMucmVmcmVzaCgpO1xuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICBzdXBlci5yZWZyZXNoKCk7XG5cbiAgICB0aGlzLnMucmVmcmVzaCgpO1xuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgc3VwZXIuY2xlYXIoKTtcblxuICAgIHRoaXMuY2xlYXJHcmFwaENvbG9yKCk7XG4gICAgdGhpcy5yZWZyZXNoKCk7XG4gIH1cblxuICBjbGVhckdyYXBoQ29sb3IoKSB7XG4gICAgdmFyIHRyYWNlciA9IHRoaXM7XG4gICAgdGhpcy5ub2RlQ29sbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgbm9kZS52aXNpdGVkID0gbm9kZS5pc05ldyA9IGZhbHNlO1xuICAgIH0pO1xuICAgIFxuICAgIHRoaXMuZ3JhcGgubm9kZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBub2RlLmNvbG9yID0gdHJhY2VyLmNvbG9yLmRlZmF1bHQ7XG4gICAgfSk7XG4gICAgdGhpcy5ncmFwaC5lZGdlcygpLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHtcbiAgICAgIGVkZ2UuY29sb3IgPSB0cmFjZXIuY29sb3IuZGVmYXVsdDtcbiAgICB9KTtcbiAgfVxuXG4gIG4odikge1xuICAgIHJldHVybiAnbicgKyB2O1xuICB9XG5cbiAgZSh2MSwgdjIpIHtcbiAgICByZXR1cm4gJ2UnICsgdjEgKyAnXycgKyB2MjtcbiAgfVxuXG4gIGdldENvbG9yKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBzZXR0aW5ncykge1xuICAgIHZhciBjb2xvciA9IGVkZ2UuY29sb3IsXG4gICAgICBlZGdlQ29sb3IgPSBzZXR0aW5ncygnZWRnZUNvbG9yJyksXG4gICAgICBkZWZhdWx0Tm9kZUNvbG9yID0gc2V0dGluZ3MoJ2RlZmF1bHROb2RlQ29sb3InKSxcbiAgICAgIGRlZmF1bHRFZGdlQ29sb3IgPSBzZXR0aW5ncygnZGVmYXVsdEVkZ2VDb2xvcicpO1xuICAgIGlmICghY29sb3IpXG4gICAgICBzd2l0Y2ggKGVkZ2VDb2xvcikge1xuICAgICAgICBjYXNlICdzb3VyY2UnOlxuICAgICAgICAgIGNvbG9yID0gc291cmNlLmNvbG9yIHx8IGRlZmF1bHROb2RlQ29sb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RhcmdldCc6XG4gICAgICAgICAgY29sb3IgPSB0YXJnZXQuY29sb3IgfHwgZGVmYXVsdE5vZGVDb2xvcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb2xvciA9IGRlZmF1bHRFZGdlQ29sb3I7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG4gIH1cblxuICBkcmF3TGFiZWwobm9kZSwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICB2YXIgZm9udFNpemUsXG4gICAgICBwcmVmaXggPSBzZXR0aW5ncygncHJlZml4JykgfHwgJycsXG4gICAgICBzaXplID0gbm9kZVtwcmVmaXggKyAnc2l6ZSddO1xuXG4gICAgaWYgKHNpemUgPCBzZXR0aW5ncygnbGFiZWxUaHJlc2hvbGQnKSlcbiAgICAgIHJldHVybjtcblxuICAgIGlmICghbm9kZS5sYWJlbCB8fCB0eXBlb2Ygbm9kZS5sYWJlbCAhPT0gJ3N0cmluZycpXG4gICAgICByZXR1cm47XG5cbiAgICBmb250U2l6ZSA9IChzZXR0aW5ncygnbGFiZWxTaXplJykgPT09ICdmaXhlZCcpID9cbiAgICAgIHNldHRpbmdzKCdkZWZhdWx0TGFiZWxTaXplJykgOlxuICAgIHNldHRpbmdzKCdsYWJlbFNpemVSYXRpbycpICogc2l6ZTtcblxuICAgIGNvbnRleHQuZm9udCA9IChzZXR0aW5ncygnZm9udFN0eWxlJykgPyBzZXR0aW5ncygnZm9udFN0eWxlJykgKyAnICcgOiAnJykgK1xuICAgICAgZm9udFNpemUgKyAncHggJyArIHNldHRpbmdzKCdmb250Jyk7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAoc2V0dGluZ3MoJ2xhYmVsQ29sb3InKSA9PT0gJ25vZGUnKSA/XG4gICAgICAobm9kZS5jb2xvciB8fCBzZXR0aW5ncygnZGVmYXVsdE5vZGVDb2xvcicpKSA6XG4gICAgICBzZXR0aW5ncygnZGVmYXVsdExhYmVsQ29sb3InKTtcblxuICAgIGNvbnRleHQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgY29udGV4dC5maWxsVGV4dChcbiAgICAgIG5vZGUubGFiZWwsXG4gICAgICBNYXRoLnJvdW5kKG5vZGVbcHJlZml4ICsgJ3gnXSksXG4gICAgICBNYXRoLnJvdW5kKG5vZGVbcHJlZml4ICsgJ3knXSArIGZvbnRTaXplIC8gMylcbiAgICApO1xuICB9XG5cbiAgZHJhd0Fycm93KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICB2YXIgcHJlZml4ID0gc2V0dGluZ3MoJ3ByZWZpeCcpIHx8ICcnLFxuICAgICAgc2l6ZSA9IGVkZ2VbcHJlZml4ICsgJ3NpemUnXSB8fCAxLFxuICAgICAgdFNpemUgPSB0YXJnZXRbcHJlZml4ICsgJ3NpemUnXSxcbiAgICAgIHNYID0gc291cmNlW3ByZWZpeCArICd4J10sXG4gICAgICBzWSA9IHNvdXJjZVtwcmVmaXggKyAneSddLFxuICAgICAgdFggPSB0YXJnZXRbcHJlZml4ICsgJ3gnXSxcbiAgICAgIHRZID0gdGFyZ2V0W3ByZWZpeCArICd5J10sXG4gICAgICBhbmdsZSA9IE1hdGguYXRhbjIodFkgLSBzWSwgdFggLSBzWCksXG4gICAgICBkaXN0ID0gMztcbiAgICBzWCArPSBNYXRoLnNpbihhbmdsZSkgKiBkaXN0O1xuICAgIHRYICs9IE1hdGguc2luKGFuZ2xlKSAqIGRpc3Q7XG4gICAgc1kgKz0gLU1hdGguY29zKGFuZ2xlKSAqIGRpc3Q7XG4gICAgdFkgKz0gLU1hdGguY29zKGFuZ2xlKSAqIGRpc3Q7XG4gICAgdmFyIGFTaXplID0gTWF0aC5tYXgoc2l6ZSAqIDIuNSwgc2V0dGluZ3MoJ21pbkFycm93U2l6ZScpKSxcbiAgICAgIGQgPSBNYXRoLnNxcnQoTWF0aC5wb3codFggLSBzWCwgMikgKyBNYXRoLnBvdyh0WSAtIHNZLCAyKSksXG4gICAgICBhWCA9IHNYICsgKHRYIC0gc1gpICogKGQgLSBhU2l6ZSAtIHRTaXplKSAvIGQsXG4gICAgICBhWSA9IHNZICsgKHRZIC0gc1kpICogKGQgLSBhU2l6ZSAtIHRTaXplKSAvIGQsXG4gICAgICB2WCA9ICh0WCAtIHNYKSAqIGFTaXplIC8gZCxcbiAgICAgIHZZID0gKHRZIC0gc1kpICogYVNpemUgLyBkO1xuXG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc2l6ZTtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKHNYLCBzWSk7XG4gICAgY29udGV4dC5saW5lVG8oXG4gICAgICBhWCxcbiAgICAgIGFZXG4gICAgKTtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIGNvbnRleHQubW92ZVRvKGFYICsgdlgsIGFZICsgdlkpO1xuICAgIGNvbnRleHQubGluZVRvKGFYICsgdlkgKiAwLjYsIGFZIC0gdlggKiAwLjYpO1xuICAgIGNvbnRleHQubGluZVRvKGFYIC0gdlkgKiAwLjYsIGFZICsgdlggKiAwLjYpO1xuICAgIGNvbnRleHQubGluZVRvKGFYICsgdlgsIGFZICsgdlkpO1xuICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgY29udGV4dC5maWxsKCk7XG4gIH1cblxuICBkcmF3T25Ib3Zlcihub2RlLCBjb250ZXh0LCBzZXR0aW5ncywgbmV4dCkge1xuICAgIHZhciB0cmFjZXIgPSB0aGlzO1xuXG4gICAgY29udGV4dC5zZXRMaW5lRGFzaChbNSwgNV0pO1xuICAgIHZhciBub2RlSWR4ID0gbm9kZS5pZC5zdWJzdHJpbmcoMSk7XG4gICAgdGhpcy5ncmFwaC5lZGdlcygpLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHtcbiAgICAgIHZhciBlbmRzID0gZWRnZS5pZC5zdWJzdHJpbmcoMSkuc3BsaXQoXCJfXCIpO1xuICAgICAgaWYgKGVuZHNbMF0gPT0gbm9kZUlkeCkge1xuICAgICAgICB2YXIgY29sb3IgPSAnIzBmZic7XG4gICAgICAgIHZhciBzb3VyY2UgPSBub2RlO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdHJhY2VyLmdyYXBoLm5vZGVzKCduJyArIGVuZHNbMV0pO1xuICAgICAgICB0cmFjZXIuZHJhd0Fycm93KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgICAgICBpZiAobmV4dCkgbmV4dChlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29sb3IsIGNvbnRleHQsIHNldHRpbmdzKTtcbiAgICAgIH0gZWxzZSBpZiAoZW5kc1sxXSA9PSBub2RlSWR4KSB7XG4gICAgICAgIHZhciBjb2xvciA9ICcjZmYwJztcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRyYWNlci5ncmFwaC5ub2RlcygnbicgKyBlbmRzWzBdKTtcbiAgICAgICAgdmFyIHRhcmdldCA9IG5vZGU7XG4gICAgICAgIHRyYWNlci5kcmF3QXJyb3coZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gICAgICAgIGlmIChuZXh0KSBuZXh0KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGluaXRWaWV3ID0gKHRyYWNlcikgPT4ge1xuICB0cmFjZXIucyA9IHRyYWNlci5jYXBzdWxlLnMgPSBuZXcgc2lnbWEoe1xuICAgIHJlbmRlcmVyOiB7XG4gICAgICBjb250YWluZXI6IHRyYWNlci4kY29udGFpbmVyWzBdLFxuICAgICAgdHlwZTogJ2NhbnZhcydcbiAgICB9LFxuICAgIHNldHRpbmdzOiB7XG4gICAgICBtaW5BcnJvd1NpemU6IDgsXG4gICAgICBkZWZhdWx0RWRnZVR5cGU6ICdhcnJvdycsXG4gICAgICBtYXhFZGdlU2l6ZTogMi41LFxuICAgICAgbGFiZWxUaHJlc2hvbGQ6IDQsXG4gICAgICBmb250OiAnUm9ib3RvJyxcbiAgICAgIGRlZmF1bHRMYWJlbENvbG9yOiAnI2ZmZicsXG4gICAgICB6b29tTWluOiAwLjYsXG4gICAgICB6b29tTWF4OiAxLjIsXG4gICAgICBza2lwRXJyb3JzOiB0cnVlLFxuICAgICAgbWluTm9kZVNpemU6IC41LFxuICAgICAgbWF4Tm9kZVNpemU6IDEyLFxuICAgICAgbGFiZWxTaXplOiAncHJvcG9ydGlvbmFsJyxcbiAgICAgIGxhYmVsU2l6ZVJhdGlvOiAxLjMsXG4gICAgICBmdW5jTGFiZWxzRGVmKG5vZGUsIGNvbnRleHQsIHNldHRpbmdzKSB7XG4gICAgICAgIHRyYWNlci5kcmF3TGFiZWwobm9kZSwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgICAgfSxcbiAgICAgIGZ1bmNIb3ZlcnNEZWYobm9kZSwgY29udGV4dCwgc2V0dGluZ3MsIG5leHQpIHtcbiAgICAgICAgdHJhY2VyLmRyYXdPbkhvdmVyKG5vZGUsIGNvbnRleHQsIHNldHRpbmdzLCBuZXh0KTtcbiAgICAgIH0sXG4gICAgICBmdW5jRWRnZXNBcnJvdyhlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gdHJhY2VyLmdldENvbG9yKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBzZXR0aW5ncyk7XG4gICAgICAgIHRyYWNlci5kcmF3QXJyb3coZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgc2lnbWEucGx1Z2lucy5kcmFnTm9kZXModHJhY2VyLnMsIHRyYWNlci5zLnJlbmRlcmVyc1swXSk7XG4gIHRyYWNlci5ncmFwaCA9IHRyYWNlci5jYXBzdWxlLmdyYXBoID0gdHJhY2VyLnMuZ3JhcGg7XG59O1xuXG5zaWdtYS5jYW52YXMubGFiZWxzLmRlZiA9IGZ1bmN0aW9uIChub2RlLCBjb250ZXh0LCBzZXR0aW5ncykge1xuICB2YXIgZnVuYyA9IHNldHRpbmdzKCdmdW5jTGFiZWxzRGVmJyk7XG4gIGlmIChmdW5jKSB7XG4gICAgZnVuYyhub2RlLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gIH1cbn07XG5zaWdtYS5jYW52YXMuaG92ZXJzLmRlZiA9IGZ1bmN0aW9uIChub2RlLCBjb250ZXh0LCBzZXR0aW5ncykge1xuICB2YXIgZnVuYyA9IHNldHRpbmdzKCdmdW5jSG92ZXJzRGVmJyk7XG4gIGlmIChmdW5jKSB7XG4gICAgZnVuYyhub2RlLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gIH1cbn07XG5zaWdtYS5jYW52YXMuZWRnZXMuZGVmID0gZnVuY3Rpb24gKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb250ZXh0LCBzZXR0aW5ncykge1xuICB2YXIgZnVuYyA9IHNldHRpbmdzKCdmdW5jRWRnZXNEZWYnKTtcbiAgaWYgKGZ1bmMpIHtcbiAgICBmdW5jKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gIH1cbn07XG5zaWdtYS5jYW52YXMuZWRnZXMuYXJyb3cgPSBmdW5jdGlvbiAoZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbnRleHQsIHNldHRpbmdzKSB7XG4gIHZhciBmdW5jID0gc2V0dGluZ3MoJ2Z1bmNFZGdlc0Fycm93Jyk7XG4gIGlmIChmdW5jKSB7XG4gICAgZnVuYyhlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29udGV4dCwgc2V0dGluZ3MpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERpcmVjdGVkR3JhcGhDb25zdHJ1Y3RUcmFjZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IFRyYWNlciA9IHJlcXVpcmUoJy4vdHJhY2VyJyk7XG5jb25zdCBMb2dUcmFjZXIgPSByZXF1aXJlKCcuL2xvZycpO1xuY29uc3QgQXJyYXkxRFRyYWNlciA9IHJlcXVpcmUoJy4vYXJyYXkxZCcpO1xuY29uc3QgQXJyYXkyRFRyYWNlciA9IHJlcXVpcmUoJy4vYXJyYXkyZCcpO1xuY29uc3QgQ2hhcnRUcmFjZXIgPSByZXF1aXJlKCcuL2NoYXJ0Jyk7XG5jb25zdCBDb29yZGluYXRlU3lzdGVtVHJhY2VyID0gcmVxdWlyZSgnLi9jb29yZGluYXRlX3N5c3RlbScpO1xuY29uc3QgRGlyZWN0ZWRHcmFwaFRyYWNlciA9IHJlcXVpcmUoJy4vZGlyZWN0ZWRfZ3JhcGgnKTtcbmNvbnN0IERpcmVjdGVkR3JhcGhDb25zdHJ1Y3RUcmFjZXIgPSByZXF1aXJlKCcuL2RpcmVjdGVkX2dyYXBoX2NvbnN0cnVjdCcpO1xuY29uc3QgVW5kaXJlY3RlZEdyYXBoVHJhY2VyID0gcmVxdWlyZSgnLi91bmRpcmVjdGVkX2dyYXBoJyk7XG5jb25zdCBXZWlnaHRlZERpcmVjdGVkR3JhcGhUcmFjZXIgPSByZXF1aXJlKCcuL3dlaWdodGVkX2RpcmVjdGVkX2dyYXBoJyk7XG5jb25zdCBXZWlnaHRlZFVuZGlyZWN0ZWRHcmFwaFRyYWNlciA9IHJlcXVpcmUoJy4vd2VpZ2h0ZWRfdW5kaXJlY3RlZF9ncmFwaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgVHJhY2VyLFxuICBMb2dUcmFjZXIsXG4gIEFycmF5MURUcmFjZXIsXG4gIEFycmF5MkRUcmFjZXIsXG4gIENoYXJ0VHJhY2VyLFxuICBDb29yZGluYXRlU3lzdGVtVHJhY2VyLFxuICBEaXJlY3RlZEdyYXBoVHJhY2VyLFxuICBEaXJlY3RlZEdyYXBoQ29uc3RydWN0VHJhY2VyLFxuICBVbmRpcmVjdGVkR3JhcGhUcmFjZXIsXG4gIFdlaWdodGVkRGlyZWN0ZWRHcmFwaFRyYWNlcixcbiAgV2VpZ2h0ZWRVbmRpcmVjdGVkR3JhcGhUcmFjZXJcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBUcmFjZXIgPSByZXF1aXJlKCcuL3RyYWNlcicpO1xuXG5jbGFzcyBMb2dUcmFjZXIgZXh0ZW5kcyBUcmFjZXIge1xuICBzdGF0aWMgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiAnTG9nVHJhY2VyJztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICBzdXBlcihuYW1lKTtcblxuICAgIGlmICh0aGlzLmlzTmV3KSBpbml0Vmlldyh0aGlzKTtcbiAgfVxuXG4gIF9wcmludChtc2cpIHtcbiAgICB0aGlzLm1hbmFnZXIucHVzaFN0ZXAodGhpcy5jYXBzdWxlLCB7XG4gICAgICB0eXBlOiAncHJpbnQnLFxuICAgICAgbXNnOiBtc2dcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHByb2Nlc3NTdGVwKHN0ZXAsIG9wdGlvbnMpIHtcbiAgICBzd2l0Y2ggKHN0ZXAudHlwZSkge1xuICAgICAgY2FzZSAncHJpbnQnOlxuICAgICAgICB0aGlzLnByaW50KHN0ZXAubXNnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLnNjcm9sbFRvRW5kKE1hdGgubWluKDUwLCB0aGlzLmludGVydmFsKSk7XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBzdXBlci5jbGVhcigpO1xuXG4gICAgdGhpcy4kd3JhcHBlci5lbXB0eSgpO1xuICB9XG5cbiAgcHJpbnQobWVzc2FnZSkge1xuICAgIHRoaXMuJHdyYXBwZXIuYXBwZW5kKCQoJzxzcGFuPicpLmFwcGVuZChtZXNzYWdlICsgJzxici8+JykpO1xuICAgIHdpbmRvdy5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICBhY3Rpb246ICd0cmFjZScsXG4gICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgfSkpO1xuICB9XG5cbiAgc2Nyb2xsVG9FbmQoZHVyYXRpb24pIHtcbiAgICB0aGlzLiRjb250YWluZXIuYW5pbWF0ZSh7XG4gICAgICBzY3JvbGxUb3A6IHRoaXMuJGNvbnRhaW5lclswXS5zY3JvbGxIZWlnaHRcbiAgICB9LCBkdXJhdGlvbik7XG4gIH1cbn1cblxuY29uc3QgaW5pdFZpZXcgPSAodHJhY2VyKSA9PiB7XG4gIHRyYWNlci4kd3JhcHBlciA9IHRyYWNlci5jYXBzdWxlLiR3cmFwcGVyID0gJCgnPGRpdiBjbGFzcz1cIndyYXBwZXJcIj4nKTtcbiAgdHJhY2VyLiRjb250YWluZXIuYXBwZW5kKHRyYWNlci4kd3JhcHBlcik7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IExvZ1RyYWNlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vLi4vYXBwJyk7XG5cbmNvbnN0IHtcbiAgdG9KU09OLFxuICBmcm9tSlNPTlxufSA9IHJlcXVpcmUoJy4uLy4uL3RyYWNlcl9tYW5hZ2VyL3V0aWwvaW5kZXgnKTtcblxuY2xhc3MgVHJhY2VyIHtcbiAgc3RhdGljIGdldENsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gJ1RyYWNlcic7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgdGhpcy5tb2R1bGUgPSB0aGlzLmNvbnN0cnVjdG9yO1xuXG4gICAgdGhpcy5jb2xvciA9IHtcbiAgICAgIHNlbGVjdGVkOiAnIzI5NjJmZicsXG4gICAgICBub3RpZmllZDogJyNmNTAwNTcnLFxuICAgICAgdmlzaXRlZDogJyNmNTAwNTcnLFxuICAgICAgbGVmdDogJyM2MTYxNjEnLFxuICAgICAgZGVmYXVsdDogJyNiZGJkYmQnXG4gICAgfTtcblxuICAgIHRoaXMubWFuYWdlciA9IGFwcC5nZXRUcmFjZXJNYW5hZ2VyKCk7XG4gICAgdGhpcy5jYXBzdWxlID0gdGhpcy5tYW5hZ2VyLmFsbG9jYXRlKHRoaXMpO1xuICAgICQuZXh0ZW5kKHRoaXMsIHRoaXMuY2Fwc3VsZSk7XG5cbiAgICB0aGlzLnNldE5hbWUobmFtZSk7XG4gIH1cblxuICBfc2V0RGF0YSguLi5hcmdzKSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ3NldERhdGEnLFxuICAgICAgYXJnczogdG9KU09OKGFyZ3MpXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBfY2xlYXIoKSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ2NsZWFyJ1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX3dhaXQobGluZSkge1xuICAgIHRoaXMubWFuYWdlci5uZXdTdGVwKGxpbmUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJvY2Vzc1N0ZXAoc3RlcCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUsXG4gICAgICBhcmdzXG4gICAgfSA9IHN0ZXA7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3NldERhdGEnOlxuICAgICAgICB0aGlzLnNldERhdGEoLi4uZnJvbUpTT04oYXJncykpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NsZWFyJzpcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBzZXROYW1lKG5hbWUpIHtcbiAgICBsZXQgJG5hbWU7XG4gICAgaWYgKHRoaXMuaXNOZXcpIHtcbiAgICAgICRuYW1lID0gJCgnPHNwYW4gY2xhc3M9XCJuYW1lXCI+Jyk7XG4gICAgICB0aGlzLiRjb250YWluZXIuYXBwZW5kKCRuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJG5hbWUgPSB0aGlzLiRjb250YWluZXIuZmluZCgnc3Bhbi5uYW1lJyk7XG4gICAgfVxuICAgICRuYW1lLnRleHQobmFtZSB8fCB0aGlzLmRlZmF1bHROYW1lKTtcbiAgfVxuXG4gIHNldERhdGEoKSB7XG4gICAgY29uc3QgZGF0YSA9IHRvSlNPTihhcmd1bWVudHMpO1xuICAgIGlmICghdGhpcy5pc05ldyAmJiB0aGlzLmxhc3REYXRhID09PSBkYXRhKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5sYXN0RGF0YSA9IHRoaXMuY2Fwc3VsZS5sYXN0RGF0YSA9IGRhdGE7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVzaXplKCkge1xuICB9XG5cbiAgcmVmcmVzaCgpIHtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICB9XG5cbiAgYXR0YWNoKHRyYWNlcikge1xuICAgIHN3aXRjaCAodHJhY2VyLm1vZHVsZSkge1xuICAgICAgY2FzZSBMb2dUcmFjZXI6XG4gICAgICAgIHRoaXMubG9nVHJhY2VyID0gdHJhY2VyO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ2hhcnRUcmFjZXI6XG4gICAgICAgIHRoaXMuY2hhcnRUcmFjZXIgPSB0cmFjZXI7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHBhbGV0dGUoY29sb3IpIHtcbiAgICAkLmV4dGVuZCh0aGlzLmNvbG9yLCBjb2xvcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBtb3VzZWRvd24oZSkge1xuICB9XG5cbiAgbW91c2Vtb3ZlKGUpIHtcbiAgfVxuXG4gIG1vdXNldXAoZSkge1xuICB9XG5cbiAgbW91c2V3aGVlbChlKSB7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUcmFjZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IERpcmVjdGVkR3JhcGhUcmFjZXIgPSByZXF1aXJlKCcuL2RpcmVjdGVkX2dyYXBoJyk7XG5cbmNsYXNzIFVuZGlyZWN0ZWRHcmFwaFRyYWNlciBleHRlbmRzIERpcmVjdGVkR3JhcGhUcmFjZXIge1xuICBzdGF0aWMgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiAnVW5kaXJlY3RlZEdyYXBoVHJhY2VyJztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICBzdXBlcihuYW1lKTtcblxuICAgIGlmICh0aGlzLmlzTmV3KSBpbml0Vmlldyh0aGlzKTtcbiAgfVxuXG4gIHNldFRyZWVEYXRhKEcsIHJvb3QpIHtcbiAgICByZXR1cm4gc3VwZXIuc2V0VHJlZURhdGEoRywgcm9vdCwgdHJ1ZSk7XG4gIH1cblxuICBzZXREYXRhKEcpIHtcbiAgICByZXR1cm4gc3VwZXIuc2V0RGF0YShHLCB0cnVlKTtcbiAgfVxuXG4gIGUodjEsIHYyKSB7XG4gICAgaWYgKHYxID4gdjIpIHtcbiAgICAgIHZhciB0ZW1wID0gdjE7XG4gICAgICB2MSA9IHYyO1xuICAgICAgdjIgPSB0ZW1wO1xuICAgIH1cbiAgICByZXR1cm4gJ2UnICsgdjEgKyAnXycgKyB2MjtcbiAgfVxuXG4gIGRyYXdPbkhvdmVyKG5vZGUsIGNvbnRleHQsIHNldHRpbmdzLCBuZXh0KSB7XG4gICAgdmFyIHRyYWNlciA9IHRoaXM7XG5cbiAgICBjb250ZXh0LnNldExpbmVEYXNoKFs1LCA1XSk7XG4gICAgdmFyIG5vZGVJZHggPSBub2RlLmlkLnN1YnN0cmluZygxKTtcbiAgICB0aGlzLmdyYXBoLmVkZ2VzKCkuZm9yRWFjaChmdW5jdGlvbiAoZWRnZSkge1xuICAgICAgdmFyIGVuZHMgPSBlZGdlLmlkLnN1YnN0cmluZygxKS5zcGxpdChcIl9cIik7XG4gICAgICBpZiAoZW5kc1swXSA9PSBub2RlSWR4KSB7XG4gICAgICAgIHZhciBjb2xvciA9ICcjMGZmJztcbiAgICAgICAgdmFyIHNvdXJjZSA9IG5vZGU7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0cmFjZXIuZ3JhcGgubm9kZXMoJ24nICsgZW5kc1sxXSk7XG4gICAgICAgIHRyYWNlci5kcmF3RWRnZShlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29sb3IsIGNvbnRleHQsIHNldHRpbmdzKTtcbiAgICAgICAgaWYgKG5leHQpIG5leHQoZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gICAgICB9IGVsc2UgaWYgKGVuZHNbMV0gPT0gbm9kZUlkeCkge1xuICAgICAgICB2YXIgY29sb3IgPSAnIzBmZic7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0cmFjZXIuZ3JhcGgubm9kZXMoJ24nICsgZW5kc1swXSk7XG4gICAgICAgIHZhciB0YXJnZXQgPSBub2RlO1xuICAgICAgICB0cmFjZXIuZHJhd0VkZ2UoZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gICAgICAgIGlmIChuZXh0KSBuZXh0KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZHJhd0VkZ2UoZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncykge1xuICAgIHZhciBwcmVmaXggPSBzZXR0aW5ncygncHJlZml4JykgfHwgJycsXG4gICAgICBzaXplID0gZWRnZVtwcmVmaXggKyAnc2l6ZSddIHx8IDE7XG5cbiAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgY29udGV4dC5saW5lV2lkdGggPSBzaXplO1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgY29udGV4dC5tb3ZlVG8oXG4gICAgICBzb3VyY2VbcHJlZml4ICsgJ3gnXSxcbiAgICAgIHNvdXJjZVtwcmVmaXggKyAneSddXG4gICAgKTtcbiAgICBjb250ZXh0LmxpbmVUbyhcbiAgICAgIHRhcmdldFtwcmVmaXggKyAneCddLFxuICAgICAgdGFyZ2V0W3ByZWZpeCArICd5J11cbiAgICApO1xuICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gIH1cbn1cblxuY29uc3QgaW5pdFZpZXcgPSAodHJhY2VyKSA9PiB7XG4gIHRyYWNlci5zLnNldHRpbmdzKHtcbiAgICBkZWZhdWx0RWRnZVR5cGU6ICdkZWYnLFxuICAgIGZ1bmNFZGdlc0RlZihlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICAgIHZhciBjb2xvciA9IHRyYWNlci5nZXRDb2xvcihlZGdlLCBzb3VyY2UsIHRhcmdldCwgc2V0dGluZ3MpO1xuICAgICAgdHJhY2VyLmRyYXdFZGdlKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFVuZGlyZWN0ZWRHcmFwaFRyYWNlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgRGlyZWN0ZWRHcmFwaFRyYWNlciA9IHJlcXVpcmUoJy4vZGlyZWN0ZWRfZ3JhcGgnKTtcblxuY29uc3Qge1xuICByZWZpbmVCeVR5cGVcbn0gPSByZXF1aXJlKCcuLi8uLi90cmFjZXJfbWFuYWdlci91dGlsL2luZGV4Jyk7XG5cbmNsYXNzIFdlaWdodGVkRGlyZWN0ZWRHcmFwaFRyYWNlciBleHRlbmRzIERpcmVjdGVkR3JhcGhUcmFjZXIge1xuICBzdGF0aWMgZ2V0Q2xhc3NOYW1lKCkge1xuICAgIHJldHVybiAnV2VpZ2h0ZWREaXJlY3RlZEdyYXBoVHJhY2VyJztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICBzdXBlcihuYW1lKTtcblxuICAgIGlmICh0aGlzLmlzTmV3KSBpbml0Vmlldyh0aGlzKTtcbiAgfVxuXG4gIF93ZWlnaHQodGFyZ2V0LCB3ZWlnaHQpIHtcbiAgICB0aGlzLm1hbmFnZXIucHVzaFN0ZXAodGhpcy5jYXBzdWxlLCB7XG4gICAgICB0eXBlOiAnd2VpZ2h0JyxcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgd2VpZ2h0OiB3ZWlnaHRcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF92aXNpdCh0YXJnZXQsIHNvdXJjZSwgd2VpZ2h0KSB7XG4gICAgdGhpcy5tYW5hZ2VyLnB1c2hTdGVwKHRoaXMuY2Fwc3VsZSwge1xuICAgICAgdHlwZTogJ3Zpc2l0JyxcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICB3ZWlnaHQ6IHdlaWdodFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgX2xlYXZlKHRhcmdldCwgc291cmNlLCB3ZWlnaHQpIHtcbiAgICB0aGlzLm1hbmFnZXIucHVzaFN0ZXAodGhpcy5jYXBzdWxlLCB7XG4gICAgICB0eXBlOiAnbGVhdmUnLFxuICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgIHdlaWdodDogd2VpZ2h0XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcm9jZXNzU3RlcChzdGVwLCBvcHRpb25zKSB7XG4gICAgc3dpdGNoIChzdGVwLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3dlaWdodCc6XG4gICAgICAgIHZhciB0YXJnZXROb2RlID0gdGhpcy5ncmFwaC5ub2Rlcyh0aGlzLm4oc3RlcC50YXJnZXQpKTtcbiAgICAgICAgaWYgKHN0ZXAud2VpZ2h0ICE9PSB1bmRlZmluZWQpIHRhcmdldE5vZGUud2VpZ2h0ID0gcmVmaW5lQnlUeXBlKHN0ZXAud2VpZ2h0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2aXNpdCc6XG4gICAgICBjYXNlICdsZWF2ZSc6XG4gICAgICAgIHZhciB2aXNpdCA9IHN0ZXAudHlwZSA9PSAndmlzaXQnO1xuICAgICAgICB2YXIgdGFyZ2V0Tm9kZSA9IHRoaXMuZ3JhcGgubm9kZXModGhpcy5uKHN0ZXAudGFyZ2V0KSk7XG4gICAgICAgIHZhciBjb2xvciA9IHZpc2l0ID8gc3RlcC53ZWlnaHQgPT09IHVuZGVmaW5lZCA/IHRoaXMuY29sb3Iuc2VsZWN0ZWQgOiB0aGlzLmNvbG9yLnZpc2l0ZWQgOiB0aGlzLmNvbG9yLmxlZnQ7XG4gICAgICAgIHRhcmdldE5vZGUuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgaWYgKHN0ZXAud2VpZ2h0ICE9PSB1bmRlZmluZWQpIHRhcmdldE5vZGUud2VpZ2h0ID0gcmVmaW5lQnlUeXBlKHN0ZXAud2VpZ2h0KTtcbiAgICAgICAgaWYgKHN0ZXAuc291cmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgZWRnZUlkID0gdGhpcy5lKHN0ZXAuc291cmNlLCBzdGVwLnRhcmdldCk7XG4gICAgICAgICAgdmFyIGVkZ2UgPSB0aGlzLmdyYXBoLmVkZ2VzKGVkZ2VJZCk7XG4gICAgICAgICAgZWRnZS5jb2xvciA9IGNvbG9yO1xuICAgICAgICAgIHRoaXMuZ3JhcGguZHJvcEVkZ2UoZWRnZUlkKS5hZGRFZGdlKGVkZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxvZ1RyYWNlcikge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzdGVwLnNvdXJjZTtcbiAgICAgICAgICBpZiAoc291cmNlID09PSB1bmRlZmluZWQpIHNvdXJjZSA9ICcnO1xuICAgICAgICAgIHRoaXMubG9nVHJhY2VyLnByaW50KHZpc2l0ID8gc291cmNlICsgJyAtPiAnICsgc3RlcC50YXJnZXQgOiBzb3VyY2UgKyAnIDwtICcgKyBzdGVwLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBzdXBlci5wcm9jZXNzU3RlcChzdGVwLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBjbGVhcigpIHtcbiAgICBzdXBlci5jbGVhcigpO1xuXG4gICAgdGhpcy5jbGVhcldlaWdodHMoKTtcbiAgfVxuXG4gIGNsZWFyV2VpZ2h0cygpIHtcbiAgICB0aGlzLmdyYXBoLm5vZGVzKCkuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgbm9kZS53ZWlnaHQgPSAwO1xuICAgIH0pO1xuICB9XG5cbiAgZHJhd0VkZ2VXZWlnaHQoZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncykge1xuICAgIGlmIChzb3VyY2UgPT0gdGFyZ2V0KVxuICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIHByZWZpeCA9IHNldHRpbmdzKCdwcmVmaXgnKSB8fCAnJyxcbiAgICAgIHNpemUgPSBlZGdlW3ByZWZpeCArICdzaXplJ10gfHwgMTtcblxuICAgIGlmIChzaXplIDwgc2V0dGluZ3MoJ2VkZ2VMYWJlbFRocmVzaG9sZCcpKVxuICAgICAgcmV0dXJuO1xuXG4gICAgaWYgKDAgPT09IHNldHRpbmdzKCdlZGdlTGFiZWxTaXplUG93UmF0aW8nKSlcbiAgICAgIHRocm93ICdcImVkZ2VMYWJlbFNpemVQb3dSYXRpb1wiIG11c3Qgbm90IGJlIDAuJztcblxuICAgIHZhciBmb250U2l6ZSxcbiAgICAgIHggPSAoc291cmNlW3ByZWZpeCArICd4J10gKyB0YXJnZXRbcHJlZml4ICsgJ3gnXSkgLyAyLFxuICAgICAgeSA9IChzb3VyY2VbcHJlZml4ICsgJ3knXSArIHRhcmdldFtwcmVmaXggKyAneSddKSAvIDIsXG4gICAgICBkWCA9IHRhcmdldFtwcmVmaXggKyAneCddIC0gc291cmNlW3ByZWZpeCArICd4J10sXG4gICAgICBkWSA9IHRhcmdldFtwcmVmaXggKyAneSddIC0gc291cmNlW3ByZWZpeCArICd5J10sXG4gICAgICBhbmdsZSA9IE1hdGguYXRhbjIoZFksIGRYKTtcblxuICAgIGZvbnRTaXplID0gKHNldHRpbmdzKCdlZGdlTGFiZWxTaXplJykgPT09ICdmaXhlZCcpID9cbiAgICAgIHNldHRpbmdzKCdkZWZhdWx0RWRnZUxhYmVsU2l6ZScpIDpcbiAgICBzZXR0aW5ncygnZGVmYXVsdEVkZ2VMYWJlbFNpemUnKSAqXG4gICAgc2l6ZSAqXG4gICAgTWF0aC5wb3coc2l6ZSwgLTEgLyBzZXR0aW5ncygnZWRnZUxhYmVsU2l6ZVBvd1JhdGlvJykpO1xuXG4gICAgY29udGV4dC5zYXZlKCk7XG5cbiAgICBpZiAoZWRnZS5hY3RpdmUpIHtcbiAgICAgIGNvbnRleHQuZm9udCA9IFtcbiAgICAgICAgc2V0dGluZ3MoJ2FjdGl2ZUZvbnRTdHlsZScpLFxuICAgICAgICBmb250U2l6ZSArICdweCcsXG4gICAgICAgIHNldHRpbmdzKCdhY3RpdmVGb250JykgfHwgc2V0dGluZ3MoJ2ZvbnQnKVxuICAgICAgXS5qb2luKCcgJyk7XG5cbiAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuZm9udCA9IFtcbiAgICAgICAgc2V0dGluZ3MoJ2ZvbnRTdHlsZScpLFxuICAgICAgICBmb250U2l6ZSArICdweCcsXG4gICAgICAgIHNldHRpbmdzKCdmb250JylcbiAgICAgIF0uam9pbignICcpO1xuXG4gICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIH1cblxuICAgIGNvbnRleHQudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpYyc7XG5cbiAgICBjb250ZXh0LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICBjb250ZXh0LnJvdGF0ZShhbmdsZSk7XG4gICAgY29udGV4dC5maWxsVGV4dChcbiAgICAgIGVkZ2Uud2VpZ2h0LFxuICAgICAgMCxcbiAgICAgICgtc2l6ZSAvIDIpIC0gM1xuICAgICk7XG5cbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgfVxuXG4gIGRyYXdOb2RlV2VpZ2h0KG5vZGUsIGNvbnRleHQsIHNldHRpbmdzKSB7XG4gICAgdmFyIGZvbnRTaXplLFxuICAgICAgcHJlZml4ID0gc2V0dGluZ3MoJ3ByZWZpeCcpIHx8ICcnLFxuICAgICAgc2l6ZSA9IG5vZGVbcHJlZml4ICsgJ3NpemUnXTtcblxuICAgIGlmIChzaXplIDwgc2V0dGluZ3MoJ2xhYmVsVGhyZXNob2xkJykpXG4gICAgICByZXR1cm47XG5cbiAgICBmb250U2l6ZSA9IChzZXR0aW5ncygnbGFiZWxTaXplJykgPT09ICdmaXhlZCcpID9cbiAgICAgIHNldHRpbmdzKCdkZWZhdWx0TGFiZWxTaXplJykgOlxuICAgIHNldHRpbmdzKCdsYWJlbFNpemVSYXRpbycpICogc2l6ZTtcblxuICAgIGNvbnRleHQuZm9udCA9IChzZXR0aW5ncygnZm9udFN0eWxlJykgPyBzZXR0aW5ncygnZm9udFN0eWxlJykgKyAnICcgOiAnJykgK1xuICAgICAgZm9udFNpemUgKyAncHggJyArIHNldHRpbmdzKCdmb250Jyk7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAoc2V0dGluZ3MoJ2xhYmVsQ29sb3InKSA9PT0gJ25vZGUnKSA/XG4gICAgICAobm9kZS5jb2xvciB8fCBzZXR0aW5ncygnZGVmYXVsdE5vZGVDb2xvcicpKSA6XG4gICAgICBzZXR0aW5ncygnZGVmYXVsdExhYmVsQ29sb3InKTtcblxuICAgIGNvbnRleHQudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICBub2RlLndlaWdodCxcbiAgICAgIE1hdGgucm91bmQobm9kZVtwcmVmaXggKyAneCddICsgc2l6ZSAqIDEuNSksXG4gICAgICBNYXRoLnJvdW5kKG5vZGVbcHJlZml4ICsgJ3knXSArIGZvbnRTaXplIC8gMylcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IGluaXRWaWV3ID0gKHRyYWNlcikgPT4ge1xuICB0cmFjZXIucy5zZXR0aW5ncyh7XG4gICAgZWRnZUxhYmVsU2l6ZTogJ3Byb3BvcnRpb25hbCcsXG4gICAgZGVmYXVsdEVkZ2VMYWJlbFNpemU6IDIwLFxuICAgIGVkZ2VMYWJlbFNpemVQb3dSYXRpbzogMC44LFxuICAgIGZ1bmNMYWJlbHNEZWYobm9kZSwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICAgIHRyYWNlci5kcmF3Tm9kZVdlaWdodChub2RlLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gICAgICB0cmFjZXIuZHJhd0xhYmVsKG5vZGUsIGNvbnRleHQsIHNldHRpbmdzKTtcbiAgICB9LFxuICAgIGZ1bmNIb3ZlcnNEZWYobm9kZSwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICAgIHRyYWNlci5kcmF3T25Ib3Zlcihub2RlLCBjb250ZXh0LCBzZXR0aW5ncywgdHJhY2VyLmRyYXdFZGdlV2VpZ2h0KTtcbiAgICB9LFxuICAgIGZ1bmNFZGdlc0Fycm93KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb250ZXh0LCBzZXR0aW5ncykge1xuICAgICAgdmFyIGNvbG9yID0gdHJhY2VyLmdldENvbG9yKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBzZXR0aW5ncyk7XG4gICAgICB0cmFjZXIuZHJhd0Fycm93KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgICAgdHJhY2VyLmRyYXdFZGdlV2VpZ2h0KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFdlaWdodGVkRGlyZWN0ZWRHcmFwaFRyYWNlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgV2VpZ2h0ZWREaXJlY3RlZEdyYXBoVHJhY2VyID0gcmVxdWlyZSgnLi93ZWlnaHRlZF9kaXJlY3RlZF9ncmFwaCcpO1xuY29uc3QgVW5kaXJlY3RlZEdyYXBoVHJhY2VyID0gcmVxdWlyZSgnLi91bmRpcmVjdGVkX2dyYXBoJyk7XG5cbmNsYXNzIFdlaWdodGVkVW5kaXJlY3RlZEdyYXBoVHJhY2VyIGV4dGVuZHMgV2VpZ2h0ZWREaXJlY3RlZEdyYXBoVHJhY2VyIHtcbiAgc3RhdGljIGdldENsYXNzTmFtZSgpIHtcbiAgICByZXR1cm4gJ1dlaWdodGVkVW5kaXJlY3RlZEdyYXBoVHJhY2VyJztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICBzdXBlcihuYW1lKTtcblxuICAgIHRoaXMuZSA9IFVuZGlyZWN0ZWRHcmFwaFRyYWNlci5wcm90b3R5cGUuZTtcbiAgICB0aGlzLmRyYXdPbkhvdmVyID0gVW5kaXJlY3RlZEdyYXBoVHJhY2VyLnByb3RvdHlwZS5kcmF3T25Ib3ZlcjtcbiAgICB0aGlzLmRyYXdFZGdlID0gVW5kaXJlY3RlZEdyYXBoVHJhY2VyLnByb3RvdHlwZS5kcmF3RWRnZTtcblxuICAgIGlmICh0aGlzLmlzTmV3KSBpbml0Vmlldyh0aGlzKTtcbiAgfVxuXG4gIHNldFRyZWVEYXRhKEcsIHJvb3QpIHtcbiAgICByZXR1cm4gc3VwZXIuc2V0VHJlZURhdGEoRywgcm9vdCwgdHJ1ZSk7XG4gIH1cblxuICBzZXREYXRhKEcpIHtcbiAgICByZXR1cm4gc3VwZXIuc2V0RGF0YShHLCB0cnVlKTtcbiAgfVxuXG4gIGRyYXdFZGdlV2VpZ2h0KGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb2xvciwgY29udGV4dCwgc2V0dGluZ3MpIHtcbiAgICB2YXIgcHJlZml4ID0gc2V0dGluZ3MoJ3ByZWZpeCcpIHx8ICcnO1xuICAgIGlmIChzb3VyY2VbcHJlZml4ICsgJ3gnXSA+IHRhcmdldFtwcmVmaXggKyAneCddKSB7XG4gICAgICB2YXIgdGVtcCA9IHNvdXJjZTtcbiAgICAgIHNvdXJjZSA9IHRhcmdldDtcbiAgICAgIHRhcmdldCA9IHRlbXA7XG4gICAgfVxuICAgIFdlaWdodGVkRGlyZWN0ZWRHcmFwaFRyYWNlci5wcm90b3R5cGUuZHJhd0VkZ2VXZWlnaHQuY2FsbCh0aGlzLCBlZGdlLCBzb3VyY2UsIHRhcmdldCwgY29sb3IsIGNvbnRleHQsIHNldHRpbmdzKTtcbiAgfVxufVxuXG5jb25zdCBpbml0VmlldyA9ICh0cmFjZXIpID0+IHtcbiAgdHJhY2VyLnMuc2V0dGluZ3Moe1xuICAgIGRlZmF1bHRFZGdlVHlwZTogJ2RlZicsXG4gICAgZnVuY0VkZ2VzRGVmKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBjb250ZXh0LCBzZXR0aW5ncykge1xuICAgICAgdmFyIGNvbG9yID0gdHJhY2VyLmdldENvbG9yKGVkZ2UsIHNvdXJjZSwgdGFyZ2V0LCBzZXR0aW5ncyk7XG4gICAgICB0cmFjZXIuZHJhd0VkZ2UoZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gICAgICB0cmFjZXIuZHJhd0VkZ2VXZWlnaHQoZWRnZSwgc291cmNlLCB0YXJnZXQsIGNvbG9yLCBjb250ZXh0LCBzZXR0aW5ncyk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gV2VpZ2h0ZWRVbmRpcmVjdGVkR3JhcGhUcmFjZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCcuL3JlcXVlc3QnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAodXJsKSA9PiB7XG4gIHJldHVybiByZXF1ZXN0KHVybCwge1xuICAgIHR5cGU6ICdHRVQnXG4gIH0pO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHJlcXVlc3QgPSByZXF1aXJlKCcuL3JlcXVlc3QnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1cmwpIHtcbiAgcmV0dXJuIHJlcXVlc3QodXJsLCB7XG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICB0eXBlOiAnR0VUJ1xuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgnLi9yZXF1ZXN0Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXJsLCBkYXRhKSB7XG4gIHJldHVybiByZXF1ZXN0KHVybCwge1xuICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgdHlwZTogJ1BPU1QnLFxuICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBSU1ZQID0gcmVxdWlyZSgncnN2cCcpO1xuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vLi4vYXBwJyk7XG5cbmNvbnN0IHtcbiAgYWpheCxcbiAgZXh0ZW5kXG59ID0gJDtcblxuY29uc3QgZGVmYXVsdHMgPSB7XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXJsLCBvcHRpb25zID0ge30pIHtcbiAgYXBwLnNldElzTG9hZGluZyh0cnVlKTtcblxuICByZXR1cm4gbmV3IFJTVlAuUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgY2FsbGJhY2tzID0ge1xuICAgICAgc3VjY2VzcyhyZXNwb25zZSkge1xuICAgICAgICBhcHAuc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gICAgICB9LFxuICAgICAgZXJyb3IocmVhc29uKSB7XG4gICAgICAgIGFwcC5zZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0cyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMsIGNhbGxiYWNrcywge1xuICAgICAgdXJsXG4gICAgfSk7XG5cbiAgICBhamF4KG9wdHMpO1xuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi9hcHAnKTtcbmNvbnN0IFRvYXN0ID0gcmVxdWlyZSgnLi4vZG9tL3RvYXN0Jyk7XG5cbmNvbnN0IGNoZWNrTG9hZGluZyA9ICgpID0+IHtcbiAgaWYgKGFwcC5nZXRJc0xvYWRpbmcoKSkge1xuICAgIFRvYXN0LnNob3dFcnJvclRvYXN0KCdXYWl0IHVudGlsIGl0IGNvbXBsZXRlcyBsb2FkaW5nIG9mIHByZXZpb3VzIGZpbGUuJyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgZ2V0UGFyYW1ldGVyQnlOYW1lID0gKG5hbWUpID0+IHtcbiAgY29uc3QgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgWz8mXSR7bmFtZX0oPShbXiYjXSopfCZ8I3wkKWApO1xuXG4gIGNvbnN0IHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG5cbiAgaWYgKCFyZXN1bHRzIHx8IHJlc3VsdHMubGVuZ3RoICE9PSAzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBbLCAsIGlkXSA9IHJlc3VsdHM7XG5cbiAgcmV0dXJuIGlkO1xufTtcblxuY29uc3QgZ2V0SGFzaFZhbHVlID0gKGtleSk9PiB7XG4gIGlmICgha2V5KSByZXR1cm4gbnVsbDtcbiAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKTtcbiAgY29uc3QgcGFyYW1zID0gaGFzaCA/IGhhc2guc3BsaXQoJyYnKSA6IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHBhaXIgPSBwYXJhbXNbaV0uc3BsaXQoJz0nKTtcbiAgICBpZiAocGFpclswXSA9PT0ga2V5KSB7XG4gICAgICByZXR1cm4gcGFpclsxXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBzZXRIYXNoVmFsdWUgPSAoa2V5LCB2YWx1ZSk9PiB7XG4gIGlmICgha2V5IHx8ICF2YWx1ZSkgcmV0dXJuO1xuICBjb25zdCBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpO1xuICBjb25zdCBwYXJhbXMgPSBoYXNoID8gaGFzaC5zcGxpdCgnJicpIDogW107XG5cbiAgbGV0IGZvdW5kID0gZmFsc2U7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aCAmJiAhZm91bmQ7IGkrKykge1xuICAgIGNvbnN0IHBhaXIgPSBwYXJhbXNbaV0uc3BsaXQoJz0nKTtcbiAgICBpZiAocGFpclswXSA9PT0ga2V5KSB7XG4gICAgICBwYWlyWzFdID0gdmFsdWU7XG4gICAgICBwYXJhbXNbaV0gPSBwYWlyLmpvaW4oJz0nKTtcbiAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKCFmb3VuZCkge1xuICAgIHBhcmFtcy5wdXNoKFtrZXksIHZhbHVlXS5qb2luKCc9JykpO1xuICB9XG5cbiAgY29uc3QgbmV3SGFzaCA9IHBhcmFtcy5qb2luKCcmJyk7XG4gIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gYCMke25ld0hhc2h9YDtcbn07XG5cbmNvbnN0IHJlbW92ZUhhc2hWYWx1ZSA9IChrZXkpID0+IHtcbiAgaWYgKCFrZXkpIHJldHVybjtcbiAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnN1YnN0cigxKTtcbiAgY29uc3QgcGFyYW1zID0gaGFzaCA/IGhhc2guc3BsaXQoJyYnKSA6IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcGFpciA9IHBhcmFtc1tpXS5zcGxpdCgnPScpO1xuICAgIGlmIChwYWlyWzBdID09PSBrZXkpIHtcbiAgICAgIHBhcmFtcy5zcGxpY2UoaSwgMSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBjb25zdCBuZXdIYXNoID0gcGFyYW1zLmpvaW4oJyYnKTtcbiAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBgIyR7bmV3SGFzaH1gO1xufTtcblxuY29uc3Qgc2V0UGF0aCA9IChjYXRlZ29yeSwgYWxnb3JpdGhtLCBmaWxlKSA9PiB7XG4gIGNvbnN0IHBhdGggPSBjYXRlZ29yeSA/IGNhdGVnb3J5ICsgKGFsZ29yaXRobSA/IGAvJHthbGdvcml0aG19YCArIChmaWxlID8gYC8ke2ZpbGV9YCA6ICcnKSA6ICcnKSA6ICcnO1xuICBzZXRIYXNoVmFsdWUoJ3BhdGgnLCBwYXRoKTtcbn07XG5cbmNvbnN0IGdldFBhdGggPSAoKSA9PiB7XG4gIGNvbnN0IGhhc2ggPSBnZXRIYXNoVmFsdWUoJ3BhdGgnKTtcbiAgaWYgKGhhc2gpIHtcbiAgICBjb25zdCBbIGNhdGVnb3J5LCBhbGdvcml0aG0sIGZpbGUgXSA9IGhhc2guc3BsaXQoJy8nKTtcbiAgICByZXR1cm4geyBjYXRlZ29yeSwgYWxnb3JpdGhtLCBmaWxlIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY2hlY2tMb2FkaW5nLFxuICBnZXRQYXJhbWV0ZXJCeU5hbWUsXG4gIGdldEhhc2hWYWx1ZSxcbiAgc2V0SGFzaFZhbHVlLFxuICByZW1vdmVIYXNoVmFsdWUsXG4gIHNldFBhdGgsXG4gIGdldFBhdGhcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGxvYWRBbGdvcml0aG0gPSByZXF1aXJlKCcuL2xvYWRfYWxnb3JpdGhtJyk7XG5jb25zdCBsb2FkQ2F0ZWdvcmllcyA9IHJlcXVpcmUoJy4vbG9hZF9jYXRlZ29yaWVzJyk7XG5jb25zdCBsb2FkRmlsZSA9IHJlcXVpcmUoJy4vbG9hZF9maWxlJyk7XG5jb25zdCBsb2FkU2NyYXRjaFBhcGVyID0gcmVxdWlyZSgnLi9sb2FkX3NjcmF0Y2hfcGFwZXInKTtcbmNvbnN0IHNoYXJlU2NyYXRjaFBhcGVyID0gcmVxdWlyZSgnLi9zaGFyZV9zY3JhdGNoX3BhcGVyJyk7XG5jb25zdCBsb2FkV2lraUxpc3QgPSByZXF1aXJlKCcuL2xvYWRfd2lraV9saXN0Jyk7XG5jb25zdCBsb2FkV2lraSA9IHJlcXVpcmUoJy4vbG9hZF93aWtpJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBsb2FkQWxnb3JpdGhtLFxuICBsb2FkQ2F0ZWdvcmllcyxcbiAgbG9hZEZpbGUsXG4gIGxvYWRTY3JhdGNoUGFwZXIsXG4gIHNoYXJlU2NyYXRjaFBhcGVyLFxuICBsb2FkV2lraUxpc3QsXG4gIGxvYWRXaWtpXG59OyIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZ2V0SlNPTiA9IHJlcXVpcmUoJy4vYWpheC9nZXRfanNvbicpO1xuXG5jb25zdCB7XG4gIGdldEFsZ29yaXRobURpclxufSA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKGNhdGVnb3J5LCBhbGdvcml0aG0pID0+IHtcbiAgY29uc3QgZGlyID0gZ2V0QWxnb3JpdGhtRGlyKGNhdGVnb3J5LCBhbGdvcml0aG0pO1xuICByZXR1cm4gZ2V0SlNPTihgJHtkaXJ9ZGVzYy5qc29uYCk7XG59OyIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZ2V0SlNPTiA9IHJlcXVpcmUoJy4vYWpheC9nZXRfanNvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgcmV0dXJuIGdldEpTT04oJy4vYWxnb3JpdGhtL2NhdGVnb3J5Lmpzb24nKTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBSU1ZQID0gcmVxdWlyZSgncnN2cCcpO1xuXG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi9hcHAnKTtcblxuY29uc3Qge1xuICBnZXRGaWxlRGlyLFxuICBpc1NjcmF0Y2hQYXBlclxufSA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbmNvbnN0IHtcbiAgY2hlY2tMb2FkaW5nLFxuICBzZXRQYXRoXG59ID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbmNvbnN0IGdldCA9IHJlcXVpcmUoJy4vYWpheC9nZXQnKTtcblxuY29uc3QgbG9hZERhdGFBbmRDb2RlID0gKGRpcikgPT4ge1xuICByZXR1cm4gUlNWUC5oYXNoKHtcbiAgICBkYXRhOiBnZXQoYCR7ZGlyfWRhdGEuanNgKSxcbiAgICBjb2RlOiBnZXQoYCR7ZGlyfWNvZGUuanNgKVxuICB9KTtcbn07XG5cbmNvbnN0IGxvYWRGaWxlQW5kVXBkYXRlQ29udGVudCA9IChkaXIpID0+IHtcbiAgYXBwLmdldEVkaXRvcigpLmNsZWFyQ29udGVudCgpO1xuXG4gIHJldHVybiBsb2FkRGF0YUFuZENvZGUoZGlyKS50aGVuKChjb250ZW50KSA9PiB7XG4gICAgYXBwLnVwZGF0ZUNhY2hlZEZpbGUoZGlyLCBjb250ZW50KTtcbiAgICBhcHAuZ2V0RWRpdG9yKCkuc2V0Q29udGVudChjb250ZW50KTtcbiAgfSk7XG59O1xuXG5jb25zdCBjYWNoZWRDb250ZW50RXhpc3RzID0gKGNhY2hlZEZpbGUpID0+IHtcbiAgcmV0dXJuIGNhY2hlZEZpbGUgJiZcbiAgICBjYWNoZWRGaWxlLmRhdGEgIT09IHVuZGVmaW5lZCAmJlxuICAgIGNhY2hlZEZpbGUuY29kZSAhPT0gdW5kZWZpbmVkO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSAoY2F0ZWdvcnksIGFsZ29yaXRobSwgZmlsZSwgZXhwbGFuYXRpb24pID0+IHtcbiAgcmV0dXJuIG5ldyBSU1ZQLlByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChjaGVja0xvYWRpbmcoKSkge1xuICAgICAgcmVqZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc1NjcmF0Y2hQYXBlcihjYXRlZ29yeSkpIHtcbiAgICAgICAgc2V0UGF0aChjYXRlZ29yeSwgYXBwLmdldExvYWRlZFNjcmF0Y2goKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRQYXRoKGNhdGVnb3J5LCBhbGdvcml0aG0sIGZpbGUpO1xuICAgICAgfVxuICAgICAgJCgnI2V4cGxhbmF0aW9uJykuaHRtbChleHBsYW5hdGlvbik7XG5cbiAgICAgIGxldCBkaXIgPSBnZXRGaWxlRGlyKGNhdGVnb3J5LCBhbGdvcml0aG0sIGZpbGUpO1xuICAgICAgYXBwLnNldExhc3RGaWxlVXNlZChkaXIpO1xuICAgICAgY29uc3QgY2FjaGVkRmlsZSA9IGFwcC5nZXRDYWNoZWRGaWxlKGRpcik7XG5cbiAgICAgIGlmIChjYWNoZWRDb250ZW50RXhpc3RzKGNhY2hlZEZpbGUpKSB7XG4gICAgICAgIGFwcC5nZXRFZGl0b3IoKS5zZXRDb250ZW50KGNhY2hlZEZpbGUpO1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkRmlsZUFuZFVwZGF0ZUNvbnRlbnQoZGlyKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBSU1ZQID0gcmVxdWlyZSgncnN2cCcpO1xuY29uc3QgYXBwID0gcmVxdWlyZSgnLi4vYXBwJyk7XG5cbmNvbnN0IHtcbiAgZ2V0RmlsZURpclxufSA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbmNvbnN0IGdldEpTT04gPSByZXF1aXJlKCcuL2FqYXgvZ2V0X2pzb24nKTtcbmNvbnN0IGxvYWRBbGdvcml0aG0gPSByZXF1aXJlKCcuL2xvYWRfYWxnb3JpdGhtJyk7XG5cbmNvbnN0IGV4dHJhY3RHaXN0Q29kZSA9IChmaWxlcywgbmFtZSkgPT4gZmlsZXNbYCR7bmFtZX0uanNgXS5jb250ZW50O1xuXG5tb2R1bGUuZXhwb3J0cyA9IChnaXN0SUQpID0+IHtcbiAgcmV0dXJuIG5ldyBSU1ZQLlByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGFwcC5zZXRMb2FkZWRTY3JhdGNoKGdpc3RJRCk7XG5cbiAgICBnZXRKU09OKGBodHRwczovL2FwaS5naXRodWIuY29tL2dpc3RzLyR7Z2lzdElEfWApLnRoZW4oKHtcbiAgICAgIGZpbGVzXG4gICAgfSkgPT4ge1xuXG4gICAgICBjb25zdCBjYXRlZ29yeSA9ICdzY3JhdGNoJztcbiAgICAgIGNvbnN0IGFsZ29yaXRobSA9IGdpc3RJRDtcblxuICAgICAgbG9hZEFsZ29yaXRobShjYXRlZ29yeSwgYWxnb3JpdGhtKS50aGVuKChkYXRhKSA9PiB7XG5cbiAgICAgICAgY29uc3QgYWxnb0RhdGEgPSBleHRyYWN0R2lzdENvZGUoZmlsZXMsICdkYXRhJyk7XG4gICAgICAgIGNvbnN0IGFsZ29Db2RlID0gZXh0cmFjdEdpc3RDb2RlKGZpbGVzLCAnY29kZScpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBzY3JhdGNoIHBhcGVyIGFsZ28gY29kZSB3aXRoIHRoZSBsb2FkZWQgZ2lzdCBjb2RlXG4gICAgICAgIGNvbnN0IGRpciA9IGdldEZpbGVEaXIoY2F0ZWdvcnksIGFsZ29yaXRobSwgJ3NjcmF0Y2hfcGFwZXInKTtcbiAgICAgICAgYXBwLnVwZGF0ZUNhY2hlZEZpbGUoZGlyLCB7XG4gICAgICAgICAgZGF0YTogYWxnb0RhdGEsXG4gICAgICAgICAgY29kZTogYWxnb0NvZGUsXG4gICAgICAgICAgJ0NSRURJVC5tZCc6ICdTaGFyZWQgYnkgYW4gYW5vbnltb3VzIHVzZXIgZnJvbSBodHRwOi8vcGFya2pzODE0LmdpdGh1Yi5pby9BbGdvcml0aG1WaXN1YWxpemVyJ1xuICAgICAgICB9KTtcblxuICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgICBhbGdvcml0aG0sXG4gICAgICAgICAgZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxufTsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGdldCA9IHJlcXVpcmUoJy4vYWpheC9nZXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSAod2lraSkgPT4ge1xuICByZXR1cm4gZ2V0KGAuL3dpa2kvJHt3aWtpfS5tZGApO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGdldEpTT04gPSByZXF1aXJlKCcuL2FqYXgvZ2V0X2pzb24nKTtcblxubW9kdWxlLmV4cG9ydHMgPSAoKSA9PiB7XG4gIHJldHVybiBnZXRKU09OKCcuL3dpa2kuanNvbicpO1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IFJTVlAgPSByZXF1aXJlKCdyc3ZwJyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi9hcHAnKTtcblxuY29uc3QgcG9zdEpTT04gPSByZXF1aXJlKCcuL2FqYXgvcG9zdF9qc29uJyk7XG5cbmNvbnN0IHtcbiAgc2V0UGF0aFxufSA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBSU1ZQLlByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgY29uc3Qge1xuICAgICAgZGF0YUVkaXRvcixcbiAgICAgIGNvZGVFZGl0b3JcbiAgICB9ID0gYXBwLmdldEVkaXRvcigpO1xuXG4gICAgY29uc3QgZ2lzdCA9IHtcbiAgICAgICdkZXNjcmlwdGlvbic6ICd0ZW1wJyxcbiAgICAgICdwdWJsaWMnOiB0cnVlLFxuICAgICAgJ2ZpbGVzJzoge1xuICAgICAgICAnZGF0YS5qcyc6IHtcbiAgICAgICAgICAnY29udGVudCc6IGRhdGFFZGl0b3IuZ2V0VmFsdWUoKVxuICAgICAgICB9LFxuICAgICAgICAnY29kZS5qcyc6IHtcbiAgICAgICAgICAnY29udGVudCc6IGNvZGVFZGl0b3IuZ2V0VmFsdWUoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHBvc3RKU09OKCdodHRwczovL2FwaS5naXRodWIuY29tL2dpc3RzJywgZ2lzdCkudGhlbigoe1xuICAgICAgaWRcbiAgICB9KSA9PiB7XG4gICAgICBhcHAuc2V0TG9hZGVkU2NyYXRjaChpZCk7XG4gICAgICBzZXRQYXRoKCdzY3JhdGNoJywgaWQpO1xuICAgICAgY29uc3Qge1xuICAgICAgICBocmVmXG4gICAgICB9ID0gbG9jYXRpb247XG4gICAgICAkKCcjYWxnb3JpdGhtJykuaHRtbCgnU2hhcmVkJyk7XG4gICAgICByZXNvbHZlKGhyZWYpO1xuICAgIH0pO1xuICB9KTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBUcmFjZXJNYW5hZ2VyID0gcmVxdWlyZSgnLi9tYW5hZ2VyJyk7XG5jb25zdCBUcmFjZXIgPSByZXF1aXJlKCcuLi9tb2R1bGUvdHJhY2VyL3RyYWNlcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblxuICBpbml0KCkge1xuICAgIGNvbnN0IHRtID0gbmV3IFRyYWNlck1hbmFnZXIoKTtcbiAgICBUcmFjZXIucHJvdG90eXBlLm1hbmFnZXIgPSB0bTtcbiAgICByZXR1cm4gdG07XG4gIH1cblxufTsiLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGFwcCA9IHJlcXVpcmUoJy4uL2FwcCcpO1xuY29uc3QgTW9kdWxlQ29udGFpbmVyID0gcmVxdWlyZSgnLi4vZG9tL21vZHVsZV9jb250YWluZXInKTtcbmNvbnN0IFRvcE1lbnUgPSByZXF1aXJlKCcuLi9kb20vdG9wX21lbnUnKTtcblxuY29uc3Qge1xuICBlYWNoLFxuICBleHRlbmQsXG4gIGdyZXBcbn0gPSAkO1xuXG5jb25zdCBzdGVwTGltaXQgPSAxZTY7XG5cbmNvbnN0IFRyYWNlck1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMudGltZXIgPSBudWxsO1xuICB0aGlzLnBhdXNlID0gZmFsc2U7XG4gIHRoaXMuY2Fwc3VsZXMgPSBbXTtcbiAgdGhpcy5pbnRlcnZhbCA9IDUwMDtcbn07XG5cblRyYWNlck1hbmFnZXIucHJvdG90eXBlID0ge1xuXG4gIGFkZCh0cmFjZXIpIHtcblxuICAgIGNvbnN0ICRjb250YWluZXIgPSBNb2R1bGVDb250YWluZXIuY3JlYXRlKCk7XG5cbiAgICBjb25zdCBjYXBzdWxlID0ge1xuICAgICAgbW9kdWxlOiB0cmFjZXIubW9kdWxlLFxuICAgICAgdHJhY2VyLFxuICAgICAgYWxsb2NhdGVkOiB0cnVlLFxuICAgICAgZGVmYXVsdE5hbWU6IG51bGwsXG4gICAgICAkY29udGFpbmVyLFxuICAgICAgaXNOZXc6IHRydWVcbiAgICB9O1xuXG4gICAgdGhpcy5jYXBzdWxlcy5wdXNoKGNhcHN1bGUpO1xuICAgIHJldHVybiBjYXBzdWxlO1xuICB9LFxuXG4gIGFsbG9jYXRlKG5ld1RyYWNlcikge1xuICAgIGxldCBzZWxlY3RlZENhcHN1bGUgPSBudWxsO1xuICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICBlYWNoKHRoaXMuY2Fwc3VsZXMsIChpLCBjYXBzdWxlKSA9PiB7XG4gICAgICBpZiAoY2Fwc3VsZS5tb2R1bGUgPT09IG5ld1RyYWNlci5tb2R1bGUpIHtcbiAgICAgICAgY291bnQrKztcbiAgICAgICAgaWYgKCFjYXBzdWxlLmFsbG9jYXRlZCkge1xuICAgICAgICAgIGNhcHN1bGUudHJhY2VyID0gbmV3VHJhY2VyO1xuICAgICAgICAgIGNhcHN1bGUuYWxsb2NhdGVkID0gdHJ1ZTtcbiAgICAgICAgICBjYXBzdWxlLmlzTmV3ID0gZmFsc2U7XG4gICAgICAgICAgc2VsZWN0ZWRDYXBzdWxlID0gY2Fwc3VsZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChzZWxlY3RlZENhcHN1bGUgPT09IG51bGwpIHtcbiAgICAgIGNvdW50Kys7XG4gICAgICBzZWxlY3RlZENhcHN1bGUgPSB0aGlzLmFkZChuZXdUcmFjZXIpO1xuICAgIH1cblxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IG5ld1RyYWNlci5tb2R1bGUuZ2V0Q2xhc3NOYW1lKCk7XG4gICAgc2VsZWN0ZWRDYXBzdWxlLmRlZmF1bHROYW1lID0gYCR7Y2xhc3NOYW1lfSAke2NvdW50fWA7XG4gICAgc2VsZWN0ZWRDYXBzdWxlLm9yZGVyID0gdGhpcy5vcmRlcisrO1xuICAgIHJldHVybiBzZWxlY3RlZENhcHN1bGU7XG4gIH0sXG5cbiAgZGVhbGxvY2F0ZUFsbCgpIHtcbiAgICB0aGlzLm9yZGVyID0gMDtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgZWFjaCh0aGlzLmNhcHN1bGVzLCAoaSwgY2Fwc3VsZSkgPT4ge1xuICAgICAgY2Fwc3VsZS5hbGxvY2F0ZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgfSxcblxuICByZW1vdmVVbmFsbG9jYXRlZCgpIHtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5jYXBzdWxlcyA9IGdyZXAodGhpcy5jYXBzdWxlcywgKGNhcHN1bGUpID0+IHtcbiAgICAgIGxldCByZW1vdmVkID0gIWNhcHN1bGUuYWxsb2NhdGVkO1xuXG4gICAgICBpZiAoY2Fwc3VsZS5pc05ldyB8fCByZW1vdmVkKSB7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgICAgY2Fwc3VsZS4kY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gIXJlbW92ZWQ7XG4gICAgfSk7XG5cbiAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5wbGFjZSgpO1xuICAgIH1cbiAgfSxcblxuICBwbGFjZSgpIHtcbiAgICBjb25zdCB7XG4gICAgICBjYXBzdWxlc1xuICAgIH0gPSB0aGlzO1xuXG4gICAgZWFjaChjYXBzdWxlcywgKGksIGNhcHN1bGUpID0+IHtcbiAgICAgIGxldCB3aWR0aCA9IDEwMDtcbiAgICAgIGxldCBoZWlnaHQgPSAoMTAwIC8gY2Fwc3VsZXMubGVuZ3RoKTtcbiAgICAgIGxldCB0b3AgPSBoZWlnaHQgKiBjYXBzdWxlLm9yZGVyO1xuXG4gICAgICBjYXBzdWxlLiRjb250YWluZXIuY3NzKHtcbiAgICAgICAgdG9wOiBgJHt0b3B9JWAsXG4gICAgICAgIHdpZHRoOiBgJHt3aWR0aH0lYCxcbiAgICAgICAgaGVpZ2h0OiBgMTAwJWBcbiAgICAgIH0pO1xuXG4gICAgICBjYXBzdWxlLnRyYWNlci5yZXNpemUoKTtcbiAgICB9KTtcbiAgfSxcblxuICByZXNpemUoKSB7XG4gICAgdGhpcy5jb21tYW5kKCdyZXNpemUnKTtcbiAgfSxcblxuICBpc1BhdXNlKCkge1xuICAgIHJldHVybiB0aGlzLnBhdXNlO1xuICB9LFxuXG4gIHNldEludGVydmFsKGludGVydmFsKSB7XG4gICAgVG9wTWVudS5zZXRJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sXG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy50cmFjZXMgPSBbXTtcbiAgICB0aGlzLnRyYWNlSW5kZXggPSAtMTtcbiAgICB0aGlzLnN0ZXBDbnQgPSAwO1xuICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gICAgfVxuICAgIHRoaXMuY29tbWFuZCgnY2xlYXInKTtcbiAgfSxcblxuICBwdXNoU3RlcChjYXBzdWxlLCBzdGVwKSB7XG4gICAgaWYgKHRoaXMuc3RlcENudCsrID4gc3RlcExpbWl0KSB0aHJvdyBcIlRyYWNlcidzIHN0YWNrIG92ZXJmbG93XCI7XG4gICAgbGV0IGxlbiA9IHRoaXMudHJhY2VzLmxlbmd0aDtcbiAgICBpZiAobGVuID09IDApIGxlbiArPSB0aGlzLm5ld1N0ZXAoKTtcbiAgICBjb25zdCBsYXN0ID0gdGhpcy50cmFjZXNbbGVuIC0gMV07XG4gICAgbGFzdC5wdXNoKGV4dGVuZChzdGVwLCB7XG4gICAgICBjYXBzdWxlXG4gICAgfSkpO1xuICB9LFxuXG4gIG5ld1N0ZXAobGluZSA9IC0xKSB7XG4gICAgbGV0IGxlbiA9IHRoaXMudHJhY2VzLmxlbmd0aDtcbiAgICBpZiAobGVuID4gMCAmJiB+bGluZSkge1xuICAgICAgdGhpcy50cmFjZXNbbGVuIC0gMV0ucHVzaChsaW5lKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudHJhY2VzLnB1c2goW10pO1xuICB9LFxuXG4gIHBhdXNlU3RlcCgpIHtcbiAgICBpZiAodGhpcy50cmFjZUluZGV4IDwgMCkgcmV0dXJuO1xuICAgIHRoaXMucGF1c2UgPSB0cnVlO1xuICAgIGlmICh0aGlzLnRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7XG4gICAgfVxuICAgIFRvcE1lbnUuYWN0aXZhdGVCdG5QYXVzZSgpO1xuICB9LFxuXG4gIHJlc3VtZVN0ZXAoKSB7XG4gICAgdGhpcy5wYXVzZSA9IGZhbHNlO1xuICAgIHRoaXMuc3RlcCh0aGlzLnRyYWNlSW5kZXggKyAxKTtcbiAgICBUb3BNZW51LmRlYWN0aXZhdGVCdG5QYXVzZSgpO1xuICB9LFxuXG4gIHN0ZXAoaSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgdHJhY2VyID0gdGhpcztcblxuICAgIGlmIChpc05hTihpKSB8fCBpID49IHRoaXMudHJhY2VzLmxlbmd0aCB8fCBpIDwgMCkgcmV0dXJuO1xuXG4gICAgdGhpcy50cmFjZUluZGV4ID0gaTtcbiAgICBjb25zdCB0cmFjZSA9IHRoaXMudHJhY2VzW2ldO1xuICAgIHRyYWNlLmZvckVhY2goKHN0ZXApID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygc3RlcCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgYXBwLmdldEVkaXRvcigpLmhpZ2hsaWdodExpbmUoc3RlcCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHN0ZXAuY2Fwc3VsZS50cmFjZXIucHJvY2Vzc1N0ZXAoc3RlcCwgb3B0aW9ucyk7XG4gICAgfSk7XG5cbiAgICBpZiAoIW9wdGlvbnMudmlydHVhbCkge1xuICAgICAgdGhpcy5jb21tYW5kKCdyZWZyZXNoJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGF1c2UpIHJldHVybjtcblxuICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghdHJhY2VyLm5leHRTdGVwKG9wdGlvbnMpKSB7XG4gICAgICAgIFRvcE1lbnUucmVzZXRUb3BNZW51QnV0dG9ucygpO1xuICAgICAgfVxuICAgIH0sIHRoaXMuaW50ZXJ2YWwpO1xuICB9LFxuXG4gIHByZXZTdGVwKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuY29tbWFuZCgnY2xlYXInKTtcblxuICAgIGNvbnN0IGZpbmFsSW5kZXggPSB0aGlzLnRyYWNlSW5kZXggLSAxO1xuICAgIGlmIChmaW5hbEluZGV4IDwgMCkge1xuICAgICAgdGhpcy50cmFjZUluZGV4ID0gLTE7XG4gICAgICB0aGlzLmNvbW1hbmQoJ3JlZnJlc2gnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbmFsSW5kZXg7IGkrKykge1xuICAgICAgdGhpcy5zdGVwKGksIGV4dGVuZChvcHRpb25zLCB7XG4gICAgICAgIHZpcnR1YWw6IHRydWVcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICB0aGlzLnN0ZXAoZmluYWxJbmRleCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgbmV4dFN0ZXAob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgZmluYWxJbmRleCA9IHRoaXMudHJhY2VJbmRleCArIDE7XG4gICAgaWYgKGZpbmFsSW5kZXggPj0gdGhpcy50cmFjZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLnRyYWNlSW5kZXggPSB0aGlzLnRyYWNlcy5sZW5ndGggLSAxO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc3RlcChmaW5hbEluZGV4LCBvcHRpb25zKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICB2aXN1YWxpemUoKSB7XG4gICAgdGhpcy50cmFjZUluZGV4ID0gLTE7XG4gICAgdGhpcy5yZXN1bWVTdGVwKCk7XG4gIH0sXG5cbiAgY29tbWFuZCguLi5hcmdzKSB7XG4gICAgY29uc3QgZnVuY3Rpb25OYW1lID0gYXJncy5zaGlmdCgpO1xuICAgIGVhY2godGhpcy5jYXBzdWxlcywgKGksIGNhcHN1bGUpID0+IHtcbiAgICAgIGlmIChjYXBzdWxlLmFsbG9jYXRlZCkge1xuICAgICAgICBjYXBzdWxlLnRyYWNlci5tb2R1bGUucHJvdG90eXBlW2Z1bmN0aW9uTmFtZV0uYXBwbHkoY2Fwc3VsZS50cmFjZXIsIGFyZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIGZpbmRPd25lcihjb250YWluZXIpIHtcbiAgICBsZXQgc2VsZWN0ZWRDYXBzdWxlID0gbnVsbDtcbiAgICBlYWNoKHRoaXMuY2Fwc3VsZXMsIChpLCBjYXBzdWxlKSA9PiB7XG4gICAgICBpZiAoY2Fwc3VsZS4kY29udGFpbmVyWzBdID09PSBjb250YWluZXIpIHtcbiAgICAgICAgc2VsZWN0ZWRDYXBzdWxlID0gY2Fwc3VsZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzZWxlY3RlZENhcHN1bGUudHJhY2VyO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRyYWNlck1hbmFnZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHtcbiAgcGFyc2Vcbn0gPSBKU09OO1xuXG5jb25zdCBmcm9tSlNPTiA9IChvYmopID0+IHtcbiAgcmV0dXJuIHBhcnNlKG9iaiwgKGtleSwgdmFsdWUpID0+IHtcbiAgICByZXR1cm4gdmFsdWUgPT09ICdJbmZpbml0eScgPyBJbmZpbml0eSA6IHZhbHVlO1xuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnJvbUpTT047XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHRvSlNPTiA9IHJlcXVpcmUoJy4vdG9fanNvbicpO1xuY29uc3QgZnJvbUpTT04gPSByZXF1aXJlKCcuL2Zyb21fanNvbicpO1xuY29uc3QgcmVmaW5lQnlUeXBlID0gcmVxdWlyZSgnLi9yZWZpbmVfYnlfdHlwZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdG9KU09OLFxuICBmcm9tSlNPTixcbiAgcmVmaW5lQnlUeXBlXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCByZWZpbmVCeVR5cGUgPSAoaXRlbSkgPT4ge1xuICBzd2l0Y2ggKHR5cGVvZihpdGVtKSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gcmVmaW5lTnVtYmVyKGl0ZW0pO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHJlZmluZUJvb2xlYW4oaXRlbSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiByZWZpbmVTdHJpbmcoaXRlbSk7XG4gIH1cbn07XG5cbmNvbnN0IHJlZmluZVN0cmluZyA9IChzdHIpID0+IHtcbiAgcmV0dXJuIHN0ciA9PT0gJycgPyAnICcgOiBzdHI7XG59O1xuXG5jb25zdCByZWZpbmVOdW1iZXIgPSAobnVtKSA9PiB7XG4gIHJldHVybiBudW0gPT09IEluZmluaXR5ID8gJ+KInicgOiBudW07XG59O1xuXG5jb25zdCByZWZpbmVCb29sZWFuID0gKGJvb2wpID0+IHtcbiAgcmV0dXJuIGJvb2wgPyAnVCcgOiAnRic7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlZmluZUJ5VHlwZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3Qge1xuICBzdHJpbmdpZnlcbn0gPSBKU09OO1xuXG5jb25zdCB0b0pTT04gPSAob2JqKSA9PiB7XG4gIHJldHVybiBzdHJpbmdpZnkob2JqLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gSW5maW5pdHkgPyAnSW5maW5pdHknIDogdmFsdWU7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB0b0pTT047XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGlzU2NyYXRjaFBhcGVyID0gKGNhdGVnb3J5LCBhbGdvcml0aG0pID0+IHtcbiAgcmV0dXJuIGNhdGVnb3J5ID09ICdzY3JhdGNoJztcbn07XG5cbmNvbnN0IGdldEFsZ29yaXRobURpciA9IChjYXRlZ29yeSwgYWxnb3JpdGhtKSA9PiB7XG4gIGlmIChpc1NjcmF0Y2hQYXBlcihjYXRlZ29yeSkpIHJldHVybiAnLi9hbGdvcml0aG0vc2NyYXRjaF9wYXBlci8nO1xuICByZXR1cm4gYC4vYWxnb3JpdGhtLyR7Y2F0ZWdvcnl9LyR7YWxnb3JpdGhtfS9gO1xufTtcblxuY29uc3QgZ2V0RmlsZURpciA9IChjYXRlZ29yeSwgYWxnb3JpdGhtLCBmaWxlKSA9PiB7XG4gIGlmIChpc1NjcmF0Y2hQYXBlcihjYXRlZ29yeSkpIHJldHVybiAnLi9hbGdvcml0aG0vc2NyYXRjaF9wYXBlci8nO1xuICByZXR1cm4gYC4vYWxnb3JpdGhtLyR7Y2F0ZWdvcnl9LyR7YWxnb3JpdGhtfS8ke2ZpbGV9L2A7XG59O1xuXG5jb25zdCByZW5kZXJNYXRoSmF4ID0gKCkgPT57XG4gICAgTWF0aEpheC5IdWIuUXVldWUoW1wiVHlwZXNldFwiLE1hdGhKYXguSHViXSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTY3JhdGNoUGFwZXIsXG4gIGdldEFsZ29yaXRobURpcixcbiAgZ2V0RmlsZURpcixcbiAgcmVuZGVyTWF0aEpheFxufTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKiFcbiAqIEBvdmVydmlldyBSU1ZQIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTYgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS90aWxkZWlvL3JzdnAuanMvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgMy42LjFcbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuXHR0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBmYWN0b3J5KGV4cG9ydHMpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnZXhwb3J0cyddLCBmYWN0b3J5KSA6XG5cdChmYWN0b3J5KChnbG9iYWwuUlNWUCA9IGdsb2JhbC5SU1ZQIHx8IHt9KSkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMpIHsgJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBpbmRleE9mKGNhbGxiYWNrcywgY2FsbGJhY2spIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGNhbGxiYWNrc1tpXSA9PT0gY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gY2FsbGJhY2tzRm9yKG9iamVjdCkge1xuICB2YXIgY2FsbGJhY2tzID0gb2JqZWN0Ll9wcm9taXNlQ2FsbGJhY2tzO1xuXG4gIGlmICghY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gb2JqZWN0Ll9wcm9taXNlQ2FsbGJhY2tzID0ge307XG4gIH1cblxuICByZXR1cm4gY2FsbGJhY2tzO1xufVxuXG4vKipcbiAgQGNsYXNzIFJTVlAuRXZlbnRUYXJnZXRcbiovXG52YXIgRXZlbnRUYXJnZXQgPSB7XG5cbiAgLyoqXG4gICAgYFJTVlAuRXZlbnRUYXJnZXQubWl4aW5gIGV4dGVuZHMgYW4gb2JqZWN0IHdpdGggRXZlbnRUYXJnZXQgbWV0aG9kcy4gRm9yXG4gICAgRXhhbXBsZTpcbiAgICAgYGBgamF2YXNjcmlwdFxuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgUlNWUC5FdmVudFRhcmdldC5taXhpbihvYmplY3QpO1xuICAgICBvYmplY3Qub24oJ2ZpbmlzaGVkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIC8vIGhhbmRsZSBldmVudFxuICAgIH0pO1xuICAgICBvYmplY3QudHJpZ2dlcignZmluaXNoZWQnLCB7IGRldGFpbDogdmFsdWUgfSk7XG4gICAgYGBgXG4gICAgIGBFdmVudFRhcmdldC5taXhpbmAgYWxzbyB3b3JrcyB3aXRoIHByb3RvdHlwZXM6XG4gICAgIGBgYGphdmFzY3JpcHRcbiAgICBsZXQgUGVyc29uID0gZnVuY3Rpb24oKSB7fTtcbiAgICBSU1ZQLkV2ZW50VGFyZ2V0Lm1peGluKFBlcnNvbi5wcm90b3R5cGUpO1xuICAgICBsZXQgeWVodWRhID0gbmV3IFBlcnNvbigpO1xuICAgIGxldCB0b20gPSBuZXcgUGVyc29uKCk7XG4gICAgIHllaHVkYS5vbigncG9rZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICBjb25zb2xlLmxvZygnWWVodWRhIHNheXMgT1cnKTtcbiAgICB9KTtcbiAgICAgdG9tLm9uKCdwb2tlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdUb20gc2F5cyBPVycpO1xuICAgIH0pO1xuICAgICB5ZWh1ZGEudHJpZ2dlcigncG9rZScpO1xuICAgIHRvbS50cmlnZ2VyKCdwb2tlJyk7XG4gICAgYGBgXG4gICAgIEBtZXRob2QgbWl4aW5cbiAgICBAZm9yIFJTVlAuRXZlbnRUYXJnZXRcbiAgICBAcHJpdmF0ZVxuICAgIEBwYXJhbSB7T2JqZWN0fSBvYmplY3Qgb2JqZWN0IHRvIGV4dGVuZCB3aXRoIEV2ZW50VGFyZ2V0IG1ldGhvZHNcbiAgKi9cbiAgbWl4aW46IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICBvYmplY3RbJ29uJ10gPSB0aGlzWydvbiddO1xuICAgIG9iamVjdFsnb2ZmJ10gPSB0aGlzWydvZmYnXTtcbiAgICBvYmplY3RbJ3RyaWdnZXInXSA9IHRoaXNbJ3RyaWdnZXInXTtcbiAgICBvYmplY3QuX3Byb21pc2VDYWxsYmFja3MgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSxcblxuXG4gIC8qKlxuICAgIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW4gYGV2ZW50TmFtZWAgaXMgdHJpZ2dlcmVkXG4gICAgIGBgYGphdmFzY3JpcHRcbiAgICBvYmplY3Qub24oJ2V2ZW50JywgZnVuY3Rpb24oZXZlbnRJbmZvKXtcbiAgICAgIC8vIGhhbmRsZSB0aGUgZXZlbnRcbiAgICB9KTtcbiAgICAgb2JqZWN0LnRyaWdnZXIoJ2V2ZW50Jyk7XG4gICAgYGBgXG4gICAgIEBtZXRob2Qgb25cbiAgICBAZm9yIFJTVlAuRXZlbnRUYXJnZXRcbiAgICBAcHJpdmF0ZVxuICAgIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gbGlzdGVuIGZvclxuICAgIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICovXG4gIG9uOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHZhciBhbGxDYWxsYmFja3MgPSBjYWxsYmFja3NGb3IodGhpcyksXG4gICAgICAgIGNhbGxiYWNrcyA9IHZvaWQgMDtcblxuICAgIGNhbGxiYWNrcyA9IGFsbENhbGxiYWNrc1tldmVudE5hbWVdO1xuXG4gICAgaWYgKCFjYWxsYmFja3MpIHtcbiAgICAgIGNhbGxiYWNrcyA9IGFsbENhbGxiYWNrc1tldmVudE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgaWYgKGluZGV4T2YoY2FsbGJhY2tzLCBjYWxsYmFjaykgPT09IC0xKSB7XG4gICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICB9LFxuXG5cbiAgLyoqXG4gICAgWW91IGNhbiB1c2UgYG9mZmAgdG8gc3RvcCBmaXJpbmcgYSBwYXJ0aWN1bGFyIGNhbGxiYWNrIGZvciBhbiBldmVudDpcbiAgICAgYGBgamF2YXNjcmlwdFxuICAgIGZ1bmN0aW9uIGRvU3R1ZmYoKSB7IC8vIGRvIHN0dWZmISB9XG4gICAgb2JqZWN0Lm9uKCdzdHVmZicsIGRvU3R1ZmYpO1xuICAgICBvYmplY3QudHJpZ2dlcignc3R1ZmYnKTsgLy8gZG9TdHVmZiB3aWxsIGJlIGNhbGxlZFxuICAgICAvLyBVbnJlZ2lzdGVyIE9OTFkgdGhlIGRvU3R1ZmYgY2FsbGJhY2tcbiAgICBvYmplY3Qub2ZmKCdzdHVmZicsIGRvU3R1ZmYpO1xuICAgIG9iamVjdC50cmlnZ2VyKCdzdHVmZicpOyAvLyBkb1N0dWZmIHdpbGwgTk9UIGJlIGNhbGxlZFxuICAgIGBgYFxuICAgICBJZiB5b3UgZG9uJ3QgcGFzcyBhIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYG9mZmAsIEFMTCBjYWxsYmFja3MgZm9yIHRoZVxuICAgIGV2ZW50IHdpbGwgbm90IGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGV2ZW50IGZpcmVzLiBGb3IgZXhhbXBsZTpcbiAgICAgYGBgamF2YXNjcmlwdFxuICAgIGxldCBjYWxsYmFjazEgPSBmdW5jdGlvbigpe307XG4gICAgbGV0IGNhbGxiYWNrMiA9IGZ1bmN0aW9uKCl7fTtcbiAgICAgb2JqZWN0Lm9uKCdzdHVmZicsIGNhbGxiYWNrMSk7XG4gICAgb2JqZWN0Lm9uKCdzdHVmZicsIGNhbGxiYWNrMik7XG4gICAgIG9iamVjdC50cmlnZ2VyKCdzdHVmZicpOyAvLyBjYWxsYmFjazEgYW5kIGNhbGxiYWNrMiB3aWxsIGJlIGV4ZWN1dGVkLlxuICAgICBvYmplY3Qub2ZmKCdzdHVmZicpO1xuICAgIG9iamVjdC50cmlnZ2VyKCdzdHVmZicpOyAvLyBjYWxsYmFjazEgYW5kIGNhbGxiYWNrMiB3aWxsIG5vdCBiZSBleGVjdXRlZCFcbiAgICBgYGBcbiAgICAgQG1ldGhvZCBvZmZcbiAgICBAZm9yIFJTVlAuRXZlbnRUYXJnZXRcbiAgICBAcHJpdmF0ZVxuICAgIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgZXZlbnQgdG8gc3RvcCBsaXN0ZW5pbmcgdG9cbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBvcHRpb25hbCBhcmd1bWVudC4gSWYgZ2l2ZW4sIG9ubHkgdGhlIGZ1bmN0aW9uXG4gICAgZ2l2ZW4gd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGV2ZW50J3MgY2FsbGJhY2sgcXVldWUuIElmIG5vIGBjYWxsYmFja2BcbiAgICBhcmd1bWVudCBpcyBnaXZlbiwgYWxsIGNhbGxiYWNrcyB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZXZlbnQncyBjYWxsYmFja1xuICAgIHF1ZXVlLlxuICAqL1xuICBvZmY6IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGFsbENhbGxiYWNrcyA9IGNhbGxiYWNrc0Zvcih0aGlzKSxcbiAgICAgICAgY2FsbGJhY2tzID0gdm9pZCAwLFxuICAgICAgICBpbmRleCA9IHZvaWQgMDtcblxuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIGFsbENhbGxiYWNrc1tldmVudE5hbWVdID0gW107XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FsbGJhY2tzID0gYWxsQ2FsbGJhY2tzW2V2ZW50TmFtZV07XG5cbiAgICBpbmRleCA9IGluZGV4T2YoY2FsbGJhY2tzLCBjYWxsYmFjayk7XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH0sXG5cblxuICAvKipcbiAgICBVc2UgYHRyaWdnZXJgIHRvIGZpcmUgY3VzdG9tIGV2ZW50cy4gRm9yIGV4YW1wbGU6XG4gICAgIGBgYGphdmFzY3JpcHRcbiAgICBvYmplY3Qub24oJ2ZvbycsIGZ1bmN0aW9uKCl7XG4gICAgICBjb25zb2xlLmxvZygnZm9vIGV2ZW50IGhhcHBlbmVkIScpO1xuICAgIH0pO1xuICAgIG9iamVjdC50cmlnZ2VyKCdmb28nKTtcbiAgICAvLyAnZm9vIGV2ZW50IGhhcHBlbmVkIScgbG9nZ2VkIHRvIHRoZSBjb25zb2xlXG4gICAgYGBgXG4gICAgIFlvdSBjYW4gYWxzbyBwYXNzIGEgdmFsdWUgYXMgYSBzZWNvbmQgYXJndW1lbnQgdG8gYHRyaWdnZXJgIHRoYXQgd2lsbCBiZVxuICAgIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byBhbGwgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgZXZlbnQ6XG4gICAgIGBgYGphdmFzY3JpcHRcbiAgICBvYmplY3Qub24oJ2ZvbycsIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGNvbnNvbGUubG9nKHZhbHVlLm5hbWUpO1xuICAgIH0pO1xuICAgICBvYmplY3QudHJpZ2dlcignZm9vJywgeyBuYW1lOiAnYmFyJyB9KTtcbiAgICAvLyAnYmFyJyBsb2dnZWQgdG8gdGhlIGNvbnNvbGVcbiAgICBgYGBcbiAgICAgQG1ldGhvZCB0cmlnZ2VyXG4gICAgQGZvciBSU1ZQLkV2ZW50VGFyZ2V0XG4gICAgQHByaXZhdGVcbiAgICBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGJlIHRyaWdnZXJlZFxuICAgIEBwYXJhbSB7Kn0gb3B0aW9ucyBvcHRpb25hbCB2YWx1ZSB0byBiZSBwYXNzZWQgdG8gYW55IGV2ZW50IGhhbmRsZXJzIGZvclxuICAgIHRoZSBnaXZlbiBgZXZlbnROYW1lYFxuICAqL1xuICB0cmlnZ2VyOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBvcHRpb25zLCBsYWJlbCkge1xuICAgIHZhciBhbGxDYWxsYmFja3MgPSBjYWxsYmFja3NGb3IodGhpcyksXG4gICAgICAgIGNhbGxiYWNrcyA9IHZvaWQgMCxcbiAgICAgICAgY2FsbGJhY2sgPSB2b2lkIDA7XG5cbiAgICBpZiAoY2FsbGJhY2tzID0gYWxsQ2FsbGJhY2tzW2V2ZW50TmFtZV0pIHtcbiAgICAgIC8vIERvbid0IGNhY2hlIHRoZSBjYWxsYmFja3MubGVuZ3RoIHNpbmNlIGl0IG1heSBncm93XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXTtcblxuICAgICAgICBjYWxsYmFjayhvcHRpb25zLCBsYWJlbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgY29uZmlnID0ge1xuICBpbnN0cnVtZW50OiBmYWxzZVxufTtcblxuRXZlbnRUYXJnZXRbJ21peGluJ10oY29uZmlnKTtcblxuZnVuY3Rpb24gY29uZmlndXJlKG5hbWUsIHZhbHVlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgY29uZmlnW25hbWVdID0gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbmZpZ1tuYW1lXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cblxuZnVuY3Rpb24gaXNNYXliZVRoZW5hYmxlKHgpIHtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgdHlwZW9mIHggPT09ICdvYmplY3QnO1xufVxuXG52YXIgX2lzQXJyYXkgPSB2b2lkIDA7XG5pZiAoQXJyYXkuaXNBcnJheSkge1xuICBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG59IGVsc2Uge1xuICBfaXNBcnJheSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcbn1cblxudmFyIGlzQXJyYXkgPSBfaXNBcnJheTtcblxuLy8gRGF0ZS5ub3cgaXMgbm90IGF2YWlsYWJsZSBpbiBicm93c2VycyA8IElFOVxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRGF0ZS9ub3cjQ29tcGF0aWJpbGl0eVxudmFyIG5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xufTtcblxudmFyIHF1ZXVlID0gW107XG5cbmZ1bmN0aW9uIHNjaGVkdWxlRmx1c2goKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBlbnRyeSA9IHF1ZXVlW2ldO1xuXG4gICAgICB2YXIgcGF5bG9hZCA9IGVudHJ5LnBheWxvYWQ7XG5cbiAgICAgIHBheWxvYWQuZ3VpZCA9IHBheWxvYWQua2V5ICsgcGF5bG9hZC5pZDtcbiAgICAgIHBheWxvYWQuY2hpbGRHdWlkID0gcGF5bG9hZC5rZXkgKyBwYXlsb2FkLmNoaWxkSWQ7XG4gICAgICBpZiAocGF5bG9hZC5lcnJvcikge1xuICAgICAgICBwYXlsb2FkLnN0YWNrID0gcGF5bG9hZC5lcnJvci5zdGFjaztcbiAgICAgIH1cblxuICAgICAgY29uZmlnWyd0cmlnZ2VyJ10oZW50cnkubmFtZSwgZW50cnkucGF5bG9hZCk7XG4gICAgfVxuICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gIH0sIDUwKTtcbn1cblxuZnVuY3Rpb24gaW5zdHJ1bWVudChldmVudE5hbWUsIHByb21pc2UsIGNoaWxkKSB7XG4gIGlmICgxID09PSBxdWV1ZS5wdXNoKHtcbiAgICBuYW1lOiBldmVudE5hbWUsXG4gICAgcGF5bG9hZDoge1xuICAgICAga2V5OiBwcm9taXNlLl9ndWlkS2V5LFxuICAgICAgaWQ6IHByb21pc2UuX2lkLFxuICAgICAgZXZlbnROYW1lOiBldmVudE5hbWUsXG4gICAgICBkZXRhaWw6IHByb21pc2UuX3Jlc3VsdCxcbiAgICAgIGNoaWxkSWQ6IGNoaWxkICYmIGNoaWxkLl9pZCxcbiAgICAgIGxhYmVsOiBwcm9taXNlLl9sYWJlbCxcbiAgICAgIHRpbWVTdGFtcDogbm93KCksXG4gICAgICBlcnJvcjogY29uZmlnW1wiaW5zdHJ1bWVudC13aXRoLXN0YWNrXCJdID8gbmV3IEVycm9yKHByb21pc2UuX2xhYmVsKSA6IG51bGxcbiAgICB9IH0pKSB7XG4gICAgc2NoZWR1bGVGbHVzaCgpO1xuICB9XG59XG5cbi8qKlxuICBgUlNWUC5Qcm9taXNlLnJlc29sdmVgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVzb2x2ZWQgd2l0aCB0aGVcbiAgcGFzc2VkIGB2YWx1ZWAuIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUlNWUC5Qcm9taXNlLnJlc29sdmUoMSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZXNvbHZlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHsqfSBvYmplY3QgdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIHdpdGhcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgaWRlbnRpZnlpbmcgdGhlIHJldHVybmVkIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIGdpdmVuXG4gIGB2YWx1ZWBcbiovXG5mdW5jdGlvbiByZXNvbHZlJDEob2JqZWN0LCBsYWJlbCkge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmIChvYmplY3QgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0LmNvbnN0cnVjdG9yID09PSBDb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wLCBsYWJlbCk7XG4gIHJlc29sdmUocHJvbWlzZSwgb2JqZWN0KTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHdpdGhPd25Qcm9taXNlKCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIFBFTkRJTkcgPSB2b2lkIDA7XG52YXIgRlVMRklMTEVEID0gMTtcbnZhciBSRUpFQ1RFRCA9IDI7XG5cbnZhciBHRVRfVEhFTl9FUlJPUiA9IG5ldyBFcnJvck9iamVjdCgpO1xuXG5mdW5jdGlvbiBnZXRUaGVuKHByb21pc2UpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIEdFVF9USEVOX0VSUk9SLmVycm9yID0gZXJyb3I7XG4gICAgcmV0dXJuIEdFVF9USEVOX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeVRoZW4odGhlbiQkMSwgdmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcikge1xuICB0cnkge1xuICAgIHRoZW4kJDEuY2FsbCh2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvcmVpZ25UaGVuYWJsZShwcm9taXNlLCB0aGVuYWJsZSwgdGhlbiQkMSkge1xuICBjb25maWcuYXN5bmMoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuJCQxLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUsIHVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfVxuICB9LCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgdGhlbmFibGUuX29uRXJyb3IgPSBudWxsO1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUsIHVuZGVmaW5lZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQxKSB7XG4gIHZhciBpc093blRoZW5hYmxlID0gbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJiB0aGVuJCQxID09PSB0aGVuICYmIHByb21pc2UuY29uc3RydWN0b3IucmVzb2x2ZSA9PT0gcmVzb2x2ZSQxO1xuXG4gIGlmIChpc093blRoZW5hYmxlKSB7XG4gICAgaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gIH0gZWxzZSBpZiAodGhlbiQkMSA9PT0gR0VUX1RIRU5fRVJST1IpIHtcbiAgICByZWplY3QocHJvbWlzZSwgR0VUX1RIRU5fRVJST1IuZXJyb3IpO1xuICAgIEdFVF9USEVOX0VSUk9SLmVycm9yID0gbnVsbDtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoZW4kJDEpKSB7XG4gICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJDEpO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChvYmplY3RPckZ1bmN0aW9uKHZhbHVlKSkge1xuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIGdldFRoZW4odmFsdWUpKTtcbiAgfSBlbHNlIHtcbiAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgaWYgKHByb21pc2UuX29uRXJyb3IpIHtcbiAgICBwcm9taXNlLl9vbkVycm9yKHByb21pc2UuX3Jlc3VsdCk7XG4gIH1cblxuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBmdWxmaWxsKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHByb21pc2UuX3Jlc3VsdCA9IHZhbHVlO1xuICBwcm9taXNlLl9zdGF0ZSA9IEZVTEZJTExFRDtcblxuICBpZiAocHJvbWlzZS5fc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGNvbmZpZy5pbnN0cnVtZW50KSB7XG4gICAgICBpbnN0cnVtZW50KCdmdWxmaWxsZWQnLCBwcm9taXNlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnLmFzeW5jKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcbiAgY29uZmlnLmFzeW5jKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHN1YnNjcmliZXJzID0gcGFyZW50Ll9zdWJzY3JpYmVycztcbiAgdmFyIGxlbmd0aCA9IHN1YnNjcmliZXJzLmxlbmd0aDtcblxuICBwYXJlbnQuX29uRXJyb3IgPSBudWxsO1xuXG4gIHN1YnNjcmliZXJzW2xlbmd0aF0gPSBjaGlsZDtcbiAgc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIHN1YnNjcmliZXJzW2xlbmd0aCArIFJFSkVDVEVEXSA9IG9uUmVqZWN0aW9uO1xuXG4gIGlmIChsZW5ndGggPT09IDAgJiYgcGFyZW50Ll9zdGF0ZSkge1xuICAgIGNvbmZpZy5hc3luYyhwdWJsaXNoLCBwYXJlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2gocHJvbWlzZSkge1xuICB2YXIgc3Vic2NyaWJlcnMgPSBwcm9taXNlLl9zdWJzY3JpYmVycztcbiAgdmFyIHNldHRsZWQgPSBwcm9taXNlLl9zdGF0ZTtcblxuICBpZiAoY29uZmlnLmluc3RydW1lbnQpIHtcbiAgICBpbnN0cnVtZW50KHNldHRsZWQgPT09IEZVTEZJTExFRCA/ICdmdWxmaWxsZWQnIDogJ3JlamVjdGVkJywgcHJvbWlzZSk7XG4gIH1cblxuICBpZiAoc3Vic2NyaWJlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNoaWxkID0gdm9pZCAwLFxuICAgICAgY2FsbGJhY2sgPSB2b2lkIDAsXG4gICAgICByZXN1bHQgPSBwcm9taXNlLl9yZXN1bHQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgIGNoaWxkID0gc3Vic2NyaWJlcnNbaV07XG4gICAgY2FsbGJhY2sgPSBzdWJzY3JpYmVyc1tpICsgc2V0dGxlZF07XG5cbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIGNoaWxkLCBjYWxsYmFjaywgcmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2socmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICBwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggPSAwO1xufVxuXG5mdW5jdGlvbiBFcnJvck9iamVjdCgpIHtcbiAgdGhpcy5lcnJvciA9IG51bGw7XG59XG5cbnZhciBUUllfQ0FUQ0hfRVJST1IgPSBuZXcgRXJyb3JPYmplY3QoKTtcblxuZnVuY3Rpb24gdHJ5Q2F0Y2goY2FsbGJhY2ssIHJlc3VsdCkge1xuICB0cnkge1xuICAgIHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgVFJZX0NBVENIX0VSUk9SLmVycm9yID0gZTtcbiAgICByZXR1cm4gVFJZX0NBVENIX0VSUk9SO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHN0YXRlLCBwcm9taXNlLCBjYWxsYmFjaywgcmVzdWx0KSB7XG4gIHZhciBoYXNDYWxsYmFjayA9IGlzRnVuY3Rpb24oY2FsbGJhY2spO1xuICB2YXIgdmFsdWUgPSB2b2lkIDAsXG4gICAgICBlcnJvciA9IHZvaWQgMDtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB2YWx1ZSA9IHRyeUNhdGNoKGNhbGxiYWNrLCByZXN1bHQpO1xuXG4gICAgaWYgKHZhbHVlID09PSBUUllfQ0FUQ0hfRVJST1IpIHtcbiAgICAgIGVycm9yID0gdmFsdWUuZXJyb3I7XG4gICAgICB2YWx1ZS5lcnJvciA9IG51bGw7IC8vIHJlbGVhc2VcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBwcm9taXNlKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgd2l0aE93blByb21pc2UoKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgLy8gbm9vcFxuICB9IGVsc2UgaWYgKGhhc0NhbGxiYWNrICYmIGVycm9yID09PSB1bmRlZmluZWQpIHtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChlcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0aWFsaXplUHJvbWlzZShwcm9taXNlLCByZXNvbHZlcikge1xuICB2YXIgcmVzb2x2ZWQgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICByZXNvbHZlcihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3QocHJvbWlzZSwgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbiwgbGFiZWwpIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG4gIHZhciBzdGF0ZSA9IHBhcmVudC5fc3RhdGU7XG5cbiAgaWYgKHN0YXRlID09PSBGVUxGSUxMRUQgJiYgIW9uRnVsZmlsbG1lbnQgfHwgc3RhdGUgPT09IFJFSkVDVEVEICYmICFvblJlamVjdGlvbikge1xuICAgIGNvbmZpZy5pbnN0cnVtZW50ICYmIGluc3RydW1lbnQoJ2NoYWluZWQnLCBwYXJlbnQsIHBhcmVudCk7XG4gICAgcmV0dXJuIHBhcmVudDtcbiAgfVxuXG4gIHBhcmVudC5fb25FcnJvciA9IG51bGw7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHBhcmVudC5jb25zdHJ1Y3Rvcihub29wLCBsYWJlbCk7XG4gIHZhciByZXN1bHQgPSBwYXJlbnQuX3Jlc3VsdDtcblxuICBjb25maWcuaW5zdHJ1bWVudCAmJiBpbnN0cnVtZW50KCdjaGFpbmVkJywgcGFyZW50LCBjaGlsZCk7XG5cbiAgaWYgKHN0YXRlID09PSBQRU5ESU5HKSB7XG4gICAgc3Vic2NyaWJlKHBhcmVudCwgY2hpbGQsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBzdGF0ZSA9PT0gRlVMRklMTEVEID8gb25GdWxmaWxsbWVudCA6IG9uUmVqZWN0aW9uO1xuICAgIGNvbmZpZy5hc3luYyhmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soc3RhdGUsIGNoaWxkLCBjYWxsYmFjaywgcmVzdWx0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBjaGlsZDtcbn1cblxuZnVuY3Rpb24gRW51bWVyYXRvcihDb25zdHJ1Y3RvciwgaW5wdXQsIGFib3J0T25SZWplY3QsIGxhYmVsKSB7XG4gIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgdGhpcy5wcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3AsIGxhYmVsKTtcbiAgdGhpcy5fYWJvcnRPblJlamVjdCA9IGFib3J0T25SZWplY3Q7XG5cbiAgdGhpcy5faW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgaW5wdXQpIHtcbiAgdmFyIGxlbiA9IGlucHV0Lmxlbmd0aCB8fCAwO1xuICB0aGlzLmxlbmd0aCA9IGxlbjtcbiAgdGhpcy5fcmVtYWluaW5nID0gbGVuO1xuICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkobGVuKTtcblxuICB0aGlzLl9lbnVtZXJhdGUoaW5wdXQpO1xuICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gIH1cbn07XG5cbkVudW1lcmF0b3IucHJvdG90eXBlLl9lbnVtZXJhdGUgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgdmFyIGxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcblxuICBmb3IgKHZhciBpID0gMDsgcHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdGhpcy5fZWFjaEVudHJ5KGlucHV0W2ldLCBpKTtcbiAgfVxufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZU1heWJlVGhlbmFibGUgPSBmdW5jdGlvbiAoZW50cnksIGkpIHtcbiAgdmFyIGMgPSB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yO1xuICB2YXIgcmVzb2x2ZSQkMSA9IGMucmVzb2x2ZTtcblxuICBpZiAocmVzb2x2ZSQkMSA9PT0gcmVzb2x2ZSQxKSB7XG4gICAgdmFyIHRoZW4kJDEgPSBnZXRUaGVuKGVudHJ5KTtcblxuICAgIGlmICh0aGVuJCQxID09PSB0aGVuICYmIGVudHJ5Ll9zdGF0ZSAhPT0gUEVORElORykge1xuICAgICAgZW50cnkuX29uRXJyb3IgPSBudWxsO1xuICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiQkMSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG4gICAgICB0aGlzLl9yZXN1bHRbaV0gPSB0aGlzLl9tYWtlUmVzdWx0KEZVTEZJTExFRCwgaSwgZW50cnkpO1xuICAgIH0gZWxzZSBpZiAoYyA9PT0gUHJvbWlzZSkge1xuICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhub29wKTtcbiAgICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgZW50cnksIHRoZW4kJDEpO1xuICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24gKHJlc29sdmUkJDEpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUkJDEoZW50cnkpO1xuICAgICAgfSksIGkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl93aWxsU2V0dGxlQXQocmVzb2x2ZSQkMShlbnRyeSksIGkpO1xuICB9XG59O1xuXG5FbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gKGVudHJ5LCBpKSB7XG4gIGlmIChpc01heWJlVGhlbmFibGUoZW50cnkpKSB7XG4gICAgdGhpcy5fc2V0dGxlTWF5YmVUaGVuYWJsZShlbnRyeSwgaSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fcmVtYWluaW5nLS07XG4gICAgdGhpcy5fcmVzdWx0W2ldID0gdGhpcy5fbWFrZVJlc3VsdChGVUxGSUxMRUQsIGksIGVudHJ5KTtcbiAgfVxufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uIChzdGF0ZSwgaSwgdmFsdWUpIHtcbiAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cbiAgaWYgKHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HKSB7XG4gICAgaWYgKHRoaXMuX2Fib3J0T25SZWplY3QgJiYgc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IHRoaXMuX21ha2VSZXN1bHQoc3RhdGUsIGksIHZhbHVlKTtcbiAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuRW51bWVyYXRvci5wcm90b3R5cGUuX21ha2VSZXN1bHQgPSBmdW5jdGlvbiAoc3RhdGUsIGksIHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbkVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiAocHJvbWlzZSwgaSkge1xuICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgc3Vic2NyaWJlKHByb21pc2UsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChGVUxGSUxMRUQsIGksIHZhbHVlKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoUkVKRUNURUQsIGksIHJlYXNvbik7XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gbWFrZVNldHRsZWRSZXN1bHQoc3RhdGUsIHBvc2l0aW9uLCB2YWx1ZSkge1xuICBpZiAoc3RhdGUgPT09IEZVTEZJTExFRCkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0ZTogJ2Z1bGZpbGxlZCcsXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0ZTogJ3JlamVjdGVkJyxcbiAgICAgIHJlYXNvbjogdmFsdWVcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICBgUlNWUC5Qcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IFJTVlAucmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gUlNWUC5yZXNvbHZlKDIpO1xuICBsZXQgcHJvbWlzZTMgPSBSU1ZQLnJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFJTVlAuUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIFRoZSBhcnJheSBoZXJlIHdvdWxkIGJlIFsgMSwgMiwgMyBdO1xuICB9KTtcbiAgYGBgXG5cbiAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBSU1ZQLmFsbGAgYXJlIHJlamVjdGVkLCB0aGUgZmlyc3QgcHJvbWlzZVxuICB0aGF0IGlzIHJlamVjdGVkIHdpbGwgYmUgZ2l2ZW4gYXMgYW4gYXJndW1lbnQgdG8gdGhlIHJldHVybmVkIHByb21pc2VzJ3NcbiAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcihcIjJcIikpO1xuICBsZXQgcHJvbWlzZTMgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoXCIzXCIpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUlNWUC5Qcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gYWxsKGVudHJpZXMsIGxhYmVsKSB7XG4gIGlmICghaXNBcnJheShlbnRyaWVzKSkge1xuICAgIHJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKFwiUHJvbWlzZS5hbGwgbXVzdCBiZSBjYWxsZWQgd2l0aCBhbiBhcnJheVwiKSwgbGFiZWwpO1xuICB9XG4gIHJldHVybiBuZXcgRW51bWVyYXRvcih0aGlzLCBlbnRyaWVzLCB0cnVlIC8qIGFib3J0IG9uIHJlamVjdCAqLywgbGFiZWwpLnByb21pc2U7XG59XG5cbi8qKlxuICBgUlNWUC5Qcm9taXNlLnJhY2VgIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaCBpcyBzZXR0bGVkIGluIHRoZSBzYW1lIHdheSBhcyB0aGVcbiAgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gc2V0dGxlLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBuZXcgUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMicpO1xuICAgIH0sIDEwMCk7XG4gIH0pO1xuXG4gIFJTVlAuUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gcmVzdWx0ID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIGl0IHdhcyByZXNvbHZlZCBiZWZvcmUgcHJvbWlzZTFcbiAgICAvLyB3YXMgcmVzb2x2ZWQuXG4gIH0pO1xuICBgYGBcblxuICBgUlNWUC5Qcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMScpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuXG4gIGxldCBwcm9taXNlMiA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdwcm9taXNlIDInKSk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUlNWUC5Qcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBSU1ZQLlByb21pc2UucmFjZShbYWpheCgnZm9vLmpzb24nKSwgdGltZW91dCg1MDAwKV0pXG4gIGBgYFxuXG4gIEBtZXRob2QgcmFjZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QXJyYXl9IGVudHJpZXMgYXJyYXkgb2YgcHJvbWlzZXMgdG8gb2JzZXJ2ZVxuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBkZXNjcmliaW5nIHRoZSBwcm9taXNlIHJldHVybmVkLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB3aGljaCBzZXR0bGVzIGluIHRoZSBzYW1lIHdheSBhcyB0aGUgZmlyc3QgcGFzc2VkXG4gIHByb21pc2UgdG8gc2V0dGxlLlxuKi9cbmZ1bmN0aW9uIHJhY2UoZW50cmllcywgbGFiZWwpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wLCBsYWJlbCk7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIG5ldyBUeXBlRXJyb3IoJ1Byb21pc2UucmFjZSBtdXN0IGJlIGNhbGxlZCB3aXRoIGFuIGFycmF5JykpO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HICYmIGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgc3Vic2NyaWJlKENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSksIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8qKlxuICBgUlNWUC5Qcm9taXNlLnJlamVjdGAgcmV0dXJucyBhIHByb21pc2UgcmVqZWN0ZWQgd2l0aCB0aGUgcGFzc2VkIGByZWFzb25gLlxuICBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFJTVlAuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVqZWN0XG4gIEBzdGF0aWNcbiAgQHBhcmFtIHsqfSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGlkZW50aWZ5aW5nIHRoZSByZXR1cm5lZCBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBnaXZlbiBgcmVhc29uYC5cbiovXG5mdW5jdGlvbiByZWplY3QkMShyZWFzb24sIGxhYmVsKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3AsIGxhYmVsKTtcbiAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgZ3VpZEtleSA9ICdyc3ZwXycgKyBub3coKSArICctJztcbnZhciBjb3VudGVyID0gMDtcblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2XigJlzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZSByZWFzb25cbiAgd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgVGVybWlub2xvZ3lcbiAgLS0tLS0tLS0tLS1cblxuICAtIGBwcm9taXNlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gd2l0aCBhIGB0aGVuYCBtZXRob2Qgd2hvc2UgYmVoYXZpb3IgY29uZm9ybXMgdG8gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAtIGB0aGVuYWJsZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyBhIGB0aGVuYCBtZXRob2QuXG4gIC0gYHZhbHVlYCBpcyBhbnkgbGVnYWwgSmF2YVNjcmlwdCB2YWx1ZSAoaW5jbHVkaW5nIHVuZGVmaW5lZCwgYSB0aGVuYWJsZSwgb3IgYSBwcm9taXNlKS5cbiAgLSBgZXhjZXB0aW9uYCBpcyBhIHZhbHVlIHRoYXQgaXMgdGhyb3duIHVzaW5nIHRoZSB0aHJvdyBzdGF0ZW1lbnQuXG4gIC0gYHJlYXNvbmAgaXMgYSB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aHkgYSBwcm9taXNlIHdhcyByZWplY3RlZC5cbiAgLSBgc2V0dGxlZGAgdGhlIGZpbmFsIHJlc3Rpbmcgc3RhdGUgb2YgYSBwcm9taXNlLCBmdWxmaWxsZWQgb3IgcmVqZWN0ZWQuXG5cbiAgQSBwcm9taXNlIGNhbiBiZSBpbiBvbmUgb2YgdGhyZWUgc3RhdGVzOiBwZW5kaW5nLCBmdWxmaWxsZWQsIG9yIHJlamVjdGVkLlxuXG4gIFByb21pc2VzIHRoYXQgYXJlIGZ1bGZpbGxlZCBoYXZlIGEgZnVsZmlsbG1lbnQgdmFsdWUgYW5kIGFyZSBpbiB0aGUgZnVsZmlsbGVkXG4gIHN0YXRlLiAgUHJvbWlzZXMgdGhhdCBhcmUgcmVqZWN0ZWQgaGF2ZSBhIHJlamVjdGlvbiByZWFzb24gYW5kIGFyZSBpbiB0aGVcbiAgcmVqZWN0ZWQgc3RhdGUuICBBIGZ1bGZpbGxtZW50IHZhbHVlIGlzIG5ldmVyIGEgdGhlbmFibGUuXG5cbiAgUHJvbWlzZXMgY2FuIGFsc28gYmUgc2FpZCB0byAqcmVzb2x2ZSogYSB2YWx1ZS4gIElmIHRoaXMgdmFsdWUgaXMgYWxzbyBhXG4gIHByb21pc2UsIHRoZW4gdGhlIG9yaWdpbmFsIHByb21pc2UncyBzZXR0bGVkIHN0YXRlIHdpbGwgbWF0Y2ggdGhlIHZhbHVlJ3NcbiAgc2V0dGxlZCBzdGF0ZS4gIFNvIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aWxsXG4gIGl0c2VsZiByZWplY3QsIGFuZCBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpbGxcbiAgaXRzZWxmIGZ1bGZpbGwuXG5cblxuICBCYXNpYyBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tXG5cbiAgYGBganNcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAvLyBvbiBzdWNjZXNzXG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG5cbiAgICAvLyBvbiBmYWlsdXJlXG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgQWR2YW5jZWQgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLS0tLVxuXG4gIFByb21pc2VzIHNoaW5lIHdoZW4gYWJzdHJhY3RpbmcgYXdheSBhc3luY2hyb25vdXMgaW50ZXJhY3Rpb25zIHN1Y2ggYXNcbiAgYFhNTEh0dHBSZXF1ZXN0YHMuXG5cbiAgYGBganNcbiAgZnVuY3Rpb24gZ2V0SlNPTih1cmwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlcjtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHRoaXMuRE9ORSkge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdnZXRKU09OOiBgJyArIHVybCArICdgIGZhaWxlZCB3aXRoIHN0YXR1czogWycgKyB0aGlzLnN0YXR1cyArICddJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEpTT04oJy9wb3N0cy5qc29uJykudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBVbmxpa2UgY2FsbGJhY2tzLCBwcm9taXNlcyBhcmUgZ3JlYXQgY29tcG9zYWJsZSBwcmltaXRpdmVzLlxuXG4gIGBgYGpzXG4gIFByb21pc2UuYWxsKFtcbiAgICBnZXRKU09OKCcvcG9zdHMnKSxcbiAgICBnZXRKU09OKCcvY29tbWVudHMnKVxuICBdKS50aGVuKGZ1bmN0aW9uKHZhbHVlcyl7XG4gICAgdmFsdWVzWzBdIC8vID0+IHBvc3RzSlNPTlxuICAgIHZhbHVlc1sxXSAvLyA9PiBjb21tZW50c0pTT05cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0pO1xuICBgYGBcblxuICBAY2xhc3MgUlNWUC5Qcm9taXNlXG4gIEBwYXJhbSB7ZnVuY3Rpb259IHJlc29sdmVyXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEBjb25zdHJ1Y3RvclxuKi9cbmZ1bmN0aW9uIFByb21pc2UocmVzb2x2ZXIsIGxhYmVsKSB7XG4gIHRoaXMuX2lkID0gY291bnRlcisrO1xuICB0aGlzLl9sYWJlbCA9IGxhYmVsO1xuICB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5fcmVzdWx0ID0gdW5kZWZpbmVkO1xuICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gIGNvbmZpZy5pbnN0cnVtZW50ICYmIGluc3RydW1lbnQoJ2NyZWF0ZWQnLCB0aGlzKTtcblxuICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICB0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicgJiYgbmVlZHNSZXNvbHZlcigpO1xuICAgIHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlID8gaW5pdGlhbGl6ZVByb21pc2UodGhpcywgcmVzb2x2ZXIpIDogbmVlZHNOZXcoKTtcbiAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBjb25maWcuYWZ0ZXIoZnVuY3Rpb24gKCkge1xuICAgIGlmIChfdGhpcy5fb25FcnJvcikge1xuICAgICAgY29uZmlnLnRyaWdnZXIoJ2Vycm9yJywgcmVhc29uLCBfdGhpcy5fbGFiZWwpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGZpbmRBdXRob3IoKXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkblxcJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICB9XG5cbiAgLy8gc3luY2hyb25vdXNcbiAgdHJ5IHtcbiAgICBmaW5kQXV0aG9yKCk7XG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfVxuXG4gIC8vIGFzeW5jIHdpdGggcHJvbWlzZXNcbiAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgY2F0Y2hcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiovXG5Qcm9taXNlLnByb3RvdHlwZS5jYXRjaCA9IGZ1bmN0aW9uIChvblJlamVjdGlvbiwgbGFiZWwpIHtcbiAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0aW9uLCBsYWJlbCk7XG59O1xuXG4vKipcbiAgYGZpbmFsbHlgIHdpbGwgYmUgaW52b2tlZCByZWdhcmRsZXNzIG9mIHRoZSBwcm9taXNlJ3MgZmF0ZSBqdXN0IGFzIG5hdGl2ZVxuICB0cnkvY2F0Y2gvZmluYWxseSBiZWhhdmVzXG5cbiAgU3luY2hyb25vdXMgZXhhbXBsZTpcblxuICBgYGBqc1xuICBmaW5kQXV0aG9yKCkge1xuICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC41KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBBdXRob3IoKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gIH0gY2F0Y2goZXJyb3IpIHtcbiAgICByZXR1cm4gZmluZE90aGVyQXV0aG9yKCk7XG4gIH0gZmluYWxseSB7XG4gICAgLy8gYWx3YXlzIHJ1bnNcbiAgICAvLyBkb2Vzbid0IGFmZmVjdCB0aGUgcmV0dXJuIHZhbHVlXG4gIH1cbiAgYGBgXG5cbiAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG5cbiAgYGBganNcbiAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgcmV0dXJuIGZpbmRPdGhlckF1dGhvcigpO1xuICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7XG4gICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBmaW5hbGx5XG4gIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9XG4qL1xuUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgbGFiZWwpIHtcbiAgdmFyIHByb21pc2UgPSB0aGlzO1xuICB2YXIgY29uc3RydWN0b3IgPSBwcm9taXNlLmNvbnN0cnVjdG9yO1xuXG4gIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IHJlYXNvbjtcbiAgICB9KTtcbiAgfSwgbGFiZWwpO1xufTtcblxuUHJvbWlzZS5jYXN0ID0gcmVzb2x2ZSQxOyAvLyBkZXByZWNhdGVkXG5Qcm9taXNlLmFsbCA9IGFsbDtcblByb21pc2UucmFjZSA9IHJhY2U7XG5Qcm9taXNlLnJlc29sdmUgPSByZXNvbHZlJDE7XG5Qcm9taXNlLnJlamVjdCA9IHJlamVjdCQxO1xuXG5Qcm9taXNlLnByb3RvdHlwZS5fZ3VpZEtleSA9IGd1aWRLZXk7XG5cbi8qKlxuICBUaGUgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCxcbiAgd2hpY2ggcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGVcbiAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbih1c2VyKXtcbiAgICAvLyB1c2VyIGlzIGF2YWlsYWJsZVxuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHVzZXIgaXMgdW5hdmFpbGFibGUsIGFuZCB5b3UgYXJlIGdpdmVuIHRoZSByZWFzb24gd2h5XG4gIH0pO1xuICBgYGBcblxuICBDaGFpbmluZ1xuICAtLS0tLS0tLVxuXG4gIFRoZSByZXR1cm4gdmFsdWUgb2YgYHRoZW5gIGlzIGl0c2VsZiBhIHByb21pc2UuICBUaGlzIHNlY29uZCwgJ2Rvd25zdHJlYW0nXG4gIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmaXJzdCBwcm9taXNlJ3MgZnVsZmlsbG1lbnRcbiAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG5cbiAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgcmV0dXJuIHVzZXIubmFtZTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiAnZGVmYXVsdCBuYW1lJztcbiAgfSkudGhlbihmdW5jdGlvbiAodXNlck5hbWUpIHtcbiAgICAvLyBJZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHVzZXJOYW1lYCB3aWxsIGJlIHRoZSB1c2VyJ3MgbmFtZSwgb3RoZXJ3aXNlIGl0XG4gICAgLy8gd2lsbCBiZSBgJ2RlZmF1bHQgbmFtZSdgXG4gIH0pO1xuXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2VcXCdyZSB1bmhhcHB5Jyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gaWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGByZWFzb25gIHdpbGwgYmUgJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jy5cbiAgICAvLyBJZiBgZmluZFVzZXJgIHJlamVjdGVkLCBgcmVhc29uYCB3aWxsIGJlICdgZmluZFVzZXJgIHJlamVjdGVkIGFuZCB3ZVxcJ3JlIHVuaGFwcHknLlxuICB9KTtcbiAgYGBgXG4gIElmIHRoZSBkb3duc3RyZWFtIHByb21pc2UgZG9lcyBub3Qgc3BlY2lmeSBhIHJlamVjdGlvbiBoYW5kbGVyLCByZWplY3Rpb24gcmVhc29ucyB3aWxsIGJlIHByb3BhZ2F0ZWQgZnVydGhlciBkb3duc3RyZWFtLlxuXG4gIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBQZWRhZ29naWNhbEV4Y2VwdGlvbignVXBzdHJlYW0gZXJyb3InKTtcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gVGhlIGBQZWRnYWdvY2lhbEV4Y2VwdGlvbmAgaXMgcHJvcGFnYXRlZCBhbGwgdGhlIHdheSBkb3duIHRvIGhlcmVcbiAgfSk7XG4gIGBgYFxuXG4gIEFzc2ltaWxhdGlvblxuICAtLS0tLS0tLS0tLS1cblxuICBTb21ldGltZXMgdGhlIHZhbHVlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSB0byBhIGRvd25zdHJlYW0gcHJvbWlzZSBjYW4gb25seSBiZVxuICByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJldHVybmluZyBhIHByb21pc2UgaW4gdGhlXG4gIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBoYW5kbGVyLiBUaGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgdGhlbiBiZSBwZW5kaW5nXG4gIHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHNldHRsZWQuIFRoaXMgaXMgY2FsbGVkICphc3NpbWlsYXRpb24qLlxuXG4gIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBUaGUgdXNlcidzIGNvbW1lbnRzIGFyZSBub3cgYXZhaWxhYmxlXG4gIH0pO1xuICBgYGBcblxuICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cblxuICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCBmdWxmaWxscywgd2UnbGwgaGF2ZSB0aGUgdmFsdWUgaGVyZVxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCByZWplY3RzLCB3ZSdsbCBoYXZlIHRoZSByZWFzb24gaGVyZVxuICB9KTtcbiAgYGBgXG5cbiAgU2ltcGxlIEV4YW1wbGVcbiAgLS0tLS0tLS0tLS0tLS1cblxuICBTeW5jaHJvbm91cyBFeGFtcGxlXG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcmVzdWx0O1xuXG4gIHRyeSB7XG4gICAgcmVzdWx0ID0gZmluZFJlc3VsdCgpO1xuICAgIC8vIHN1Y2Nlc3NcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAvLyBmYWlsdXJlXG4gIH1cbiAgYGBgXG5cbiAgRXJyYmFjayBFeGFtcGxlXG5cbiAgYGBganNcbiAgZmluZFJlc3VsdChmdW5jdGlvbihyZXN1bHQsIGVycil7XG4gICAgaWYgKGVycikge1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfVxuICB9KTtcbiAgYGBgXG5cbiAgUHJvbWlzZSBFeGFtcGxlO1xuXG4gIGBgYGphdmFzY3JpcHRcbiAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBzdWNjZXNzXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gZmFpbHVyZVxuICB9KTtcbiAgYGBgXG5cbiAgQWR2YW5jZWQgRXhhbXBsZVxuICAtLS0tLS0tLS0tLS0tLVxuXG4gIFN5bmNocm9ub3VzIEV4YW1wbGVcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhdXRob3IsIGJvb2tzO1xuXG4gIHRyeSB7XG4gICAgYXV0aG9yID0gZmluZEF1dGhvcigpO1xuICAgIGJvb2tzICA9IGZpbmRCb29rc0J5QXV0aG9yKGF1dGhvcik7XG4gICAgLy8gc3VjY2Vzc1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAgIC8vIGZhaWx1cmVcbiAgfVxuICBgYGBcblxuICBFcnJiYWNrIEV4YW1wbGVcblxuICBgYGBqc1xuXG4gIGZ1bmN0aW9uIGZvdW5kQm9va3MoYm9va3MpIHtcblxuICB9XG5cbiAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcblxuICB9XG5cbiAgZmluZEF1dGhvcihmdW5jdGlvbihhdXRob3IsIGVycil7XG4gICAgaWYgKGVycikge1xuICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBmaW5kQm9vb2tzQnlBdXRob3IoYXV0aG9yLCBmdW5jdGlvbihib29rcywgZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3VuZEJvb2tzKGJvb2tzKTtcbiAgICAgICAgICAgIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgICAgICAgICAgIGZhaWx1cmUocmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICB9XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfVxuICB9KTtcbiAgYGBgXG5cbiAgUHJvbWlzZSBFeGFtcGxlO1xuXG4gIGBgYGphdmFzY3JpcHRcbiAgZmluZEF1dGhvcigpLlxuICAgIHRoZW4oZmluZEJvb2tzQnlBdXRob3IpLlxuICAgIHRoZW4oZnVuY3Rpb24oYm9va3Mpe1xuICAgICAgLy8gZm91bmQgYm9va3NcbiAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCB0aGVuXG4gIEBwYXJhbSB7RnVuY3Rpb259IG9uRnVsZmlsbG1lbnRcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgbGFiZWxpbmcgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiovXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gdGhlbjtcblxuZnVuY3Rpb24gUmVzdWx0KCkge1xuICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xufVxuXG52YXIgRVJST1IgPSBuZXcgUmVzdWx0KCk7XG52YXIgR0VUX1RIRU5fRVJST1IkMSA9IG5ldyBSZXN1bHQoKTtcblxuZnVuY3Rpb24gZ2V0VGhlbiQxKG9iaikge1xuICB0cnkge1xuICAgIHJldHVybiBvYmoudGhlbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBFUlJPUi52YWx1ZSA9IGVycm9yO1xuICAgIHJldHVybiBFUlJPUjtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cnlBcHBseShmLCBzLCBhKSB7XG4gIHRyeSB7XG4gICAgZi5hcHBseShzLCBhKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBFUlJPUi52YWx1ZSA9IGVycm9yO1xuICAgIHJldHVybiBFUlJPUjtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlT2JqZWN0KF8sIGFyZ3VtZW50TmFtZXMpIHtcbiAgdmFyIG9iaiA9IHt9O1xuICB2YXIgbGVuZ3RoID0gXy5sZW5ndGg7XG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGxlbmd0aCk7XG5cbiAgZm9yICh2YXIgeCA9IDA7IHggPCBsZW5ndGg7IHgrKykge1xuICAgIGFyZ3NbeF0gPSBfW3hdO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5hbWUgPSBhcmd1bWVudE5hbWVzW2ldO1xuICAgIG9ialtuYW1lXSA9IGFyZ3NbaSArIDFdO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gYXJyYXlSZXN1bHQoXykge1xuICB2YXIgbGVuZ3RoID0gXy5sZW5ndGg7XG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGxlbmd0aCAtIDEpO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBhcmdzW2kgLSAxXSA9IF9baV07XG4gIH1cblxuICByZXR1cm4gYXJncztcbn1cblxuZnVuY3Rpb24gd3JhcFRoZW5hYmxlKHRoZW4sIHByb21pc2UpIHtcbiAgcmV0dXJuIHtcbiAgICB0aGVuOiBmdW5jdGlvbiAob25GdWxGaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHJldHVybiB0aGVuLmNhbGwocHJvbWlzZSwgb25GdWxGaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gIGBSU1ZQLmRlbm9kZWlmeWAgdGFrZXMgYSAnbm9kZS1zdHlsZScgZnVuY3Rpb24gYW5kIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0XG4gIHdpbGwgcmV0dXJuIGFuIGBSU1ZQLlByb21pc2VgLiBZb3UgY2FuIHVzZSBgZGVub2RlaWZ5YCBpbiBOb2RlLmpzIG9yIHRoZVxuICBicm93c2VyIHdoZW4geW91J2QgcHJlZmVyIHRvIHVzZSBwcm9taXNlcyBvdmVyIHVzaW5nIGNhbGxiYWNrcy4gRm9yIGV4YW1wbGUsXG4gIGBkZW5vZGVpZnlgIHRyYW5zZm9ybXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbiAgZnMucmVhZEZpbGUoJ215ZmlsZS50eHQnLCBmdW5jdGlvbihlcnIsIGRhdGEpe1xuICAgIGlmIChlcnIpIHJldHVybiBoYW5kbGVFcnJvcihlcnIpO1xuICAgIGhhbmRsZURhdGEoZGF0YSk7XG4gIH0pO1xuICBgYGBcblxuICBpbnRvOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgbGV0IHJlYWRGaWxlID0gUlNWUC5kZW5vZGVpZnkoZnMucmVhZEZpbGUpO1xuXG4gIHJlYWRGaWxlKCdteWZpbGUudHh0JykudGhlbihoYW5kbGVEYXRhLCBoYW5kbGVFcnJvcik7XG4gIGBgYFxuXG4gIElmIHRoZSBub2RlIGZ1bmN0aW9uIGhhcyBtdWx0aXBsZSBzdWNjZXNzIHBhcmFtZXRlcnMsIHRoZW4gYGRlbm9kZWlmeWBcbiAganVzdCByZXR1cm5zIHRoZSBmaXJzdCBvbmU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcmVxdWVzdCA9IFJTVlAuZGVub2RlaWZ5KHJlcXVpcmUoJ3JlcXVlc3QnKSk7XG5cbiAgcmVxdWVzdCgnaHR0cDovL2V4YW1wbGUuY29tJykudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAvLyAuLi5cbiAgfSk7XG4gIGBgYFxuXG4gIEhvd2V2ZXIsIGlmIHlvdSBuZWVkIGFsbCBzdWNjZXNzIHBhcmFtZXRlcnMsIHNldHRpbmcgYGRlbm9kZWlmeWAnc1xuICBzZWNvbmQgcGFyYW1ldGVyIHRvIGB0cnVlYCBjYXVzZXMgaXQgdG8gcmV0dXJuIGFsbCBzdWNjZXNzIHBhcmFtZXRlcnNcbiAgYXMgYW4gYXJyYXk6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcmVxdWVzdCA9IFJTVlAuZGVub2RlaWZ5KHJlcXVpcmUoJ3JlcXVlc3QnKSwgdHJ1ZSk7XG5cbiAgcmVxdWVzdCgnaHR0cDovL2V4YW1wbGUuY29tJykudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAvLyByZXN1bHRbMF0gLT4gcmVzXG4gICAgLy8gcmVzdWx0WzFdIC0+IGJvZHlcbiAgfSk7XG4gIGBgYFxuXG4gIE9yIGlmIHlvdSBwYXNzIGl0IGFuIGFycmF5IHdpdGggbmFtZXMgaXQgcmV0dXJucyB0aGUgcGFyYW1ldGVycyBhcyBhIGhhc2g6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcmVxdWVzdCA9IFJTVlAuZGVub2RlaWZ5KHJlcXVpcmUoJ3JlcXVlc3QnKSwgWydyZXMnLCAnYm9keSddKTtcblxuICByZXF1ZXN0KCdodHRwOi8vZXhhbXBsZS5jb20nKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgIC8vIHJlc3VsdC5yZXNcbiAgICAvLyByZXN1bHQuYm9keVxuICB9KTtcbiAgYGBgXG5cbiAgU29tZXRpbWVzIHlvdSBuZWVkIHRvIHJldGFpbiB0aGUgYHRoaXNgOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IGFwcCA9IHJlcXVpcmUoJ2V4cHJlc3MnKSgpO1xuICBsZXQgcmVuZGVyID0gUlNWUC5kZW5vZGVpZnkoYXBwLnJlbmRlci5iaW5kKGFwcCkpO1xuICBgYGBcblxuICBUaGUgZGVub2RpZmllZCBmdW5jdGlvbiBpbmhlcml0cyBmcm9tIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi4gSXQgd29ya3MgaW4gYWxsXG4gIGVudmlyb25tZW50cywgZXhjZXB0IElFIDEwIGFuZCBiZWxvdy4gQ29uc2VxdWVudGx5IGFsbCBwcm9wZXJ0aWVzIG9mIHRoZSBvcmlnaW5hbFxuICBmdW5jdGlvbiBhcmUgYXZhaWxhYmxlIHRvIHlvdS4gSG93ZXZlciwgYW55IHByb3BlcnRpZXMgeW91IGNoYW5nZSBvbiB0aGVcbiAgZGVub2RlaWZpZWQgZnVuY3Rpb24gd29uJ3QgYmUgY2hhbmdlZCBvbiB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcmVxdWVzdCA9IFJTVlAuZGVub2RlaWZ5KHJlcXVpcmUoJ3JlcXVlc3QnKSksXG4gICAgICBjb29raWVKYXIgPSByZXF1ZXN0LmphcigpOyAvLyA8LSBJbmhlcml0YW5jZSBpcyB1c2VkIGhlcmVcblxuICByZXF1ZXN0KCdodHRwOi8vZXhhbXBsZS5jb20nLCB7amFyOiBjb29raWVKYXJ9KS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgIC8vIGNvb2tpZUphci5jb29raWVzIGhvbGRzIG5vdyB0aGUgY29va2llcyByZXR1cm5lZCBieSBleGFtcGxlLmNvbVxuICB9KTtcbiAgYGBgXG5cbiAgVXNpbmcgYGRlbm9kZWlmeWAgbWFrZXMgaXQgZWFzaWVyIHRvIGNvbXBvc2UgYXN5bmNocm9ub3VzIG9wZXJhdGlvbnMgaW5zdGVhZFxuICBvZiB1c2luZyBjYWxsYmFja3MuIEZvciBleGFtcGxlLCBpbnN0ZWFkIG9mOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IGZzID0gcmVxdWlyZSgnZnMnKTtcblxuICBmcy5yZWFkRmlsZSgnbXlmaWxlLnR4dCcsIGZ1bmN0aW9uKGVyciwgZGF0YSl7XG4gICAgaWYgKGVycikgeyAuLi4gfSAvLyBIYW5kbGUgZXJyb3JcbiAgICBmcy53cml0ZUZpbGUoJ215ZmlsZTIudHh0JywgZGF0YSwgZnVuY3Rpb24oZXJyKXtcbiAgICAgIGlmIChlcnIpIHsgLi4uIH0gLy8gSGFuZGxlIGVycm9yXG4gICAgICBjb25zb2xlLmxvZygnZG9uZScpXG4gICAgfSk7XG4gIH0pO1xuICBgYGBcblxuICB5b3UgY2FuIGNoYWluIHRoZSBvcGVyYXRpb25zIHRvZ2V0aGVyIHVzaW5nIGB0aGVuYCBmcm9tIHRoZSByZXR1cm5lZCBwcm9taXNlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgbGV0IHJlYWRGaWxlID0gUlNWUC5kZW5vZGVpZnkoZnMucmVhZEZpbGUpO1xuICBsZXQgd3JpdGVGaWxlID0gUlNWUC5kZW5vZGVpZnkoZnMud3JpdGVGaWxlKTtcblxuICByZWFkRmlsZSgnbXlmaWxlLnR4dCcpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgcmV0dXJuIHdyaXRlRmlsZSgnbXlmaWxlMi50eHQnLCBkYXRhKTtcbiAgfSkudGhlbihmdW5jdGlvbigpe1xuICAgIGNvbnNvbGUubG9nKCdkb25lJylcbiAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipe1xuICAgIC8vIEhhbmRsZSBlcnJvclxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBkZW5vZGVpZnlcbiAgQHN0YXRpY1xuICBAZm9yIFJTVlBcbiAgQHBhcmFtIHtGdW5jdGlvbn0gbm9kZUZ1bmMgYSAnbm9kZS1zdHlsZScgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIGNhbGxiYWNrIGFzXG4gIGl0cyBsYXN0IGFyZ3VtZW50LiBUaGUgY2FsbGJhY2sgZXhwZWN0cyBhbiBlcnJvciB0byBiZSBwYXNzZWQgYXMgaXRzIGZpcnN0XG4gIGFyZ3VtZW50IChpZiBhbiBlcnJvciBvY2N1cnJlZCwgb3RoZXJ3aXNlIG51bGwpLCBhbmQgdGhlIHZhbHVlIGZyb20gdGhlXG4gIG9wZXJhdGlvbiBhcyBpdHMgc2Vjb25kIGFyZ3VtZW50ICgnZnVuY3Rpb24oZXJyLCB2YWx1ZSl7IH0nKS5cbiAgQHBhcmFtIHtCb29sZWFufEFycmF5fSBbb3B0aW9uc10gQW4gb3B0aW9uYWwgcGFyYW10ZXIgdGhhdCBpZiBzZXRcbiAgdG8gYHRydWVgIGNhdXNlcyB0aGUgcHJvbWlzZSB0byBmdWxmaWxsIHdpdGggdGhlIGNhbGxiYWNrJ3Mgc3VjY2VzcyBhcmd1bWVudHNcbiAgYXMgYW4gYXJyYXkuIFRoaXMgaXMgdXNlZnVsIGlmIHRoZSBub2RlIGZ1bmN0aW9uIGhhcyBtdWx0aXBsZSBzdWNjZXNzXG4gIHBhcmFtdGVycy4gSWYgeW91IHNldCB0aGlzIHBhcmFtdGVyIHRvIGFuIGFycmF5IHdpdGggbmFtZXMsIHRoZSBwcm9taXNlIHdpbGxcbiAgZnVsZmlsbCB3aXRoIGEgaGFzaCB3aXRoIHRoZXNlIG5hbWVzIGFzIGtleXMgYW5kIHRoZSBzdWNjZXNzIHBhcmFtZXRlcnMgYXNcbiAgdmFsdWVzLlxuICBAcmV0dXJuIHtGdW5jdGlvbn0gYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBub2RlRnVuY2AgdG8gcmV0dXJuIGFuXG4gIGBSU1ZQLlByb21pc2VgXG4gIEBzdGF0aWNcbiovXG5mdW5jdGlvbiBkZW5vZGVpZnkobm9kZUZ1bmMsIG9wdGlvbnMpIHtcbiAgdmFyIGZuID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkobCArIDEpO1xuICAgIHZhciBwcm9taXNlSW5wdXQgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICB2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBpZiAoIXByb21pc2VJbnB1dCkge1xuICAgICAgICAvLyBUT0RPOiBjbGVhbiB0aGlzIHVwXG4gICAgICAgIHByb21pc2VJbnB1dCA9IG5lZWRzUHJvbWlzZUlucHV0KGFyZyk7XG4gICAgICAgIGlmIChwcm9taXNlSW5wdXQgPT09IEdFVF9USEVOX0VSUk9SJDEpIHtcbiAgICAgICAgICB2YXIgcCA9IG5ldyBQcm9taXNlKG5vb3ApO1xuICAgICAgICAgIHJlamVjdChwLCBHRVRfVEhFTl9FUlJPUiQxLnZhbHVlKTtcbiAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9taXNlSW5wdXQgJiYgcHJvbWlzZUlucHV0ICE9PSB0cnVlKSB7XG4gICAgICAgICAgYXJnID0gd3JhcFRoZW5hYmxlKHByb21pc2VJbnB1dCwgYXJnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJnc1tpXSA9IGFyZztcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKG5vb3ApO1xuXG4gICAgYXJnc1tsXSA9IGZ1bmN0aW9uIChlcnIsIHZhbCkge1xuICAgICAgaWYgKGVycikgcmVqZWN0KHByb21pc2UsIGVycik7ZWxzZSBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkKSByZXNvbHZlKHByb21pc2UsIHZhbCk7ZWxzZSBpZiAob3B0aW9ucyA9PT0gdHJ1ZSkgcmVzb2x2ZShwcm9taXNlLCBhcnJheVJlc3VsdChhcmd1bWVudHMpKTtlbHNlIGlmIChpc0FycmF5KG9wdGlvbnMpKSByZXNvbHZlKHByb21pc2UsIG1ha2VPYmplY3QoYXJndW1lbnRzLCBvcHRpb25zKSk7ZWxzZSByZXNvbHZlKHByb21pc2UsIHZhbCk7XG4gICAgfTtcblxuICAgIGlmIChwcm9taXNlSW5wdXQpIHtcbiAgICAgIHJldHVybiBoYW5kbGVQcm9taXNlSW5wdXQocHJvbWlzZSwgYXJncywgbm9kZUZ1bmMsIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGFuZGxlVmFsdWVJbnB1dChwcm9taXNlLCBhcmdzLCBub2RlRnVuYywgc2VsZik7XG4gICAgfVxuICB9O1xuXG4gIGZuLl9fcHJvdG9fXyA9IG5vZGVGdW5jO1xuXG4gIHJldHVybiBmbjtcbn1cblxuZnVuY3Rpb24gaGFuZGxlVmFsdWVJbnB1dChwcm9taXNlLCBhcmdzLCBub2RlRnVuYywgc2VsZikge1xuICB2YXIgcmVzdWx0ID0gdHJ5QXBwbHkobm9kZUZ1bmMsIHNlbGYsIGFyZ3MpO1xuICBpZiAocmVzdWx0ID09PSBFUlJPUikge1xuICAgIHJlamVjdChwcm9taXNlLCByZXN1bHQudmFsdWUpO1xuICB9XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQcm9taXNlSW5wdXQocHJvbWlzZSwgYXJncywgbm9kZUZ1bmMsIHNlbGYpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGFyZ3MpLnRoZW4oZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgcmVzdWx0ID0gdHJ5QXBwbHkobm9kZUZ1bmMsIHNlbGYsIGFyZ3MpO1xuICAgIGlmIChyZXN1bHQgPT09IEVSUk9SKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVzdWx0LnZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBuZWVkc1Byb21pc2VJbnB1dChhcmcpIHtcbiAgaWYgKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChhcmcuY29uc3RydWN0b3IgPT09IFByb21pc2UpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0VGhlbiQxKGFyZyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAgVGhpcyBpcyBhIGNvbnZlbmllbnQgYWxpYXMgZm9yIGBSU1ZQLlByb21pc2UuYWxsYC5cblxuICBAbWV0aG9kIGFsbFxuICBAc3RhdGljXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0ge0FycmF5fSBhcnJheSBBcnJheSBvZiBwcm9taXNlcy5cbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIEFuIG9wdGlvbmFsIGxhYmVsLiBUaGlzIGlzIHVzZWZ1bFxuICBmb3IgdG9vbGluZy5cbiovXG5mdW5jdGlvbiBhbGwkMShhcnJheSwgbGFiZWwpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGFycmF5LCBsYWJlbCk7XG59XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEFsbFNldHRsZWQgPSBmdW5jdGlvbiAoX0VudW1lcmF0b3IpIHtcbiAgX2luaGVyaXRzKEFsbFNldHRsZWQsIF9FbnVtZXJhdG9yKTtcblxuICBmdW5jdGlvbiBBbGxTZXR0bGVkKENvbnN0cnVjdG9yLCBlbnRyaWVzLCBsYWJlbCkge1xuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfRW51bWVyYXRvci5jYWxsKHRoaXMsIENvbnN0cnVjdG9yLCBlbnRyaWVzLCBmYWxzZSAvKiBkb24ndCBhYm9ydCBvbiByZWplY3QgKi8sIGxhYmVsKSk7XG4gIH1cblxuICByZXR1cm4gQWxsU2V0dGxlZDtcbn0oRW51bWVyYXRvcik7XG5cbkFsbFNldHRsZWQucHJvdG90eXBlLl9tYWtlUmVzdWx0ID0gbWFrZVNldHRsZWRSZXN1bHQ7XG5cbi8qKlxuYFJTVlAuYWxsU2V0dGxlZGAgaXMgc2ltaWxhciB0byBgUlNWUC5hbGxgLCBidXQgaW5zdGVhZCBvZiBpbXBsZW1lbnRpbmdcbmEgZmFpbC1mYXN0IG1ldGhvZCwgaXQgd2FpdHMgdW50aWwgYWxsIHRoZSBwcm9taXNlcyBoYXZlIHJldHVybmVkIGFuZFxuc2hvd3MgeW91IGFsbCB0aGUgcmVzdWx0cy4gVGhpcyBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gaGFuZGxlIG11bHRpcGxlXG5wcm9taXNlcycgZmFpbHVyZSBzdGF0ZXMgdG9nZXRoZXIgYXMgYSBzZXQuXG4gUmV0dXJucyBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBhbGwgdGhlIGdpdmVuIHByb21pc2VzIGhhdmUgYmVlblxuc2V0dGxlZC4gVGhlIHJldHVybiBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IG9mIHRoZSBzdGF0ZXMgb2ZcbnRoZSBwcm9taXNlcyBwYXNzZWQgaW50byB0aGUgYHByb21pc2VzYCBhcnJheSBhcmd1bWVudC5cbiBFYWNoIHN0YXRlIG9iamVjdCB3aWxsIGVpdGhlciBpbmRpY2F0ZSBmdWxmaWxsbWVudCBvciByZWplY3Rpb24sIGFuZFxucHJvdmlkZSB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvciByZWFzb24uIFRoZSBzdGF0ZXMgd2lsbCB0YWtlIG9uZSBvZlxudGhlIGZvbGxvd2luZyBmb3JtYXRzOlxuIGBgYGphdmFzY3JpcHRcbnsgc3RhdGU6ICdmdWxmaWxsZWQnLCB2YWx1ZTogdmFsdWUgfVxuICBvclxueyBzdGF0ZTogJ3JlamVjdGVkJywgcmVhc29uOiByZWFzb24gfVxuYGBgXG4gRXhhbXBsZTpcbiBgYGBqYXZhc2NyaXB0XG5sZXQgcHJvbWlzZTEgPSBSU1ZQLlByb21pc2UucmVzb2x2ZSgxKTtcbmxldCBwcm9taXNlMiA9IFJTVlAuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCcyJykpO1xubGV0IHByb21pc2UzID0gUlNWUC5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJzMnKSk7XG5sZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcbiBSU1ZQLmFsbFNldHRsZWQocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAvLyBhcnJheSA9PSBbXG4gIC8vICAgeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiAxIH0sXG4gIC8vICAgeyBzdGF0ZTogJ3JlamVjdGVkJywgcmVhc29uOiBFcnJvciB9LFxuICAvLyAgIHsgc3RhdGU6ICdyZWplY3RlZCcsIHJlYXNvbjogRXJyb3IgfVxuICAvLyBdXG4gIC8vIE5vdGUgdGhhdCBmb3IgdGhlIHNlY29uZCBpdGVtLCByZWFzb24ubWVzc2FnZSB3aWxsIGJlICcyJywgYW5kIGZvciB0aGVcbiAgLy8gdGhpcmQgaXRlbSwgcmVhc29uLm1lc3NhZ2Ugd2lsbCBiZSAnMycuXG59LCBmdW5jdGlvbihlcnJvcikge1xuICAvLyBOb3QgcnVuLiAoVGhpcyBibG9jayB3b3VsZCBvbmx5IGJlIGNhbGxlZCBpZiBhbGxTZXR0bGVkIGhhZCBmYWlsZWQsXG4gIC8vIGZvciBpbnN0YW5jZSBpZiBwYXNzZWQgYW4gaW5jb3JyZWN0IGFyZ3VtZW50IHR5cGUuKVxufSk7XG5gYGBcbiBAbWV0aG9kIGFsbFNldHRsZWRcbkBzdGF0aWNcbkBmb3IgUlNWUFxuQHBhcmFtIHtBcnJheX0gZW50cmllc1xuQHBhcmFtIHtTdHJpbmd9IGxhYmVsIC0gb3B0aW9uYWwgc3RyaW5nIHRoYXQgZGVzY3JpYmVzIHRoZSBwcm9taXNlLlxuVXNlZnVsIGZvciB0b29saW5nLlxuQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IG9mIHRoZSBzZXR0bGVkXG5zdGF0ZXMgb2YgdGhlIGNvbnN0aXR1ZW50IHByb21pc2VzLlxuKi9cblxuZnVuY3Rpb24gYWxsU2V0dGxlZChlbnRyaWVzLCBsYWJlbCkge1xuICBpZiAoIWlzQXJyYXkoZW50cmllcykpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihcIlByb21pc2UuYWxsU2V0dGxlZCBtdXN0IGJlIGNhbGxlZCB3aXRoIGFuIGFycmF5XCIpLCBsYWJlbCk7XG4gIH1cblxuICByZXR1cm4gbmV3IEFsbFNldHRsZWQoUHJvbWlzZSwgZW50cmllcywgbGFiZWwpLnByb21pc2U7XG59XG5cbi8qKlxuICBUaGlzIGlzIGEgY29udmVuaWVudCBhbGlhcyBmb3IgYFJTVlAuUHJvbWlzZS5yYWNlYC5cblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAZm9yIFJTVlBcbiAgQHBhcmFtIHtBcnJheX0gYXJyYXkgQXJyYXkgb2YgcHJvbWlzZXMuXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBBbiBvcHRpb25hbCBsYWJlbC4gVGhpcyBpcyB1c2VmdWxcbiAgZm9yIHRvb2xpbmcuXG4gKi9cbmZ1bmN0aW9uIHJhY2UkMShhcnJheSwgbGFiZWwpIHtcbiAgcmV0dXJuIFByb21pc2UucmFjZShhcnJheSwgbGFiZWwpO1xufVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiQxKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMkMShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgUHJvbWlzZUhhc2ggPSBmdW5jdGlvbiAoX0VudW1lcmF0b3IpIHtcbiAgX2luaGVyaXRzJDEoUHJvbWlzZUhhc2gsIF9FbnVtZXJhdG9yKTtcblxuICBmdW5jdGlvbiBQcm9taXNlSGFzaChDb25zdHJ1Y3Rvciwgb2JqZWN0KSB7XG4gICAgdmFyIGFib3J0T25SZWplY3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7XG4gICAgdmFyIGxhYmVsID0gYXJndW1lbnRzWzNdO1xuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiQxKHRoaXMsIF9FbnVtZXJhdG9yLmNhbGwodGhpcywgQ29uc3RydWN0b3IsIG9iamVjdCwgYWJvcnRPblJlamVjdCwgbGFiZWwpKTtcbiAgfVxuXG4gIFByb21pc2VIYXNoLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIF9pbml0KENvbnN0cnVjdG9yLCBvYmplY3QpIHtcbiAgICB0aGlzLl9yZXN1bHQgPSB7fTtcblxuICAgIHRoaXMuX2VudW1lcmF0ZShvYmplY3QpO1xuICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgIH1cbiAgfTtcblxuICBQcm9taXNlSGFzaC5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZTtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gICAgZm9yICh2YXIga2V5IGluIGlucHV0KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChpbnB1dCwga2V5KSkge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgIHBvc2l0aW9uOiBrZXksXG4gICAgICAgICAgZW50cnk6IGlucHV0W2tleV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxlbmd0aCA9IHJlc3VsdHMubGVuZ3RoO1xuICAgIHRoaXMuX3JlbWFpbmluZyA9IGxlbmd0aDtcbiAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IHByb21pc2UuX3N0YXRlID09PSBQRU5ESU5HICYmIGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0c1tpXTtcbiAgICAgIHRoaXMuX2VhY2hFbnRyeShyZXN1bHQuZW50cnksIHJlc3VsdC5wb3NpdGlvbik7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBQcm9taXNlSGFzaDtcbn0oRW51bWVyYXRvcik7XG5cbi8qKlxuICBgUlNWUC5oYXNoYCBpcyBzaW1pbGFyIHRvIGBSU1ZQLmFsbGAsIGJ1dCB0YWtlcyBhbiBvYmplY3QgaW5zdGVhZCBvZiBhbiBhcnJheVxuICBmb3IgaXRzIGBwcm9taXNlc2AgYXJndW1lbnQuXG5cbiAgUmV0dXJucyBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBhbGwgdGhlIGdpdmVuIHByb21pc2VzIGhhdmUgYmVlblxuICBmdWxmaWxsZWQsIG9yIHJlamVjdGVkIGlmIGFueSBvZiB0aGVtIGJlY29tZSByZWplY3RlZC4gVGhlIHJldHVybmVkIHByb21pc2VcbiAgaXMgZnVsZmlsbGVkIHdpdGggYSBoYXNoIHRoYXQgaGFzIHRoZSBzYW1lIGtleSBuYW1lcyBhcyB0aGUgYHByb21pc2VzYCBvYmplY3RcbiAgYXJndW1lbnQuIElmIGFueSBvZiB0aGUgdmFsdWVzIGluIHRoZSBvYmplY3QgYXJlIG5vdCBwcm9taXNlcywgdGhleSB3aWxsXG4gIHNpbXBseSBiZSBjb3BpZWQgb3ZlciB0byB0aGUgZnVsZmlsbGVkIG9iamVjdC5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2VzID0ge1xuICAgIG15UHJvbWlzZTogUlNWUC5yZXNvbHZlKDEpLFxuICAgIHlvdXJQcm9taXNlOiBSU1ZQLnJlc29sdmUoMiksXG4gICAgdGhlaXJQcm9taXNlOiBSU1ZQLnJlc29sdmUoMyksXG4gICAgbm90QVByb21pc2U6IDRcbiAgfTtcblxuICBSU1ZQLmhhc2gocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oaGFzaCl7XG4gICAgLy8gaGFzaCBoZXJlIGlzIGFuIG9iamVjdCB0aGF0IGxvb2tzIGxpa2U6XG4gICAgLy8ge1xuICAgIC8vICAgbXlQcm9taXNlOiAxLFxuICAgIC8vICAgeW91clByb21pc2U6IDIsXG4gICAgLy8gICB0aGVpclByb21pc2U6IDMsXG4gICAgLy8gICBub3RBUHJvbWlzZTogNFxuICAgIC8vIH1cbiAgfSk7XG4gIGBgYGBcblxuICBJZiBhbnkgb2YgdGhlIGBwcm9taXNlc2AgZ2l2ZW4gdG8gYFJTVlAuaGFzaGAgYXJlIHJlamVjdGVkLCB0aGUgZmlyc3QgcHJvbWlzZVxuICB0aGF0IGlzIHJlamVjdGVkIHdpbGwgYmUgZ2l2ZW4gYXMgdGhlIHJlYXNvbiB0byB0aGUgcmVqZWN0aW9uIGhhbmRsZXIuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlcyA9IHtcbiAgICBteVByb21pc2U6IFJTVlAucmVzb2x2ZSgxKSxcbiAgICByZWplY3RlZFByb21pc2U6IFJTVlAucmVqZWN0KG5ldyBFcnJvcigncmVqZWN0ZWRQcm9taXNlJykpLFxuICAgIGFub3RoZXJSZWplY3RlZFByb21pc2U6IFJTVlAucmVqZWN0KG5ldyBFcnJvcignYW5vdGhlclJlamVjdGVkUHJvbWlzZScpKSxcbiAgfTtcblxuICBSU1ZQLmhhc2gocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oaGFzaCl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncmVqZWN0ZWRQcm9taXNlJ1xuICB9KTtcbiAgYGBgXG5cbiAgQW4gaW1wb3J0YW50IG5vdGU6IGBSU1ZQLmhhc2hgIGlzIGludGVuZGVkIGZvciBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdHMgdGhhdFxuICBhcmUganVzdCBhIHNldCBvZiBrZXlzIGFuZCB2YWx1ZXMuIGBSU1ZQLmhhc2hgIHdpbGwgTk9UIHByZXNlcnZlIHByb3RvdHlwZVxuICBjaGFpbnMuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGZ1bmN0aW9uIE15Q29uc3RydWN0b3IoKXtcbiAgICB0aGlzLmV4YW1wbGUgPSBSU1ZQLnJlc29sdmUoJ0V4YW1wbGUnKTtcbiAgfVxuXG4gIE15Q29uc3RydWN0b3IucHJvdG90eXBlID0ge1xuICAgIHByb3RvUHJvcGVydHk6IFJTVlAucmVzb2x2ZSgnUHJvdG8gUHJvcGVydHknKVxuICB9O1xuXG4gIGxldCBteU9iamVjdCA9IG5ldyBNeUNvbnN0cnVjdG9yKCk7XG5cbiAgUlNWUC5oYXNoKG15T2JqZWN0KS50aGVuKGZ1bmN0aW9uKGhhc2gpe1xuICAgIC8vIHByb3RvUHJvcGVydHkgd2lsbCBub3QgYmUgcHJlc2VudCwgaW5zdGVhZCB5b3Ugd2lsbCBqdXN0IGhhdmUgYW5cbiAgICAvLyBvYmplY3QgdGhhdCBsb29rcyBsaWtlOlxuICAgIC8vIHtcbiAgICAvLyAgIGV4YW1wbGU6ICdFeGFtcGxlJ1xuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vIGhhc2guaGFzT3duUHJvcGVydHkoJ3Byb3RvUHJvcGVydHknKTsgLy8gZmFsc2VcbiAgICAvLyAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIGhhc2gucHJvdG9Qcm9wZXJ0eVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBoYXNoXG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyB0aGF0IGRlc2NyaWJlcyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIHByb3BlcnRpZXMgb2YgYHByb21pc2VzYFxuICBoYXZlIGJlZW4gZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuXG4qL1xuZnVuY3Rpb24gaGFzaChvYmplY3QsIGxhYmVsKSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKFwiUHJvbWlzZS5oYXNoIG11c3QgYmUgY2FsbGVkIHdpdGggYW4gb2JqZWN0XCIpLCBsYWJlbCk7XG4gIH1cblxuICByZXR1cm4gbmV3IFByb21pc2VIYXNoKFByb21pc2UsIG9iamVjdCwgbGFiZWwpLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJDIoc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyQyKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBIYXNoU2V0dGxlZCA9IGZ1bmN0aW9uIChfUHJvbWlzZUhhc2gpIHtcbiAgX2luaGVyaXRzJDIoSGFzaFNldHRsZWQsIF9Qcm9taXNlSGFzaCk7XG5cbiAgZnVuY3Rpb24gSGFzaFNldHRsZWQoQ29uc3RydWN0b3IsIG9iamVjdCwgbGFiZWwpIHtcbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4kMih0aGlzLCBfUHJvbWlzZUhhc2guY2FsbCh0aGlzLCBDb25zdHJ1Y3Rvciwgb2JqZWN0LCBmYWxzZSwgbGFiZWwpKTtcbiAgfVxuXG4gIHJldHVybiBIYXNoU2V0dGxlZDtcbn0oUHJvbWlzZUhhc2gpO1xuXG5IYXNoU2V0dGxlZC5wcm90b3R5cGUuX21ha2VSZXN1bHQgPSBtYWtlU2V0dGxlZFJlc3VsdDtcblxuLyoqXG4gIGBSU1ZQLmhhc2hTZXR0bGVkYCBpcyBzaW1pbGFyIHRvIGBSU1ZQLmFsbFNldHRsZWRgLCBidXQgdGFrZXMgYW4gb2JqZWN0XG4gIGluc3RlYWQgb2YgYW4gYXJyYXkgZm9yIGl0cyBgcHJvbWlzZXNgIGFyZ3VtZW50LlxuXG4gIFVubGlrZSBgUlNWUC5hbGxgIG9yIGBSU1ZQLmhhc2hgLCB3aGljaCBpbXBsZW1lbnQgYSBmYWlsLWZhc3QgbWV0aG9kLFxuICBidXQgbGlrZSBgUlNWUC5hbGxTZXR0bGVkYCwgYGhhc2hTZXR0bGVkYCB3YWl0cyB1bnRpbCBhbGwgdGhlXG4gIGNvbnN0aXR1ZW50IHByb21pc2VzIGhhdmUgcmV0dXJuZWQgYW5kIHRoZW4gc2hvd3MgeW91IGFsbCB0aGUgcmVzdWx0c1xuICB3aXRoIHRoZWlyIHN0YXRlcyBhbmQgdmFsdWVzL3JlYXNvbnMuIFRoaXMgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvXG4gIGhhbmRsZSBtdWx0aXBsZSBwcm9taXNlcycgZmFpbHVyZSBzdGF0ZXMgdG9nZXRoZXIgYXMgYSBzZXQuXG5cbiAgUmV0dXJucyBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBhbGwgdGhlIGdpdmVuIHByb21pc2VzIGhhdmUgYmVlblxuICBzZXR0bGVkLCBvciByZWplY3RlZCBpZiB0aGUgcGFzc2VkIHBhcmFtZXRlcnMgYXJlIGludmFsaWQuXG5cbiAgVGhlIHJldHVybmVkIHByb21pc2UgaXMgZnVsZmlsbGVkIHdpdGggYSBoYXNoIHRoYXQgaGFzIHRoZSBzYW1lIGtleSBuYW1lcyBhc1xuICB0aGUgYHByb21pc2VzYCBvYmplY3QgYXJndW1lbnQuIElmIGFueSBvZiB0aGUgdmFsdWVzIGluIHRoZSBvYmplY3QgYXJlIG5vdFxuICBwcm9taXNlcywgdGhleSB3aWxsIGJlIGNvcGllZCBvdmVyIHRvIHRoZSBmdWxmaWxsZWQgb2JqZWN0IGFuZCBtYXJrZWQgd2l0aCBzdGF0ZVxuICAnZnVsZmlsbGVkJy5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2VzID0ge1xuICAgIG15UHJvbWlzZTogUlNWUC5Qcm9taXNlLnJlc29sdmUoMSksXG4gICAgeW91clByb21pc2U6IFJTVlAuUHJvbWlzZS5yZXNvbHZlKDIpLFxuICAgIHRoZWlyUHJvbWlzZTogUlNWUC5Qcm9taXNlLnJlc29sdmUoMyksXG4gICAgbm90QVByb21pc2U6IDRcbiAgfTtcblxuICBSU1ZQLmhhc2hTZXR0bGVkKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGhhc2gpe1xuICAgIC8vIGhhc2ggaGVyZSBpcyBhbiBvYmplY3QgdGhhdCBsb29rcyBsaWtlOlxuICAgIC8vIHtcbiAgICAvLyAgIG15UHJvbWlzZTogeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiAxIH0sXG4gICAgLy8gICB5b3VyUHJvbWlzZTogeyBzdGF0ZTogJ2Z1bGZpbGxlZCcsIHZhbHVlOiAyIH0sXG4gICAgLy8gICB0aGVpclByb21pc2U6IHsgc3RhdGU6ICdmdWxmaWxsZWQnLCB2YWx1ZTogMyB9LFxuICAgIC8vICAgbm90QVByb21pc2U6IHsgc3RhdGU6ICdmdWxmaWxsZWQnLCB2YWx1ZTogNCB9XG4gICAgLy8gfVxuICB9KTtcbiAgYGBgXG5cbiAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBSU1ZQLmhhc2hgIGFyZSByZWplY3RlZCwgdGhlIHN0YXRlIHdpbGxcbiAgYmUgc2V0IHRvICdyZWplY3RlZCcgYW5kIHRoZSByZWFzb24gZm9yIHJlamVjdGlvbiBwcm92aWRlZC5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2VzID0ge1xuICAgIG15UHJvbWlzZTogUlNWUC5Qcm9taXNlLnJlc29sdmUoMSksXG4gICAgcmVqZWN0ZWRQcm9taXNlOiBSU1ZQLlByb21pc2UucmVqZWN0KG5ldyBFcnJvcigncmVqZWN0aW9uJykpLFxuICAgIGFub3RoZXJSZWplY3RlZFByb21pc2U6IFJTVlAuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdtb3JlIHJlamVjdGlvbicpKSxcbiAgfTtcblxuICBSU1ZQLmhhc2hTZXR0bGVkKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGhhc2gpe1xuICAgIC8vIGhhc2ggaGVyZSBpcyBhbiBvYmplY3QgdGhhdCBsb29rcyBsaWtlOlxuICAgIC8vIHtcbiAgICAvLyAgIG15UHJvbWlzZTogICAgICAgICAgICAgIHsgc3RhdGU6ICdmdWxmaWxsZWQnLCB2YWx1ZTogMSB9LFxuICAgIC8vICAgcmVqZWN0ZWRQcm9taXNlOiAgICAgICAgeyBzdGF0ZTogJ3JlamVjdGVkJywgcmVhc29uOiBFcnJvciB9LFxuICAgIC8vICAgYW5vdGhlclJlamVjdGVkUHJvbWlzZTogeyBzdGF0ZTogJ3JlamVjdGVkJywgcmVhc29uOiBFcnJvciB9LFxuICAgIC8vIH1cbiAgICAvLyBOb3RlIHRoYXQgZm9yIHJlamVjdGVkUHJvbWlzZSwgcmVhc29uLm1lc3NhZ2UgPT0gJ3JlamVjdGlvbicsXG4gICAgLy8gYW5kIGZvciBhbm90aGVyUmVqZWN0ZWRQcm9taXNlLCByZWFzb24ubWVzc2FnZSA9PSAnbW9yZSByZWplY3Rpb24nLlxuICB9KTtcbiAgYGBgXG5cbiAgQW4gaW1wb3J0YW50IG5vdGU6IGBSU1ZQLmhhc2hTZXR0bGVkYCBpcyBpbnRlbmRlZCBmb3IgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3RzIHRoYXRcbiAgYXJlIGp1c3QgYSBzZXQgb2Yga2V5cyBhbmQgdmFsdWVzLiBgUlNWUC5oYXNoU2V0dGxlZGAgd2lsbCBOT1QgcHJlc2VydmUgcHJvdG90eXBlXG4gIGNoYWlucy5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgZnVuY3Rpb24gTXlDb25zdHJ1Y3Rvcigpe1xuICAgIHRoaXMuZXhhbXBsZSA9IFJTVlAuUHJvbWlzZS5yZXNvbHZlKCdFeGFtcGxlJyk7XG4gIH1cblxuICBNeUNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IHtcbiAgICBwcm90b1Byb3BlcnR5OiBSU1ZQLlByb21pc2UucmVzb2x2ZSgnUHJvdG8gUHJvcGVydHknKVxuICB9O1xuXG4gIGxldCBteU9iamVjdCA9IG5ldyBNeUNvbnN0cnVjdG9yKCk7XG5cbiAgUlNWUC5oYXNoU2V0dGxlZChteU9iamVjdCkudGhlbihmdW5jdGlvbihoYXNoKXtcbiAgICAvLyBwcm90b1Byb3BlcnR5IHdpbGwgbm90IGJlIHByZXNlbnQsIGluc3RlYWQgeW91IHdpbGwganVzdCBoYXZlIGFuXG4gICAgLy8gb2JqZWN0IHRoYXQgbG9va3MgbGlrZTpcbiAgICAvLyB7XG4gICAgLy8gICBleGFtcGxlOiB7IHN0YXRlOiAnZnVsZmlsbGVkJywgdmFsdWU6ICdFeGFtcGxlJyB9XG4gICAgLy8gfVxuICAgIC8vXG4gICAgLy8gaGFzaC5oYXNPd25Qcm9wZXJ0eSgncHJvdG9Qcm9wZXJ0eScpOyAvLyBmYWxzZVxuICAgIC8vICd1bmRlZmluZWQnID09PSB0eXBlb2YgaGFzaC5wcm90b1Byb3BlcnR5XG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIGhhc2hTZXR0bGVkXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgdGhhdCBkZXNjcmliZXMgdGhlIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHdoZW4gYWxsIHByb3BlcnRpZXMgb2YgYHByb21pc2VzYFxuICBoYXZlIGJlZW4gc2V0dGxlZC5cbiAgQHN0YXRpY1xuKi9cblxuZnVuY3Rpb24gaGFzaFNldHRsZWQob2JqZWN0LCBsYWJlbCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihcIlJTVlAuaGFzaFNldHRsZWQgbXVzdCBiZSBjYWxsZWQgd2l0aCBhbiBvYmplY3RcIiksIGxhYmVsKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgSGFzaFNldHRsZWQoUHJvbWlzZSwgb2JqZWN0LCBmYWxzZSwgbGFiZWwpLnByb21pc2U7XG59XG5cbi8qKlxuICBgUlNWUC5yZXRocm93YCB3aWxsIHJldGhyb3cgYW4gZXJyb3Igb24gdGhlIG5leHQgdHVybiBvZiB0aGUgSmF2YVNjcmlwdCBldmVudFxuICBsb29wIGluIG9yZGVyIHRvIGFpZCBkZWJ1Z2dpbmcuXG5cbiAgUHJvbWlzZXMgQSsgc3BlY2lmaWVzIHRoYXQgYW55IGV4Y2VwdGlvbnMgdGhhdCBvY2N1ciB3aXRoIGEgcHJvbWlzZSBtdXN0IGJlXG4gIGNhdWdodCBieSB0aGUgcHJvbWlzZXMgaW1wbGVtZW50YXRpb24gYW5kIGJ1YmJsZWQgdG8gdGhlIGxhc3QgaGFuZGxlci4gRm9yXG4gIHRoaXMgcmVhc29uLCBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHlvdSBhbHdheXMgc3BlY2lmeSBhIHNlY29uZCByZWplY3Rpb25cbiAgaGFuZGxlciBmdW5jdGlvbiB0byBgdGhlbmAuIEhvd2V2ZXIsIGBSU1ZQLnJldGhyb3dgIHdpbGwgdGhyb3cgdGhlIGV4Y2VwdGlvblxuICBvdXRzaWRlIG9mIHRoZSBwcm9taXNlLCBzbyBpdCBidWJibGVzIHVwIHRvIHlvdXIgY29uc29sZSBpZiBpbiB0aGUgYnJvd3NlcixcbiAgb3IgZG9tYWluL2NhdXNlIHVuY2F1Z2h0IGV4Y2VwdGlvbiBpbiBOb2RlLiBgcmV0aHJvd2Agd2lsbCBhbHNvIHRocm93IHRoZVxuICBlcnJvciBhZ2FpbiBzbyB0aGUgZXJyb3IgY2FuIGJlIGhhbmRsZWQgYnkgdGhlIHByb21pc2UgcGVyIHRoZSBzcGVjLlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgZnVuY3Rpb24gdGhyb3dzKCl7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdXaG9vcHMhJyk7XG4gIH1cblxuICBsZXQgcHJvbWlzZSA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICB0aHJvd3MoKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS5jYXRjaChSU1ZQLnJldGhyb3cpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAvLyBDb2RlIGhlcmUgZG9lc24ndCBydW4gYmVjYXVzZSB0aGUgcHJvbWlzZSBiZWNhbWUgcmVqZWN0ZWQgZHVlIHRvIGFuXG4gICAgLy8gZXJyb3IhXG4gIH0sIGZ1bmN0aW9uIChlcnIpe1xuICAgIC8vIGhhbmRsZSB0aGUgZXJyb3IgaGVyZVxuICB9KTtcbiAgYGBgXG5cbiAgVGhlICdXaG9vcHMnIGVycm9yIHdpbGwgYmUgdGhyb3duIG9uIHRoZSBuZXh0IHR1cm4gb2YgdGhlIGV2ZW50IGxvb3BcbiAgYW5kIHlvdSBjYW4gd2F0Y2ggZm9yIGl0IGluIHlvdXIgY29uc29sZS4gWW91IGNhbiBhbHNvIGhhbmRsZSBpdCB1c2luZyBhXG4gIHJlamVjdGlvbiBoYW5kbGVyIGdpdmVuIHRvIGAudGhlbmAgb3IgYC5jYXRjaGAgb24gdGhlIHJldHVybmVkIHByb21pc2UuXG5cbiAgQG1ldGhvZCByZXRocm93XG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7RXJyb3J9IHJlYXNvbiByZWFzb24gdGhlIHByb21pc2UgYmVjYW1lIHJlamVjdGVkLlxuICBAdGhyb3dzIEVycm9yXG4gIEBzdGF0aWNcbiovXG5mdW5jdGlvbiByZXRocm93KHJlYXNvbikge1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB0aHJvdyByZWFzb247XG4gIH0pO1xuICB0aHJvdyByZWFzb247XG59XG5cbi8qKlxuICBgUlNWUC5kZWZlcmAgcmV0dXJucyBhbiBvYmplY3Qgc2ltaWxhciB0byBqUXVlcnkncyBgJC5EZWZlcnJlZGAuXG4gIGBSU1ZQLmRlZmVyYCBzaG91bGQgYmUgdXNlZCB3aGVuIHBvcnRpbmcgb3ZlciBjb2RlIHJlbGlhbnQgb24gYCQuRGVmZXJyZWRgJ3NcbiAgaW50ZXJmYWNlLiBOZXcgY29kZSBzaG91bGQgdXNlIHRoZSBgUlNWUC5Qcm9taXNlYCBjb25zdHJ1Y3RvciBpbnN0ZWFkLlxuXG4gIFRoZSBvYmplY3QgcmV0dXJuZWQgZnJvbSBgUlNWUC5kZWZlcmAgaXMgYSBwbGFpbiBvYmplY3Qgd2l0aCB0aHJlZSBwcm9wZXJ0aWVzOlxuXG4gICogcHJvbWlzZSAtIGFuIGBSU1ZQLlByb21pc2VgLlxuICAqIHJlamVjdCAtIGEgZnVuY3Rpb24gdGhhdCBjYXVzZXMgdGhlIGBwcm9taXNlYCBwcm9wZXJ0eSBvbiB0aGlzIG9iamVjdCB0b1xuICAgIGJlY29tZSByZWplY3RlZFxuICAqIHJlc29sdmUgLSBhIGZ1bmN0aW9uIHRoYXQgY2F1c2VzIHRoZSBgcHJvbWlzZWAgcHJvcGVydHkgb24gdGhpcyBvYmplY3QgdG9cbiAgICBiZWNvbWUgZnVsZmlsbGVkLlxuXG4gIEV4YW1wbGU6XG5cbiAgIGBgYGphdmFzY3JpcHRcbiAgIGxldCBkZWZlcnJlZCA9IFJTVlAuZGVmZXIoKTtcblxuICAgZGVmZXJyZWQucmVzb2x2ZShcIlN1Y2Nlc3MhXCIpO1xuXG4gICBkZWZlcnJlZC5wcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgICAvLyB2YWx1ZSBoZXJlIGlzIFwiU3VjY2VzcyFcIlxuICAgfSk7XG4gICBgYGBcblxuICBAbWV0aG9kIGRlZmVyXG4gIEBzdGF0aWNcbiAgQGZvciBSU1ZQXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBkZWZlcihsYWJlbCkge1xuICB2YXIgZGVmZXJyZWQgPSB7IHJlc29sdmU6IHVuZGVmaW5lZCwgcmVqZWN0OiB1bmRlZmluZWQgfTtcblxuICBkZWZlcnJlZC5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGRlZmVycmVkLnJlc29sdmUgPSByZXNvbHZlO1xuICAgIGRlZmVycmVkLnJlamVjdCA9IHJlamVjdDtcbiAgfSwgbGFiZWwpO1xuXG4gIHJldHVybiBkZWZlcnJlZDtcbn1cblxuLyoqXG4gYFJTVlAubWFwYCBpcyBzaW1pbGFyIHRvIEphdmFTY3JpcHQncyBuYXRpdmUgYG1hcGAgbWV0aG9kLCBleGNlcHQgdGhhdCBpdFxuICB3YWl0cyBmb3IgYWxsIHByb21pc2VzIHRvIGJlY29tZSBmdWxmaWxsZWQgYmVmb3JlIHJ1bm5pbmcgdGhlIGBtYXBGbmAgb25cbiAgZWFjaCBpdGVtIGluIGdpdmVuIHRvIGBwcm9taXNlc2AuIGBSU1ZQLm1hcGAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsXG4gIGJlY29tZSBmdWxmaWxsZWQgd2l0aCB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYG1hcEZuYCBvbiB0aGUgdmFsdWVzIHRoZSBwcm9taXNlc1xuICBiZWNvbWUgZnVsZmlsbGVkIHdpdGguXG5cbiAgRm9yIGV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuXG4gIGxldCBwcm9taXNlMSA9IFJTVlAucmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gUlNWUC5yZXNvbHZlKDIpO1xuICBsZXQgcHJvbWlzZTMgPSBSU1ZQLnJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIGxldCBtYXBGbiA9IGZ1bmN0aW9uKGl0ZW0pe1xuICAgIHJldHVybiBpdGVtICsgMTtcbiAgfTtcblxuICBSU1ZQLm1hcChwcm9taXNlcywgbWFwRm4pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgaXMgWyAyLCAzLCA0IF1cbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgUlNWUC5tYXBgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSByZXR1cm5lZCBwcm9taXNlJ3NcbiAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gUlNWUC5yZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJzInKSk7XG4gIGxldCBwcm9taXNlMyA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcignMycpKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgbGV0IG1hcEZuID0gZnVuY3Rpb24oaXRlbSl7XG4gICAgcmV0dXJuIGl0ZW0gKyAxO1xuICB9O1xuXG4gIFJTVlAubWFwKHByb21pc2VzLCBtYXBGbikudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAnMidcbiAgfSk7XG4gIGBgYFxuXG4gIGBSU1ZQLm1hcGAgd2lsbCBhbHNvIHdhaXQgaWYgYSBwcm9taXNlIGlzIHJldHVybmVkIGZyb20gYG1hcEZuYC4gRm9yIGV4YW1wbGUsXG4gIHNheSB5b3Ugd2FudCB0byBnZXQgYWxsIGNvbW1lbnRzIGZyb20gYSBzZXQgb2YgYmxvZyBwb3N0cywgYnV0IHlvdSBuZWVkXG4gIHRoZSBibG9nIHBvc3RzIGZpcnN0IGJlY2F1c2UgdGhleSBjb250YWluIGEgdXJsIHRvIHRob3NlIGNvbW1lbnRzLlxuXG4gIGBgYGphdnNjcmlwdFxuXG4gIGxldCBtYXBGbiA9IGZ1bmN0aW9uKGJsb2dQb3N0KXtcbiAgICAvLyBnZXRDb21tZW50cyBkb2VzIHNvbWUgYWpheCBhbmQgcmV0dXJucyBhbiBSU1ZQLlByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWRcbiAgICAvLyB3aXRoIHNvbWUgY29tbWVudHMgZGF0YVxuICAgIHJldHVybiBnZXRDb21tZW50cyhibG9nUG9zdC5jb21tZW50c191cmwpO1xuICB9O1xuXG4gIC8vIGdldEJsb2dQb3N0cyBkb2VzIHNvbWUgYWpheCBhbmQgcmV0dXJucyBhbiBSU1ZQLlByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWRcbiAgLy8gd2l0aCBzb21lIGJsb2cgcG9zdCBkYXRhXG4gIFJTVlAubWFwKGdldEJsb2dQb3N0cygpLCBtYXBGbikudGhlbihmdW5jdGlvbihjb21tZW50cyl7XG4gICAgLy8gY29tbWVudHMgaXMgdGhlIHJlc3VsdCBvZiBhc2tpbmcgdGhlIHNlcnZlciBmb3IgdGhlIGNvbW1lbnRzXG4gICAgLy8gb2YgYWxsIGJsb2cgcG9zdHMgcmV0dXJuZWQgZnJvbSBnZXRCbG9nUG9zdHMoKVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBtYXBcbiAgQHN0YXRpY1xuICBAZm9yIFJTVlBcbiAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXNcbiAgQHBhcmFtIHtGdW5jdGlvbn0gbWFwRm4gZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGVhY2ggZnVsZmlsbGVkIHByb21pc2UuXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2l0aCB0aGUgcmVzdWx0IG9mIGNhbGxpbmdcbiAgYG1hcEZuYCBvbiBlYWNoIGZ1bGZpbGxlZCBwcm9taXNlIG9yIHZhbHVlIHdoZW4gdGhleSBiZWNvbWUgZnVsZmlsbGVkLlxuICAgVGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCBpZiBhbnkgb2YgdGhlIGdpdmVuIGBwcm9taXNlc2AgYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZnVuY3Rpb24gbWFwKHByb21pc2VzLCBtYXBGbiwgbGFiZWwpIHtcbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKFwiUlNWUC5tYXAgbXVzdCBiZSBjYWxsZWQgd2l0aCBhbiBhcnJheVwiKSwgbGFiZWwpO1xuICB9XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKG1hcEZuKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKFwiUlNWUC5tYXAgZXhwZWN0cyBhIGZ1bmN0aW9uIGFzIGEgc2Vjb25kIGFyZ3VtZW50XCIpLCBsYWJlbCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMsIGxhYmVsKS50aGVuKGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICB2YXIgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcbiAgICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShsZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0c1tpXSA9IG1hcEZuKHZhbHVlc1tpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMsIGxhYmVsKTtcbiAgfSk7XG59XG5cbi8qKlxuICBUaGlzIGlzIGEgY29udmVuaWVudCBhbGlhcyBmb3IgYFJTVlAuUHJvbWlzZS5yZXNvbHZlYC5cblxuICBAbWV0aG9kIHJlc29sdmVcbiAgQHN0YXRpY1xuICBAZm9yIFJTVlBcbiAgQHBhcmFtIHsqfSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBpZGVudGlmeWluZyB0aGUgcmV0dXJuZWQgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSBmdWxmaWxsZWQgd2l0aCB0aGUgZ2l2ZW5cbiAgYHZhbHVlYFxuKi9cbmZ1bmN0aW9uIHJlc29sdmUkMih2YWx1ZSwgbGFiZWwpIHtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2YWx1ZSwgbGFiZWwpO1xufVxuXG4vKipcbiAgVGhpcyBpcyBhIGNvbnZlbmllbnQgYWxpYXMgZm9yIGBSU1ZQLlByb21pc2UucmVqZWN0YC5cblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBmb3IgUlNWUFxuICBAcGFyYW0geyp9IHJlYXNvbiB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aC5cbiAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgaWRlbnRpZnlpbmcgdGhlIHJldHVybmVkIHByb21pc2UuXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmZ1bmN0aW9uIHJlamVjdCQyKHJlYXNvbiwgbGFiZWwpIHtcbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbiwgbGFiZWwpO1xufVxuXG4vKipcbiBgUlNWUC5maWx0ZXJgIGlzIHNpbWlsYXIgdG8gSmF2YVNjcmlwdCdzIG5hdGl2ZSBgZmlsdGVyYCBtZXRob2QsIGV4Y2VwdCB0aGF0IGl0XG4gIHdhaXRzIGZvciBhbGwgcHJvbWlzZXMgdG8gYmVjb21lIGZ1bGZpbGxlZCBiZWZvcmUgcnVubmluZyB0aGUgYGZpbHRlckZuYCBvblxuICBlYWNoIGl0ZW0gaW4gZ2l2ZW4gdG8gYHByb21pc2VzYC4gYFJTVlAuZmlsdGVyYCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGxcbiAgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSByZXN1bHQgb2YgcnVubmluZyBgZmlsdGVyRm5gIG9uIHRoZSB2YWx1ZXMgdGhlXG4gIHByb21pc2VzIGJlY29tZSBmdWxmaWxsZWQgd2l0aC5cblxuICBGb3IgZXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG5cbiAgbGV0IHByb21pc2UxID0gUlNWUC5yZXNvbHZlKDEpO1xuICBsZXQgcHJvbWlzZTIgPSBSU1ZQLnJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IFJTVlAucmVzb2x2ZSgzKTtcblxuICBsZXQgcHJvbWlzZXMgPSBbcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlM107XG5cbiAgbGV0IGZpbHRlckZuID0gZnVuY3Rpb24oaXRlbSl7XG4gICAgcmV0dXJuIGl0ZW0gPiAxO1xuICB9O1xuXG4gIFJTVlAuZmlsdGVyKHByb21pc2VzLCBmaWx0ZXJGbikudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgIC8vIHJlc3VsdCBpcyBbIDIsIDMgXVxuICB9KTtcbiAgYGBgXG5cbiAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBSU1ZQLmZpbHRlcmAgYXJlIHJlamVjdGVkLCB0aGUgZmlyc3QgcHJvbWlzZVxuICB0aGF0IGlzIHJlamVjdGVkIHdpbGwgYmUgZ2l2ZW4gYXMgYW4gYXJndW1lbnQgdG8gdGhlIHJldHVybmVkIHByb21pc2Unc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcignMicpKTtcbiAgbGV0IHByb21pc2UzID0gUlNWUC5yZWplY3QobmV3IEVycm9yKCczJykpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBsZXQgZmlsdGVyRm4gPSBmdW5jdGlvbihpdGVtKXtcbiAgICByZXR1cm4gaXRlbSA+IDE7XG4gIH07XG5cbiAgUlNWUC5maWx0ZXIocHJvbWlzZXMsIGZpbHRlckZuKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVucyBiZWNhdXNlIHRoZXJlIGFyZSByZWplY3RlZCBwcm9taXNlcyFcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICcyJ1xuICB9KTtcbiAgYGBgXG5cbiAgYFJTVlAuZmlsdGVyYCB3aWxsIGFsc28gd2FpdCBmb3IgYW55IHByb21pc2VzIHJldHVybmVkIGZyb20gYGZpbHRlckZuYC5cbiAgRm9yIGluc3RhbmNlLCB5b3UgbWF5IHdhbnQgdG8gZmV0Y2ggYSBsaXN0IG9mIHVzZXJzIHRoZW4gcmV0dXJuIGEgc3Vic2V0XG4gIG9mIHRob3NlIHVzZXJzIGJhc2VkIG9uIHNvbWUgYXN5bmNocm9ub3VzIG9wZXJhdGlvbjpcblxuICBgYGBqYXZhc2NyaXB0XG5cbiAgbGV0IGFsaWNlID0geyBuYW1lOiAnYWxpY2UnIH07XG4gIGxldCBib2IgICA9IHsgbmFtZTogJ2JvYicgfTtcbiAgbGV0IHVzZXJzID0gWyBhbGljZSwgYm9iIF07XG5cbiAgbGV0IHByb21pc2VzID0gdXNlcnMubWFwKGZ1bmN0aW9uKHVzZXIpe1xuICAgIHJldHVybiBSU1ZQLnJlc29sdmUodXNlcik7XG4gIH0pO1xuXG4gIGxldCBmaWx0ZXJGbiA9IGZ1bmN0aW9uKHVzZXIpe1xuICAgIC8vIEhlcmUsIEFsaWNlIGhhcyBwZXJtaXNzaW9ucyB0byBjcmVhdGUgYSBibG9nIHBvc3QsIGJ1dCBCb2IgZG9lcyBub3QuXG4gICAgcmV0dXJuIGdldFByaXZpbGVnZXNGb3JVc2VyKHVzZXIpLnRoZW4oZnVuY3Rpb24ocHJpdnMpe1xuICAgICAgcmV0dXJuIHByaXZzLmNhbl9jcmVhdGVfYmxvZ19wb3N0ID09PSB0cnVlO1xuICAgIH0pO1xuICB9O1xuICBSU1ZQLmZpbHRlcihwcm9taXNlcywgZmlsdGVyRm4pLnRoZW4oZnVuY3Rpb24odXNlcnMpe1xuICAgIC8vIHRydWUsIGJlY2F1c2UgdGhlIHNlcnZlciB0b2xkIHVzIG9ubHkgQWxpY2UgY2FuIGNyZWF0ZSBhIGJsb2cgcG9zdC5cbiAgICB1c2Vycy5sZW5ndGggPT09IDE7XG4gICAgLy8gZmFsc2UsIGJlY2F1c2UgQWxpY2UgaXMgdGhlIG9ubHkgdXNlciBwcmVzZW50IGluIGB1c2Vyc2BcbiAgICB1c2Vyc1swXSA9PT0gYm9iO1xuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBmaWx0ZXJcbiAgQHN0YXRpY1xuICBAZm9yIFJTVlBcbiAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXNcbiAgQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyRm4gLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gZWFjaCByZXNvbHZlZCB2YWx1ZSB0b1xuICBmaWx0ZXIgdGhlIGZpbmFsIHJlc3VsdHMuXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZGVzY3JpYmluZyB0aGUgcHJvbWlzZS4gVXNlZnVsIGZvclxuICB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuKi9cblxuZnVuY3Rpb24gcmVzb2x2ZUFsbChwcm9taXNlcywgbGFiZWwpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzLCBsYWJlbCk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVTaW5nbGUocHJvbWlzZSwgbGFiZWwpIHtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9taXNlLCBsYWJlbCkudGhlbihmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICByZXR1cm4gcmVzb2x2ZUFsbChwcm9taXNlcywgbGFiZWwpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyKHByb21pc2VzLCBmaWx0ZXJGbiwgbGFiZWwpIHtcbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSAmJiAhKGlzT2JqZWN0KHByb21pc2VzKSAmJiBwcm9taXNlcy50aGVuICE9PSB1bmRlZmluZWQpKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJSU1ZQLmZpbHRlciBtdXN0IGJlIGNhbGxlZCB3aXRoIGFuIGFycmF5IG9yIHByb21pc2VcIiksIGxhYmVsKTtcbiAgfVxuXG4gIGlmICghaXNGdW5jdGlvbihmaWx0ZXJGbikpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcihcIlJTVlAuZmlsdGVyIGV4cGVjdHMgZnVuY3Rpb24gYXMgYSBzZWNvbmQgYXJndW1lbnRcIiksIGxhYmVsKTtcbiAgfVxuXG4gIHZhciBwcm9taXNlID0gaXNBcnJheShwcm9taXNlcykgPyByZXNvbHZlQWxsKHByb21pc2VzLCBsYWJlbCkgOiByZXNvbHZlU2luZ2xlKHByb21pc2VzLCBsYWJlbCk7XG4gIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlcykge1xuICAgIHZhciBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuICAgIHZhciBmaWx0ZXJlZCA9IG5ldyBBcnJheShsZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgZmlsdGVyZWRbaV0gPSBmaWx0ZXJGbih2YWx1ZXNbaV0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXNvbHZlQWxsKGZpbHRlcmVkLCBsYWJlbCkudGhlbihmdW5jdGlvbiAoZmlsdGVyZWQpIHtcbiAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICB2YXIgbmV3TGVuZ3RoID0gMDtcblxuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxlbmd0aDsgX2krKykge1xuICAgICAgICBpZiAoZmlsdGVyZWRbX2ldKSB7XG4gICAgICAgICAgcmVzdWx0c1tuZXdMZW5ndGhdID0gdmFsdWVzW19pXTtcbiAgICAgICAgICBuZXdMZW5ndGgrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXN1bHRzLmxlbmd0aCA9IG5ld0xlbmd0aDtcblxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfSk7XG4gIH0pO1xufVxuXG52YXIgbGVuID0gMDtcbnZhciB2ZXJ0eE5leHQgPSB2b2lkIDA7XG5mdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgcXVldWUkMVtsZW5dID0gY2FsbGJhY2s7XG4gIHF1ZXVlJDFbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDEsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIHNjaGVkdWxlRmx1c2gkMSgpO1xuICB9XG59XG5cbnZhciBicm93c2VyV2luZG93ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG52YXIgYnJvd3Nlckdsb2JhbCA9IGJyb3dzZXJXaW5kb3cgfHwge307XG52YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xudmFyIGlzTm9kZSA9IHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChwcm9jZXNzKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xuXG4vLyB0ZXN0IGZvciB3ZWIgd29ya2VyIGJ1dCBub3QgaW4gSUUxMFxudmFyIGlzV29ya2VyID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcblxuLy8gbm9kZVxuZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gIHZhciBuZXh0VGljayA9IHByb2Nlc3MubmV4dFRpY2s7XG4gIC8vIG5vZGUgdmVyc2lvbiAwLjEwLnggZGlzcGxheXMgYSBkZXByZWNhdGlvbiB3YXJuaW5nIHdoZW4gbmV4dFRpY2sgaXMgdXNlZCByZWN1cnNpdmVseVxuICAvLyBzZXRJbW1lZGlhdGUgc2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBpbnN0ZWFkXG4gIHZhciB2ZXJzaW9uID0gcHJvY2Vzcy52ZXJzaW9ucy5ub2RlLm1hdGNoKC9eKD86KFxcZCspXFwuKT8oPzooXFxkKylcXC4pPyhcXCp8XFxkKykkLyk7XG4gIGlmIChBcnJheS5pc0FycmF5KHZlcnNpb24pICYmIHZlcnNpb25bMV0gPT09ICcwJyAmJiB2ZXJzaW9uWzJdID09PSAnMTAnKSB7XG4gICAgbmV4dFRpY2sgPSBzZXRJbW1lZGlhdGU7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV4dFRpY2soZmx1c2gpO1xuICB9O1xufVxuXG4vLyB2ZXJ0eFxuZnVuY3Rpb24gdXNlVmVydHhUaW1lcigpIHtcbiAgaWYgKHR5cGVvZiB2ZXJ0eE5leHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZlcnR4TmV4dChmbHVzaCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBub2RlLmRhdGEgPSBpdGVyYXRpb25zID0gKytpdGVyYXRpb25zICUgMjtcbiAgfTtcbn1cblxuLy8gd2ViIHdvcmtlclxuZnVuY3Rpb24gdXNlTWVzc2FnZUNoYW5uZWwoKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZmx1c2g7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVNldFRpbWVvdXQoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUkMSA9IG5ldyBBcnJheSgxMDAwKTtcblxuZnVuY3Rpb24gZmx1c2goKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZSQxW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZSQxW2kgKyAxXTtcblxuICAgIGNhbGxiYWNrKGFyZyk7XG5cbiAgICBxdWV1ZSQxW2ldID0gdW5kZWZpbmVkO1xuICAgIHF1ZXVlJDFbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnRleCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgciA9IHJlcXVpcmU7XG4gICAgdmFyIHZlcnR4ID0gcigndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoJDEgPSB2b2lkIDA7XG4vLyBEZWNpZGUgd2hhdCBhc3luYyBtZXRob2QgdG8gdXNlIHRvIHRyaWdnZXJpbmcgcHJvY2Vzc2luZyBvZiBxdWV1ZWQgY2FsbGJhY2tzOlxuaWYgKGlzTm9kZSkge1xuICBzY2hlZHVsZUZsdXNoJDEgPSB1c2VOZXh0VGljaygpO1xufSBlbHNlIGlmIChCcm93c2VyTXV0YXRpb25PYnNlcnZlcikge1xuICBzY2hlZHVsZUZsdXNoJDEgPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2gkMSA9IHVzZU1lc3NhZ2VDaGFubmVsKCk7XG59IGVsc2UgaWYgKGJyb3dzZXJXaW5kb3cgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICBzY2hlZHVsZUZsdXNoJDEgPSBhdHRlbXB0VmVydGV4KCk7XG59IGVsc2Uge1xuICBzY2hlZHVsZUZsdXNoJDEgPSB1c2VTZXRUaW1lb3V0KCk7XG59XG5cbnZhciBwbGF0Zm9ybSA9IHZvaWQgMDtcblxuLyogZ2xvYmFsIHNlbGYgKi9cbmlmICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcpIHtcbiAgcGxhdGZvcm0gPSBzZWxmO1xuXG4gIC8qIGdsb2JhbCBnbG9iYWwgKi9cbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcpIHtcbiAgcGxhdGZvcm0gPSBnbG9iYWw7XG59IGVsc2Uge1xuICB0aHJvdyBuZXcgRXJyb3IoJ25vIGdsb2JhbDogYHNlbGZgIG9yIGBnbG9iYWxgIGZvdW5kJyk7XG59XG5cbnZhciBfYXNhcCRjYXN0JFByb21pc2UkRXY7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbi8vIGRlZmF1bHRzXG5jb25maWcuYXN5bmMgPSBhc2FwO1xuY29uZmlnLmFmdGVyID0gZnVuY3Rpb24gKGNiKSB7XG4gIHJldHVybiBzZXRUaW1lb3V0KGNiLCAwKTtcbn07XG52YXIgY2FzdCA9IHJlc29sdmUkMjtcblxudmFyIGFzeW5jID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBhcmcpIHtcbiAgcmV0dXJuIGNvbmZpZy5hc3luYyhjYWxsYmFjaywgYXJnKTtcbn07XG5cbmZ1bmN0aW9uIG9uKCkge1xuICBjb25maWdbJ29uJ10uYXBwbHkoY29uZmlnLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBvZmYoKSB7XG4gIGNvbmZpZ1snb2ZmJ10uYXBwbHkoY29uZmlnLCBhcmd1bWVudHMpO1xufVxuXG4vLyBTZXQgdXAgaW5zdHJ1bWVudGF0aW9uIHRocm91Z2ggYHdpbmRvdy5fX1BST01JU0VfSU5UUlVNRU5UQVRJT05fX2BcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93WydfX1BST01JU0VfSU5TVFJVTUVOVEFUSU9OX18nXSA9PT0gJ29iamVjdCcpIHtcbiAgdmFyIGNhbGxiYWNrcyA9IHdpbmRvd1snX19QUk9NSVNFX0lOU1RSVU1FTlRBVElPTl9fJ107XG4gIGNvbmZpZ3VyZSgnaW5zdHJ1bWVudCcsIHRydWUpO1xuICBmb3IgKHZhciBldmVudE5hbWUgaW4gY2FsbGJhY2tzKSB7XG4gICAgaWYgKGNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpKSB7XG4gICAgICBvbihldmVudE5hbWUsIGNhbGxiYWNrc1tldmVudE5hbWVdKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gdGhlIGRlZmF1bHQgZXhwb3J0IGhlcmUgaXMgZm9yIGJhY2t3YXJkcyBjb21wYXQ6XG4vLyAgIGh0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanMvaXNzdWVzLzQzNFxudmFyIHJzdnAgPSAoX2FzYXAkY2FzdCRQcm9taXNlJEV2ID0ge1xuICBhc2FwOiBhc2FwLFxuICBjYXN0OiBjYXN0LFxuICBQcm9taXNlOiBQcm9taXNlLFxuICBFdmVudFRhcmdldDogRXZlbnRUYXJnZXQsXG4gIGFsbDogYWxsJDEsXG4gIGFsbFNldHRsZWQ6IGFsbFNldHRsZWQsXG4gIHJhY2U6IHJhY2UkMSxcbiAgaGFzaDogaGFzaCxcbiAgaGFzaFNldHRsZWQ6IGhhc2hTZXR0bGVkLFxuICByZXRocm93OiByZXRocm93LFxuICBkZWZlcjogZGVmZXIsXG4gIGRlbm9kZWlmeTogZGVub2RlaWZ5LFxuICBjb25maWd1cmU6IGNvbmZpZ3VyZSxcbiAgb246IG9uLFxuICBvZmY6IG9mZixcbiAgcmVzb2x2ZTogcmVzb2x2ZSQyLFxuICByZWplY3Q6IHJlamVjdCQyLFxuICBtYXA6IG1hcFxufSwgX2RlZmluZVByb3BlcnR5KF9hc2FwJGNhc3QkUHJvbWlzZSRFdiwgJ2FzeW5jJywgYXN5bmMpLCBfZGVmaW5lUHJvcGVydHkoX2FzYXAkY2FzdCRQcm9taXNlJEV2LCAnZmlsdGVyJywgZmlsdGVyKSwgX2FzYXAkY2FzdCRQcm9taXNlJEV2KTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gcnN2cDtcbmV4cG9ydHMuYXNhcCA9IGFzYXA7XG5leHBvcnRzLmNhc3QgPSBjYXN0O1xuZXhwb3J0cy5Qcm9taXNlID0gUHJvbWlzZTtcbmV4cG9ydHMuRXZlbnRUYXJnZXQgPSBFdmVudFRhcmdldDtcbmV4cG9ydHMuYWxsID0gYWxsJDE7XG5leHBvcnRzLmFsbFNldHRsZWQgPSBhbGxTZXR0bGVkO1xuZXhwb3J0cy5yYWNlID0gcmFjZSQxO1xuZXhwb3J0cy5oYXNoID0gaGFzaDtcbmV4cG9ydHMuaGFzaFNldHRsZWQgPSBoYXNoU2V0dGxlZDtcbmV4cG9ydHMucmV0aHJvdyA9IHJldGhyb3c7XG5leHBvcnRzLmRlZmVyID0gZGVmZXI7XG5leHBvcnRzLmRlbm9kZWlmeSA9IGRlbm9kZWlmeTtcbmV4cG9ydHMuY29uZmlndXJlID0gY29uZmlndXJlO1xuZXhwb3J0cy5vbiA9IG9uO1xuZXhwb3J0cy5vZmYgPSBvZmY7XG5leHBvcnRzLnJlc29sdmUgPSByZXNvbHZlJDI7XG5leHBvcnRzLnJlamVjdCA9IHJlamVjdCQyO1xuZXhwb3J0cy5tYXAgPSBtYXA7XG5leHBvcnRzLmFzeW5jID0gYXN5bmM7XG5leHBvcnRzLmZpbHRlciA9IGZpbHRlcjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnN2cC5tYXBcbiJdfQ==\n"]}